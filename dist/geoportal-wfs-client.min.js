!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).GeoportalWfsClient=t()}(function(){return function n(i,s,o){function a(e,t){if(!s[e]){if(!i[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(h)return h(e,!0);throw(r=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",r}r=s[e]={exports:{}},i[e][0].call(r.exports,function(t){return a(i[e][1][t]||t)},r,r.exports,n,i,s,o)}return s[e].exports}for(var h="function"==typeof require&&require,t=0;t<o.length;t++)a(o[t]);return a}({1:[function(t,e,r){e.exports=t("./src/Client.js")},{"./src/Client.js":46}],2:[function(t,e,r){"use strict";function n(e){var r={type:"Feature"};return Object.keys(e).forEach(function(t){switch(t){case"type":case"properties":case"geometry":return;default:r[t]=e[t]}}),r.properties=function r(n){var i={};if(!n)return i;Object.keys(n).forEach(function(t){var e=n[t];"object"==typeof e?null===e?i[t]=null:Array.isArray(e)?i[t]=e.map(function(t){return t}):i[t]=r(e):i[t]=e});return i}(e.properties),r.geometry=i(e.geometry),r}function i(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?e.geometries=t.geometries.map(i):e.coordinates=function e(t){if("object"!=typeof t[0])return t.slice();return t.map(function(t){return e(t)})}(t.coordinates),e}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return n(t);case"FeatureCollection":return e=t,r={type:"FeatureCollection"},Object.keys(e).forEach(function(t){switch(t){case"type":case"features":return;default:r[t]=e[t]}}),r.features=e.features.map(n),r;case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return i(t);default:throw new Error("unknown GeoJSON type")}var e,r}},{}],3:[function(t,e,r){"use strict";var n=t("@turf/meta"),i=t("@turf/helpers");function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=s(t("@turf/clone"));function a(t,e){if(!i.isObject(e=e||{}))throw new Error("options is invalid");e=e.mutate;if(!t)throw new Error("geojson is required");return!1!==e&&void 0!==e||(t=o.default(t)),n.coordEach(t,function(t){var e=t[0],r=t[1];t[0]=r,t[1]=e}),t}e.exports=a,e.exports.default=a},{"@turf/clone":2,"@turf/helpers":4,"@turf/meta":5}],4:[function(t,e,n){"use strict";function a(t,e,r){var n={type:"Feature"};return 0!==(r=void 0===r?{}:r).id&&!r.id||(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function i(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!d(t[0])||!d(t[1]))throw new Error("coordinates must contain numbers");return a({type:"Point",coordinates:t},e,r)}function s(t,e,r){void 0===r&&(r={});for(var n=0,i=t;n<i.length;n++){var s=i[n];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<s[s.length-1].length;o++)if(s[s.length-1][o]!==s[0][o])throw new Error("First and last Position are not equivalent.")}return a({type:"Polygon",coordinates:t},e,r)}function o(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return a({type:"LineString",coordinates:t},e,r)}function h(t,e){var r={type:"FeatureCollection"};return(e=void 0===e?{}:e).id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function u(t,e,r){return a({type:"MultiLineString",coordinates:t},e,r=void 0===r?{}:r)}function c(t,e,r){return a({type:"MultiPoint",coordinates:t},e,r=void 0===r?{}:r)}function l(t,e,r){return a({type:"MultiPolygon",coordinates:t},e,r=void 0===r?{}:r)}function p(t,e){var r=n.factors[e=void 0===e?"kilometers":e];if(!r)throw new Error(e+" units is invalid");return t*r}function f(t,e){var r=n.factors[e=void 0===e?"kilometers":e];if(!r)throw new Error(e+" units is invalid");return t/r}function r(t){return 180*(t%(2*Math.PI))/Math.PI}function d(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.earthRadius=6371008.8,n.factors={centimeters:100*n.earthRadius,centimetres:100*n.earthRadius,degrees:n.earthRadius/111325,feet:3.28084*n.earthRadius,inches:39.37*n.earthRadius,kilometers:n.earthRadius/1e3,kilometres:n.earthRadius/1e3,meters:n.earthRadius,metres:n.earthRadius,miles:n.earthRadius/1609.344,millimeters:1e3*n.earthRadius,millimetres:1e3*n.earthRadius,nauticalmiles:n.earthRadius/1852,radians:1,yards:1.0936*n.earthRadius},n.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/n.earthRadius,yards:1.0936133},n.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},n.feature=a,n.geometry=function(t,e,r){switch(void 0===r&&(r={}),t){case"Point":return i(e).geometry;case"LineString":return o(e).geometry;case"Polygon":return s(e).geometry;case"MultiPoint":return c(e).geometry;case"MultiLineString":return u(e).geometry;case"MultiPolygon":return l(e).geometry;default:throw new Error(t+" is invalid")}},n.point=i,n.points=function(t,e,r){return void 0===r&&(r={}),h(t.map(function(t){return i(t,e)}),r)},n.polygon=s,n.polygons=function(t,e,r){return void 0===r&&(r={}),h(t.map(function(t){return s(t,e)}),r)},n.lineString=o,n.lineStrings=function(t,e,r){return void 0===r&&(r={}),h(t.map(function(t){return o(t,e)}),r)},n.featureCollection=h,n.multiLineString=u,n.multiPoint=c,n.multiPolygon=l,n.geometryCollection=function(t,e,r){return a({type:"GeometryCollection",geometries:t},e,r=void 0===r?{}:r)},n.round=function(t,e){if((e=void 0===e?0:e)&&!(0<=e))throw new Error("precision must be a positive number");return e=Math.pow(10,e||0),Math.round(t*e)/e},n.radiansToLength=p,n.lengthToRadians=f,n.lengthToDegrees=function(t,e){return r(f(t,e))},n.bearingToAzimuth=function(t){return(t%=360)<0&&(t+=360),t},n.radiansToDegrees=r,n.degreesToRadians=function(t){return t%360*Math.PI/180},n.convertLength=function(t,e,r){if(void 0===e&&(e="kilometers"),void 0===r&&(r="kilometers"),!(0<=t))throw new Error("length must be a positive number");return p(f(t,e),r)},n.convertArea=function(t,e,r){if(void 0===e&&(e="meters"),void 0===r&&(r="kilometers"),!(0<=t))throw new Error("area must be a positive number");if(!(e=n.areaFactors[e]))throw new Error("invalid original units");if(!(r=n.areaFactors[r]))throw new Error("invalid final units");return t/e*r},n.isNumber=d,n.isObject=function(t){return!!t&&t.constructor===Object},n.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!d(t))throw new Error("bbox must only contain numbers")})},n.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},{}],5:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var d=t("@turf/helpers");function x(t,e,r){if(null!==t)for(var n,i,s,o=0,a=t.type,h="FeatureCollection"===a,u="Feature"===a,c=h?t.features.length:1,l=0;l<c;l++)for(var p,f,d=(f=!!(p=h?t.features[l].geometry:u?t.geometry:t)&&"GeometryCollection"===p.type)?p.geometries.length:1,m=0;m<d;m++){var g,y=0,M=0;if(null!==(g=f?p.geometries[m]:p)){var v=g.coordinates,b=g.type,w=!r||"Polygon"!==b&&"MultiPolygon"!==b?0:1;switch(b){case null:break;case"Point":if(!1===e(v,o,l,y,M))return!1;o++,y++;break;case"LineString":case"MultiPoint":for(n=0;n<v.length;n++){if(!1===e(v[n],o,l,y,M))return!1;o++,"MultiPoint"===b&&y++}"LineString"===b&&y++;break;case"Polygon":case"MultiLineString":for(n=0;n<v.length;n++){for(i=0;i<v[n].length-w;i++){if(!1===e(v[n][i],o,l,y,M))return!1;o++}"MultiLineString"===b&&y++,"Polygon"===b&&M++}"Polygon"===b&&y++;break;case"MultiPolygon":for(n=0;n<v.length;n++){for(i=M=0;i<v[n].length;i++){for(s=0;s<v[n][i].length-w;s++){if(!1===e(v[n][i][s],o,l,y,M))return!1;o++}M++}y++}break;case"GeometryCollection":for(n=0;n<g.geometries.length;n++)if(!1===x(g.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}function s(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&!1!==e(t.features[r].properties,r);r++);break;case"Feature":e(t.properties,0)}}function o(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var r=0;r<t.features.length&&!1!==e(t.features[r],r);r++);}function n(t,e){for(var r,n,i,s,o,a,h,u,c,l=0,p="FeatureCollection"===t.type,f="Feature"===t.type,d=p?t.features.length:1,m=0;m<d;m++){for(o=p?t.features[m].geometry:f?t.geometry:t,h=p?t.features[m].properties:f?t.properties:{},u=p?t.features[m].bbox:f?t.bbox:void 0,c=p?t.features[m].id:f?t.id:void 0,s=(a=!!o&&"GeometryCollection"===o.type)?o.geometries.length:1,n=0;n<s;n++)if(null!==(i=a?o.geometries[n]:o))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(i,l,h,u,c))return!1;break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)if(!1===e(i.geometries[r],l,h,u,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,l,h,u,c))return!1;l++}}function a(t,u){n(t,function(t,e,r,n,i){var s,o=null===t?null:t.type;switch(o){case null:case"Point":case"LineString":case"Polygon":return!1===u(d.feature(t,r,{bbox:n,id:i}),e,0)?!1:void 0}switch(o){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var a=0;a<t.coordinates.length;a++){var h=t.coordinates[a];if(!1===u(d.feature({type:s,coordinates:h},r),e,a))return!1}})}function i(t,f){a(t,function(s,o,a){var h=0;if(s.geometry){var t=s.geometry.type;if("Point"!==t&&"MultiPoint"!==t){var u,c=0,l=0,p=0;return!1!==x(s,function(t,e,r,n,i){if(void 0===u||c<o||l<n||p<i)return u=t,c=o,l=n,p=i,void(h=0);n=d.lineString([u,t],s.properties);if(!1===f(n,o,a,i,h))return!1;h++,u=t})&&void 0}}})}function h(t,o){if(!t)throw new Error("geojson is required");a(t,function(t,e,r){if(null!==t.geometry){var n=t.geometry.type,i=t.geometry.coordinates;switch(n){case"LineString":if(!1===o(t,e,r,0,0))return!1;break;case"Polygon":for(var s=0;s<i.length;s++)if(!1===o(d.lineString(i[s],t.properties),e,r,s))return!1}}})}r.coordAll=function(t){var e=[];return x(t,function(t){e.push(t)}),e},r.coordEach=x,r.coordReduce=function(t,s,o,e){var a=o;return x(t,function(t,e,r,n,i){a=0===e&&void 0===o?t:s(a,t,e,r,n,i)},e),a},r.featureEach=o,r.featureReduce=function(t,r,n){var i=n;return o(t,function(t,e){i=0===e&&void 0===n?t:r(i,t,e)}),i},r.findPoint=function(t,e){if(!d.isObject(e=e||{}))throw new Error("options is invalid");var r,n=e.featureIndex||0,i=e.multiFeatureIndex||0,s=e.geometryIndex||0,o=e.coordIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),a=a||t.features[n].properties,r=t.features[n].geometry;break;case"Feature":a=a||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var h=r.coordinates;switch(r.type){case"Point":return d.point(h,a,e);case"MultiPoint":return i<0&&(i=h.length+i),d.point(h[i],a,e);case"LineString":return o<0&&(o=h.length+o),d.point(h[o],a,e);case"Polygon":return s<0&&(s=h.length+s),o<0&&(o=h[s].length+o),d.point(h[s][o],a,e);case"MultiLineString":return i<0&&(i=h.length+i),o<0&&(o=h[i].length+o),d.point(h[i][o],a,e);case"MultiPolygon":return i<0&&(i=h.length+i),s<0&&(s=h[i].length+s),o<0&&(o=h[i][s].length-o),d.point(h[i][s][o],a,e)}throw new Error("geojson is invalid")},r.findSegment=function(t,e){if(!d.isObject(e=e||{}))throw new Error("options is invalid");var r,n=e.featureIndex||0,i=e.multiFeatureIndex||0,s=e.geometryIndex||0,o=e.segmentIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),a=a||t.features[n].properties,r=t.features[n].geometry;break;case"Feature":a=a||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var h=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=h.length+o-1),d.lineString([h[o],h[o+1]],a,e);case"Polygon":return s<0&&(s=h.length+s),o<0&&(o=h[s].length+o-1),d.lineString([h[s][o],h[s][o+1]],a,e);case"MultiLineString":return i<0&&(i=h.length+i),o<0&&(o=h[i].length+o-1),d.lineString([h[i][o],h[i][o+1]],a,e);case"MultiPolygon":return i<0&&(i=h.length+i),s<0&&(s=h[i].length+s),o<0&&(o=h[i][s].length-o-1),d.lineString([h[i][s][o],h[i][s][o+1]],a,e)}throw new Error("geojson is invalid")},r.flattenEach=a,r.flattenReduce=function(t,n,i){var s=i;return a(t,function(t,e,r){s=0===e&&0===r&&void 0===i?t:n(s,t,e,r)}),s},r.geomEach=n,r.geomReduce=function(t,s,o){var a=o;return n(t,function(t,e,r,n,i){a=0===e&&void 0===o?t:s(a,t,e,r,n,i)}),a},r.lineEach=h,r.lineReduce=function(t,i,s){var o=s;return h(t,function(t,e,r,n){o=0===e&&void 0===s?t:i(o,t,e,r,n)}),o},r.propEach=s,r.propReduce=function(t,r,n){var i=n;return s(t,function(t,e){i=0===e&&void 0===n?t:r(i,t,e)}),i},r.segmentEach=i,r.segmentReduce=function(t,s,o){var a=o,h=!1;return i(t,function(t,e,r,n,i){a=!1===h&&void 0===o?t:s(a,t,e,r,n,i),h=!0}),a}},{"@turf/helpers":4}],6:[function(t,e,r){"use strict";function n(t,e){return(e=void 0===e?Object:e)&&"function"==typeof e.freeze?e.freeze(t):t}var i=n({HTML:"text/html",isHTML:function(t){return t===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),s=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===s.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});r.freeze=n,r.MIME_TYPE=i,r.NAMESPACE=s},{}],7:[function(t,e,r){var n=t("./conventions"),i=t("./dom"),u=t("./entities"),t=t("./sax"),s=i.DOMImplementation,c=n.NAMESPACE,o=t.ParseError,l=t.XMLReader;function a(t){this.options=t||{locator:{}}}function p(){this.cdata=!1}function f(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function d(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function h(t,e,r){return"string"==typeof t?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}function m(t,e){(t.currentElement||t.doc).appendChild(e)}a.prototype.parseFromString=function(t,e){var r=this.options,n=new l,i=r.domBuilder||new p,s=r.errorHandler,o=r.locator,a=r.xmlns||{},h=/\/x?html?$/.test(e),e=h?u.HTML_ENTITIES:u.XML_ENTITIES;return o&&i.setDocumentLocator(o),n.errorHandler=function(n,t,i){if(!n){if(t instanceof p)return t;n=t}var s={},o=n instanceof Function;function e(e){var r=n[e];!r&&o&&(r=2==n.length?function(t){n(e,t)}:n),s[e]=r?function(t){r("[xmldom "+e+"]\t"+t+d(i))}:function(){}}return i=i||{},e("warning"),e("error"),e("fatalError"),s}(s,i,o),n.domBuilder=r.domBuilder||i,h&&(a[""]=c.HTML),a.xml=a.xml||c.XML,t&&"string"==typeof t?n.parse(t,a,e):n.errorHandler.error("invalid doc source"),i.doc},p.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,s=i.createElementNS(t,r||e),o=n.length;m(this,s),this.currentElement=s,this.locator&&f(this.locator,s);for(var a=0;a<o;a++){var t=n.getURI(a),h=n.getValue(a),r=n.getQName(a),u=i.createAttributeNS(t,r);this.locator&&f(n.getLocator(a),u),u.value=u.nodeValue=h,s.setAttributeNode(u)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){e=this.doc.createProcessingInstruction(t,e);this.locator&&f(this.locator,e),m(this,e)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){var n;(t=h.apply(this,arguments))&&(n=this.cdata?this.doc.createCDATASection(t):this.doc.createTextNode(t),this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&f(this.locator,n))},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=h.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&f(this.locator,n),m(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;n&&n.createDocumentType&&(r=n.createDocumentType(t,e,r),this.locator&&f(this.locator,r),m(this,r),this.doc.doctype=r)},warning:function(t){console.warn("[xmldom warning]\t"+t,d(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,d(this.locator))},fatalError:function(t){throw new o(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){p.prototype[t]=function(){return null}}),r.__DOMHandler=p,r.DOMParser=a,r.DOMImplementation=i.DOMImplementation,r.XMLSerializer=i.XMLSerializer},{"./conventions":6,"./dom":8,"./entities":9,"./sax":11}],8:[function(t,e,r){var b=t("./conventions").NAMESPACE;function n(t){return""!==t}function i(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function h(t){if(!t)return[];t=(t=t)?t.split(/[\t\n\f\r ]+/).filter(n):[];return Object.keys(t.reduce(i,{}))}function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e){var r=t.prototype;function n(){}r instanceof e||(n.prototype=e.prototype,s(r,n=new n),t.prototype=r=n),r.constructor!=t&&("function"!=typeof t&&console.error("unknown Class:"+t),r.constructor=t)}var a={},t=(a.ELEMENT_NODE=1,a.ATTRIBUTE_NODE=2,a.TEXT_NODE=3,a.CDATA_SECTION_NODE=4,a.ENTITY_REFERENCE_NODE=5,a.ENTITY_NODE=6,a.PROCESSING_INSTRUCTION_NODE=7,a.COMMENT_NODE=8,a.DOCUMENT_NODE=9,a.DOCUMENT_TYPE_NODE=10,a.DOCUMENT_FRAGMENT_NODE=11,a.NOTATION_NODE=12,{}),u={};t.INDEX_SIZE_ERR=(u[1]="Index size error",1),t.DOMSTRING_SIZE_ERR=(u[2]="DOMString size error",2),t.HIERARCHY_REQUEST_ERR=(u[3]="Hierarchy request error",3),t.WRONG_DOCUMENT_ERR=(u[4]="Wrong document",4),t.INVALID_CHARACTER_ERR=(u[5]="Invalid character",5),t.NO_DATA_ALLOWED_ERR=(u[6]="No data allowed",6),t.NO_MODIFICATION_ALLOWED_ERR=(u[7]="No modification allowed",7),t.NOT_FOUND_ERR=(u[8]="Not found",8),t.NOT_SUPPORTED_ERR=(u[9]="Not supported",9),t.INUSE_ATTRIBUTE_ERR=(u[10]="Attribute in use",10),t.INVALID_STATE_ERR=(u[11]="Invalid state",11),t.SYNTAX_ERR=(u[12]="Syntax error",12),t.INVALID_MODIFICATION_ERR=(u[13]="Invalid modification",13),t.NAMESPACE_ERR=(u[14]="Invalid namespace",14),t.INVALID_ACCESS_ERR=(u[15]="Invalid access",15);function c(t,e){var r;return e instanceof Error?r=e:(r=this,Error.call(this,u[t]),this.message=u[t],Error.captureStackTrace&&Error.captureStackTrace(this,c)),r.code=t,e&&(this.message=this.message+": "+e),r}function p(){}function l(t,e){this._node=t,this._refresh=e,f(this)}function f(t){var e,r=t._node._inc||t._node.ownerDocument._inc;t._inc!=r&&(e=t._refresh(t._node),V(t,"length",e.length),s(e,t),t._inc=r)}function d(){}function m(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function g(t,e,r,n){n?e[m(e,n)]=r:e[e.length++]=r,!t||(e=(r.ownerElement=t).ownerDocument)&&(n&&E(e,t,n),t=t,r=r,(e=e)&&e._inc++,r.namespaceURI===b.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value))}function y(t,e,r){var n=m(e,r);if(!(0<=n))throw c(8,new Error(t.tagName+"@"+r));for(var i,s=e.length-1;n<s;)e[n]=e[++n];e.length=s,!t||(i=t.ownerDocument)&&(E(i,t,r),r.ownerElement=null)}function M(){}function v(){}function w(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function x(t,e){if(e(t))return 1;if(t=t.firstChild)do{if(x(t,e))return 1}while(t=t.nextSibling)}function N(){}function E(t,e,r){t&&t._inc++,r.namespaceURI===b.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function _(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,s=0;i;)i=(n[s++]=i).nextSibling;n.length=s}}}function S(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,_(t.ownerDocument,t),e}function A(t,e,r){var n=e.parentNode;if(n&&n.removeChild(e),11===e.nodeType){var i=e.firstChild;if(null==i)return e;var s=e.lastChild}else i=s=e;n=r?r.previousSibling:t.lastChild;for(i.previousSibling=n,s.nextSibling=r,n?n.nextSibling=i:t.firstChild=i,null==r?t.lastChild=s:r.previousSibling=s;i.parentNode=t,i!==s&&(i=i.nextSibling););return _(t.ownerDocument||t,t),11==e.nodeType&&(e.firstChild=e.lastChild=null),e}function T(){this._nsMap={}}function P(){}function O(){}function C(){}function R(){}function I(){}function L(){}function D(){}function k(){}function F(){}function j(){}function q(){}function U(){}function B(t,e){var r,n=[],i=9==this.nodeType&&this.documentElement||this,s=i.prefix,o=i.namespaceURI;return z(this,n,t,e,r=o&&null==s&&null==(s=i.lookupPrefix(o))?[{namespace:o,prefix:null}]:r),n.join("")}function G(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(i&&("xml"!==n||i!==b.XML)&&i!==b.XMLNS){for(var s=r.length;s--;){var o=r[s];if(o.prefix===n)return o.namespace!==i}return 1}}function H(t,e,r){t.push(" ",e,'="',r.replace(/[<&"]/g,w),'"')}function z(t,e,r,n,i){if(i=i||[],n){if(!(t=n(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case 1:var s=t.attributes,o=s.length,a=t.firstChild,h=t.tagName,u=h;if(!(r=b.isHTML(t.namespaceURI)||r)&&!t.prefix&&t.namespaceURI){for(var c,l=0;l<s.length;l++)if("xmlns"===s.item(l).name){c=s.item(l).value;break}if(c!==t.namespaceURI)for(var p=i.length-1;0<=p;p--){var f=i[p];if(f.namespace===t.namespaceURI){f.prefix&&(u=f.prefix+":"+h);break}}}e.push("<",u);for(var d=0;d<o;d++)"xmlns"==(m=s.item(d)).prefix?i.push({prefix:m.localName,namespace:m.value}):"xmlns"==m.nodeName&&i.push({prefix:"",namespace:m.value});for(var m,g,y,d=0;d<o;d++)G(m=s.item(d),0,i)&&(H(e,(g=m.prefix||"")?"xmlns:"+g:"xmlns",y=m.namespaceURI),i.push({prefix:g,namespace:y})),z(m,e,r,n,i);if(h===u&&G(t,0,i)&&(H(e,(g=t.prefix||"")?"xmlns:"+g:"xmlns",y=t.namespaceURI),i.push({prefix:g,namespace:y})),a||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(h)){if(e.push(">"),r&&/^script$/i.test(h))for(;a;)a.data?e.push(a.data):z(a,e,r,n,i.slice()),a=a.nextSibling;else for(;a;)z(a,e,r,n,i.slice()),a=a.nextSibling;e.push("</",u,">")}else e.push("/>");return;case 9:case 11:for(a=t.firstChild;a;)z(a,e,r,n,i.slice()),a=a.nextSibling;return;case 2:return H(e,t.name,t.value),0;case 3:return e.push(t.data.replace(/[<&]/g,w).replace(/]]>/g,"]]&gt;"));case 4:return e.push("<![CDATA[",t.data,"]]>");case 8:return e.push("\x3c!--",t.data,"--\x3e");case 10:var M=t.publicId,v=t.systemId;return e.push("<!DOCTYPE ",t.name),void(M?(e.push(" PUBLIC ",M),v&&"."!=v&&e.push(" ",v),e.push(">")):v&&"."!=v?e.push(" SYSTEM ",v,">"):((v=t.internalSubset)&&e.push(" [",v,"]"),e.push(">")));case 7:return e.push("<?",t.target," ",t.data,"?>");case 5:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function V(t,e,r){t[e]=r}c.prototype=Error.prototype,s(t,c),p.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)z(this[n],r,t,e);return r.join("")}},l.prototype.item=function(t){return f(this),this[t]},o(l,p),d.prototype={length:0,item:p.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new c(10);e=this.getNamedItem(t.nodeName);return g(this._ownerElement,this,t,e),e},setNamedItemNS:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new c(10);return e=this.getNamedItemNS(t.namespaceURI,t.localName),g(this._ownerElement,this,t,e),e},removeNamedItem:function(t){t=this.getNamedItem(t);return y(this._ownerElement,this,t),t},removeNamedItemNS:function(t,e){e=this.getNamedItemNS(t,e);return y(this._ownerElement,this,e),e},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}},M.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new N;return n.implementation=this,n.childNodes=new p,n.doctype=r||null,r&&n.appendChild(r),e&&(e=n.createElementNS(t,e),n.appendChild(e)),n},createDocumentType:function(t,e,r){var n=new L;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}},v.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return A(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return S(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,r,n){var i=new r.constructor;for(var s in r){var o=r[s];"object"!=typeof o&&o!=i[s]&&(i[s]=o)}r.childNodes&&(i.childNodes=new p);i.ownerDocument=e;switch(i.nodeType){case 1:var a=r.attributes,h=i.attributes=new d,u=a.length;h._ownerElement=i;for(var c=0;c<u;c++)i.setAttributeNode(t(e,a.item(c),!0));break;case 2:n=!0}if(n)for(var l=r.firstChild;l;)i.appendChild(t(e,l,n)),l=l.nextSibling;return i}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&3==e.nodeType&&3==t.nodeType?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r)for(var n in r)if(r[n]==t)return n;e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&t in r)return r[t];e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},s(a,v),s(a,v.prototype),N.prototype={nodeName:"#document",nodeType:9,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(11!=t.nodeType)return null==this.documentElement&&1==t.nodeType&&(this.documentElement=t),A(this,t,e),t.ownerDocument=this,t;for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),S(this,t)},importNode:function(t,e){return function t(e,r,n){var i;switch(r.nodeType){case 1:(i=r.cloneNode(!1)).ownerDocument=e;case 11:break;case 2:n=!0}i=i||r.cloneNode(!1);i.ownerDocument=e;i.parentNode=null;if(n)for(var s=r.firstChild;s;)i.appendChild(t(e,s,n)),s=s.nextSibling;return i}(this,t,e)},getElementById:function(e){var r=null;return x(this.documentElement,function(t){if(1==t.nodeType&&t.getAttribute("id")==e)return r=t,!0}),r},getElementsByClassName:function(o){var a=h(o);return new l(this,function(i){var s=[];return 0<a.length&&x(i.documentElement,function(t){var e,r,n;t===i||1!==t.nodeType||(e=t.getAttribute("class"))&&((r=o===e)||(e=h(e),r=a.every((n=e,function(t){return n&&-1!==n.indexOf(t)}))),r&&s.push(t))}),s})},createElement:function(t){var e=new T;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new p,(e.attributes=new d)._ownerElement=e},createDocumentFragment:function(){var t=new j;return t.ownerDocument=this,t.childNodes=new p,t},createTextNode:function(t){var e=new C;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new R;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new I;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new q;return r.ownerDocument=this,r.tagName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new P;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new F;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new T,n=e.split(":"),i=r.attributes=new d;return r.childNodes=new p,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r},createAttributeNS:function(t,e){var r=new P,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}},o(N,v),N.prototype.getElementsByTagName=(T.prototype={nodeType:1,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){t=this.getAttributeNode(t);return t&&t.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){t=this.ownerDocument.createAttribute(t);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(t){t=this.getAttributeNode(t);t&&this.removeAttributeNode(t)},appendChild:function(t){return 11===t.nodeType?this.insertBefore(t,null):function(t,e){var r=e.parentNode;r&&(n=t.lastChild,r.removeChild(e),n=t.lastChild);var n=t.lastChild;return e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,_(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){e=this.getAttributeNodeNS(t,e);e&&this.removeAttributeNode(e)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){e=this.getAttributeNodeNS(t,e);return e&&e.value||""},setAttributeNS:function(t,e,r){e=this.ownerDocument.createAttributeNS(t,e);e.value=e.nodeValue=""+r,this.setAttributeNode(e)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(n){return new l(this,function(e){var r=[];return x(e,function(t){t===e||1!=t.nodeType||"*"!==n&&t.tagName!=n||r.push(t)}),r})},getElementsByTagNameNS:function(n,i){return new l(this,function(e){var r=[];return x(e,function(t){t===e||1!==t.nodeType||"*"!==n&&t.namespaceURI!==n||"*"!==i&&t.localName!=i||r.push(t)}),r})}}).getElementsByTagName,N.prototype.getElementsByTagNameNS=T.prototype.getElementsByTagNameNS,o(T,v),P.prototype.nodeType=2,o(P,v),O.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(u[3])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),e=this.data.substring(t+e);this.nodeValue=this.data=r=n+r+e,this.length=r.length}},o(O,v),C.prototype={nodeName:"#text",nodeType:3,splitText:function(t){var e=(r=this.data).substring(t),r=r.substring(0,t);this.data=this.nodeValue=r,this.length=r.length;e=this.ownerDocument.createTextNode(e);return this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling),e}},o(C,O),R.prototype={nodeName:"#comment",nodeType:8},o(R,O),I.prototype={nodeName:"#cdata-section",nodeType:4},o(I,O),L.prototype.nodeType=10,o(L,v),D.prototype.nodeType=12,o(D,v),k.prototype.nodeType=6,o(k,v),F.prototype.nodeType=5,o(F,v),j.prototype.nodeName="#document-fragment",j.prototype.nodeType=11,o(j,v),q.prototype.nodeType=7,o(q,v),U.prototype.serializeToString=function(t,e,r){return B.call(t,e,r)},v.prototype.toString=B;try{Object.defineProperty&&(Object.defineProperty(l.prototype,"length",{get:function(){return f(this),this.$$length}}),Object.defineProperty(v.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case 1:case 11:var r=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),V=function(t,e,r){t["$$"+e]=r})}catch(t){}r.DocumentType=L,r.DOMException=c,r.DOMImplementation=M,r.Element=T,r.Node=v,r.NodeList=p,r.XMLSerializer=U},{"./conventions":6}],9:[function(t,e,r){t=t("./conventions").freeze;r.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=t({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),r.entityMap=r.HTML_ENTITIES},{"./conventions":6}],10:[function(t,e,r){var n=t("./dom");r.DOMImplementation=n.DOMImplementation,r.XMLSerializer=n.XMLSerializer,r.DOMParser=t("./dom-parser").DOMParser},{"./dom":8,"./dom-parser":7}],11:[function(t,e,r){var O=t("./conventions").NAMESPACE,n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+t.source+"*(?::"+n.source+t.source+"*)?$"),C=0,R=1,I=2,L=3,D=4,k=5,F=6,j=7;function q(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,q)}function s(){}function U(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function B(t,e,r){for(var n=t.tagName,i=null,s=t.length;s--;){var o=t[s],a=o.qName,h=o.value,a=0<(c=a.indexOf(":"))?(u=o.prefix=a.slice(0,c),l=a.slice(c+1),"xmlns"===u&&l):(u=null,"xmlns"===(l=a)&&"");o.localName=l,!1!==a&&(null==i&&(i={},f(r,r={})),r[a]=i[a]=h,o.uri=O.XMLNS,e.startPrefixMapping(a,h))}for(var u,s=t.length;s--;)(u=(o=t[s]).prefix)&&("xml"===u&&(o.uri=O.XML),"xmlns"!==u&&(o.uri=r[u||""]));var c,l=0<(c=n.indexOf(":"))?(u=t.prefix=n.slice(0,c),t.localName=n.slice(c+1)):(u=null,t.localName=n),p=t.uri=r[u||""];if(e.startElement(p,l,n,t),!t.closed)return t.currentNSMap=r,t.localNSMap=i,1;if(e.endElement(p,l,n),i)for(u in i)e.endPrefixMapping(u)}function f(t,e){for(var r in t)e[r]=t[r]}function G(){this.attributeNames={}}(q.prototype=new Error).name=q.name,s.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),f(e,e={}),function(r,t,n,i,s){function o(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?65535<(e=parseInt(e.substr(1).replace("x","0x")))?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):String.fromCharCode(e):(s.error("entity not found:"+t),t)}function e(t){var e;d<t&&(e=r.substring(d,t).replace(/&#?\w+;/g,o),l&&a(d),i.characters(e,0,t-d),d=t)}function a(t,e){for(;u<=t&&(e=c.exec(r));)h=e.index,u=h+e[0].length,l.lineNumber++;l.columnNumber=t-h+1}var h=0,u=0,c=/.*(?:\r\n?|\n)|.*$/g,l=i.locator,p=[{currentNSMap:t}],f={},d=0;for(;;){try{var m,g,y=r.indexOf("<",d);if(y<0)return r.substr(d).match(/^\s*$/)||(m=i.doc,g=m.createTextNode(r.substr(d)),m.appendChild(g),i.currentElement=g);switch(d<y&&e(y),r.charAt(y+1)){case"/":var M=r.indexOf(">",y+3),v=r.substring(y+2,M).replace(/[ \t\n\r]+$/g,""),b=p.pop();M<0?(v=r.substring(y+2).replace(/[\s<].*/,""),s.error("end tag name: "+v+" is not complete:"+b.tagName),M=y+1+v.length):v.match(/\s</)&&(v=v.replace(/[\s<].*/,""),s.error("end tag name: "+v+" maybe not complete"),M=y+1+v.length);var w=b.localNSMap,x=b.tagName==v;if(x||b.tagName&&b.tagName.toLowerCase()==v.toLowerCase()){if(i.endElement(b.uri,b.localName,v),w)for(var N in w)i.endPrefixMapping(N);x||s.fatalError("end tag name: "+v+" is not match the current start tagName:"+b.tagName)}else p.push(b);M++;break;case"?":l&&a(y),M=function(t,e,r){var n=t.indexOf("?>",e);if(n){e=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(e){e[0].length;return r.processingInstruction(e[1],e[2]),n+2}return-1}return-1}(r,y,i);break;case"!":l&&a(y),M=function(t,e,r,n){{if("-"===t.charAt(e+2)){if("-"!==t.charAt(e+3))return-1;var i=t.indexOf("--\x3e",e+4);return e<i?(r.comment(t,e+4,i-e-4),i+3):(n.error("Unclosed comment"),-1)}if("CDATA["==t.substr(e+3,6)){i=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,i-e-9),r.endCDATA(),i+3}var s=function(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=e,i.exec(t);for(;r=i.exec(t);)if(n.push(r),r[1])return n}(t,e),n=s.length;if(1<n&&/!doctype/i.test(s[0][0])){i=s[1][0],t=!1,e=!1;3<n&&(/^public$/i.test(s[2][0])?(t=s[3][0],e=4<n&&s[4][0]):/^system$/i.test(s[2][0])&&(e=s[3][0]));n=s[n-1];return r.startDTD(i,t,e),r.endDTD(),n.index+n[0].length}}return-1}(r,y,i,s);break;default:l&&a(y);var E=new G,_=p[p.length-1].currentNSMap,M=function(t,e,n,r,i,s){function o(t,e,r){n.attributeNames.hasOwnProperty(t)&&s.fatalError("Attribute "+t+" redefined"),n.addValue(t,e,r)}var a,h=++e,u=C;for(;;){var c=t.charAt(h);switch(c){case"=":if(u===R)a=t.slice(e,h),u=L;else{if(u!==I)throw new Error("attribute equal must after attrName");u=L}break;case"'":case'"':if(u===L||u===R){if(u===R&&(s.warning('attribute value must after "="'),a=t.slice(e,h)),e=h+1,!(0<(h=t.indexOf(c,e))))throw new Error("attribute value no end '"+c+"' match");l=t.slice(e,h).replace(/&#?\w+;/g,i),o(a,l,e-1),u=k}else{if(u!=D)throw new Error('attribute value must after "="');l=t.slice(e,h).replace(/&#?\w+;/g,i),o(a,l,e),s.warning('attribute "'+a+'" missed start quot('+c+")!!"),e=h+1,u=k}break;case"/":switch(u){case C:n.setTagName(t.slice(e,h));case k:case F:case j:u=j,n.closed=!0;case D:case R:case I:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),u==C&&n.setTagName(t.slice(e,h)),h;case">":switch(u){case C:n.setTagName(t.slice(e,h));case k:case F:case j:break;case D:case R:"/"===(l=t.slice(e,h)).slice(-1)&&(n.closed=!0,l=l.slice(0,-1));case I:u===I&&(l=a),u==D?(s.warning('attribute "'+l+'" missed quot(")!'),o(a,l.replace(/&#?\w+;/g,i),e)):(O.isHTML(r[""])&&l.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),o(l,l,e));break;case L:throw new Error("attribute value missed!!")}return h;case"":c=" ";default:if(c<=" ")switch(u){case C:n.setTagName(t.slice(e,h)),u=F;break;case R:a=t.slice(e,h),u=I;break;case D:var l=t.slice(e,h).replace(/&#?\w+;/g,i);s.warning('attribute "'+l+'" missed quot(")!!'),o(a,l,e);case k:u=F}else switch(u){case I:n.tagName;O.isHTML(r[""])&&a.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=h,u=R;break;case k:s.warning('attribute space is required"'+a+'"!!');case F:u=R,e=h;break;case L:u=D,e=h;break;case j:throw new Error("elements closed character '/' and '>' must be connected to")}}h++}}(r,y,E,_,o,s),S=E.length;if(!E.closed&&function(t,e,r,n){var i=n[r];null==i&&((i=t.lastIndexOf("</"+r+">"))<e&&(i=t.lastIndexOf("</"+r)),n[r]=i);return i<e}(r,M,E.tagName,f)&&(E.closed=!0,n.nbsp||s.warning("unclosed xml attribute")),l&&S){for(var A=U(l,{}),T=0;T<S;T++){var P=E[T];a(P.offset),P.locator=U(l,{})}i.locator=A,B(E,i,_)&&p.push(E),i.locator=l}else B(E,i,_)&&p.push(E);O.isHTML(E.uri)&&!E.closed?M=function(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e),t=t.substring(e+1,s);if(/[&<]/.test(t))return/^script$/i.test(r)||(t=t.replace(/&#?\w+;/g,n)),i.characters(t,0,t.length),s}return e+1}(r,M,E.tagName,o,i):M++}}catch(t){if(t instanceof q)throw t;s.error("element parse error: "+t),M=-1}d<M?d=M:e(Math.max(y,d)+1)}}(t,e,r,n,this.errorHandler),n.endDocument()}},G.prototype={setTagName:function(t){if(!i.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!i.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},r.XMLReader=s,r.ParseError=q},{"./conventions":6}],12:[function(t,e,r){e.exports=t("./lib/axios")},{"./lib/axios":14}],13:[function(t,e,r){"use strict";var c=t("./../utils"),l=t("./../core/settle"),p=t("./../helpers/cookies"),f=t("./../helpers/buildURL"),d=t("../core/buildFullPath"),m=t("./../helpers/parseHeaders"),g=t("./../helpers/isURLSameOrigin"),y=t("../core/createError");e.exports=function(u){return new Promise(function(e,r){var n=u.data,i=u.headers,s=u.responseType;c.isFormData(n)&&delete i["Content-Type"];var t,o=new XMLHttpRequest;u.auth&&(t=u.auth.username||"",a=u.auth.password?unescape(encodeURIComponent(u.auth.password)):"",i.Authorization="Basic "+btoa(t+":"+a));var a=d(u.baseURL,u.url);function h(){var t;o&&(t="getAllResponseHeaders"in o?m(o.getAllResponseHeaders()):null,t={data:s&&"text"!==s&&"json"!==s?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:t,config:u,request:o},l(e,r,t),o=null)}o.open(u.method.toUpperCase(),f(a,u.params,u.paramsSerializer),!0),o.timeout=u.timeout,"onloadend"in o?o.onloadend=h:o.onreadystatechange=function(){o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))&&setTimeout(h)},o.onabort=function(){o&&(r(y("Request aborted",u,"ECONNABORTED",o)),o=null)},o.onerror=function(){r(y("Network Error",u,null,o)),o=null},o.ontimeout=function(){var t="timeout of "+u.timeout+"ms exceeded";u.timeoutErrorMessage&&(t=u.timeoutErrorMessage),r(y(t,u,u.transitional&&u.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",o)),o=null},!c.isStandardBrowserEnv()||(a=(u.withCredentials||g(a))&&u.xsrfCookieName?p.read(u.xsrfCookieName):void 0)&&(i[u.xsrfHeaderName]=a),"setRequestHeader"in o&&c.forEach(i,function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete i[e]:o.setRequestHeader(e,t)}),c.isUndefined(u.withCredentials)||(o.withCredentials=!!u.withCredentials),s&&"json"!==s&&(o.responseType=u.responseType),"function"==typeof u.onDownloadProgress&&o.addEventListener("progress",u.onDownloadProgress),"function"==typeof u.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",u.onUploadProgress),u.cancelToken&&u.cancelToken.promise.then(function(t){o&&(o.abort(),r(t),o=null)}),n=n||null,o.send(n)})}},{"../core/buildFullPath":20,"../core/createError":21,"./../core/settle":25,"./../helpers/buildURL":29,"./../helpers/cookies":31,"./../helpers/isURLSameOrigin":34,"./../helpers/parseHeaders":36,"./../utils":39}],14:[function(t,e,r){"use strict";var n=t("./utils"),i=t("./helpers/bind"),s=t("./core/Axios"),o=t("./core/mergeConfig");function a(t){var e=new s(t),t=i(s.prototype.request,e);return n.extend(t,s.prototype,e),n.extend(t,e),t}var h=a(t("./defaults"));h.Axios=s,h.create=function(t){return a(o(h.defaults,t))},h.Cancel=t("./cancel/Cancel"),h.CancelToken=t("./cancel/CancelToken"),h.isCancel=t("./cancel/isCancel"),h.all=function(t){return Promise.all(t)},h.spread=t("./helpers/spread"),h.isAxiosError=t("./helpers/isAxiosError"),e.exports=h,e.exports.default=h},{"./cancel/Cancel":15,"./cancel/CancelToken":16,"./cancel/isCancel":17,"./core/Axios":18,"./core/mergeConfig":24,"./defaults":27,"./helpers/bind":28,"./helpers/isAxiosError":33,"./helpers/spread":37,"./utils":39}],15:[function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},{}],16:[function(t,e,r){"use strict";var n=t("./Cancel");function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},{"./Cancel":15}],17:[function(t,e,r){"use strict";e.exports=function(t){return!(!t||!t.__CANCEL__)}},{}],18:[function(t,e,r){"use strict";var n=t("./../utils"),i=t("../helpers/buildURL"),s=t("./InterceptorManager"),c=t("./dispatchRequest"),l=t("./mergeConfig"),p=t("../helpers/validator"),f=p.validators;function o(t){this.defaults=t,this.interceptors={request:new s,response:new s}}o.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=l(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&p.assertOptions(t,{silentJSONParsing:f.transitional(f.boolean,"1.0.0"),forcedJSONParsing:f.transitional(f.boolean,"1.0.0"),clarifyTimeoutError:f.transitional(f.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach(function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))});var i,s=[];if(this.interceptors.response.forEach(function(t){s.push(t.fulfilled,t.rejected)}),!n){var o=[c,void 0];for(Array.prototype.unshift.apply(o,r),o=o.concat(s),i=Promise.resolve(e);o.length;)i=i.then(o.shift(),o.shift());return i}for(var a=e;r.length;){var h=r.shift(),u=r.shift();try{a=h(a)}catch(t){u(t);break}}try{i=c(a)}catch(t){return Promise.reject(t)}for(;s.length;)i=i.then(s.shift(),s.shift());return i},o.prototype.getUri=function(t){return t=l(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],function(r){o.prototype[r]=function(t,e){return this.request(l(e||{},{method:r,url:t,data:(e||{}).data}))}}),n.forEach(["post","put","patch"],function(n){o.prototype[n]=function(t,e,r){return this.request(l(r||{},{method:n,url:t,data:e}))}}),e.exports=o},{"../helpers/buildURL":29,"../helpers/validator":38,"./../utils":39,"./InterceptorManager":19,"./dispatchRequest":22,"./mergeConfig":24}],19:[function(t,e,r){"use strict";var n=t("./../utils");function i(){this.handlers=[]}i.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},{"./../utils":39}],20:[function(t,e,r){"use strict";var n=t("../helpers/isAbsoluteURL"),i=t("../helpers/combineURLs");e.exports=function(t,e){return t&&!n(e)?i(t,e):e}},{"../helpers/combineURLs":30,"../helpers/isAbsoluteURL":32}],21:[function(t,e,r){"use strict";var s=t("./enhanceError");e.exports=function(t,e,r,n,i){t=new Error(t);return s(t,e,r,n,i)}},{"./enhanceError":23}],22:[function(t,e,r){"use strict";var n=t("./../utils"),i=t("./transformData"),s=t("../cancel/isCancel"),o=t("../defaults");function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||o.adapter)(e).then(function(t){return a(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(a(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},{"../cancel/isCancel":17,"../defaults":27,"./../utils":39,"./transformData":26}],23:[function(t,e,r){"use strict";e.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},{}],24:[function(t,e,r){"use strict";var c=t("../utils");e.exports=function(e,r){r=r||{};var n={},t=["url","method","data"],i=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function a(t,e){return c.isPlainObject(t)&&c.isPlainObject(e)?c.merge(t,e):c.isPlainObject(e)?c.merge({},e):c.isArray(e)?e.slice():e}function h(t){c.isUndefined(r[t])?c.isUndefined(e[t])||(n[t]=a(void 0,e[t])):n[t]=a(e[t],r[t])}c.forEach(t,function(t){c.isUndefined(r[t])||(n[t]=a(void 0,r[t]))}),c.forEach(i,h),c.forEach(s,function(t){c.isUndefined(r[t])?c.isUndefined(e[t])||(n[t]=a(void 0,e[t])):n[t]=a(void 0,r[t])}),c.forEach(o,function(t){t in r?n[t]=a(e[t],r[t]):t in e&&(n[t]=a(void 0,e[t]))});var u=t.concat(i).concat(s).concat(o),o=Object.keys(e).concat(Object.keys(r)).filter(function(t){return-1===u.indexOf(t)});return c.forEach(o,h),n}},{"../utils":39}],25:[function(t,e,r){"use strict";var i=t("./createError");e.exports=function(t,e,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(i("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},{"./createError":21}],26:[function(t,e,r){"use strict";var i=t("./../utils"),s=t("./../defaults");e.exports=function(e,r,t){var n=this||s;return i.forEach(t,function(t){e=t.call(n,e,r)}),e}},{"./../defaults":27,"./../utils":39}],27:[function(h,u,t){!function(a){!function(){"use strict";var n=h("./utils"),r=h("./helpers/normalizeHeaderName"),i=h("./core/enhanceError"),e={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var t,o={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?t=h("./adapters/xhr"):void 0!==a&&"[object process]"===Object.prototype.toString.call(a)&&(t=h("./adapters/http")),t),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)||e&&"application/json"===e["Content-Type"]?(s(e,"application/json"),function(t,e,r){if(n.isString(t))try{return(e||JSON.parse)(t),n.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional,r=e&&e.silentJSONParsing,e=e&&e.forcedJSONParsing,r=!r&&"json"===this.responseType;if(r||e&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(r){if("SyntaxError"===t.name)throw i(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return 200<=t&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(t){o.headers[t]={}}),n.forEach(["post","put","patch"],function(t){o.headers[t]=n.merge(e)}),u.exports=o}.call(this)}.call(this,h("_process"))},{"./adapters/http":13,"./adapters/xhr":13,"./core/enhanceError":23,"./helpers/normalizeHeaderName":35,"./utils":39,_process:41}],28:[function(t,e,r){"use strict";e.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}}},{}],29:[function(t,e,r){"use strict";var i=t("./../utils");function s(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(t,e,r){if(!e)return t;var n,r=r?r(e):i.isURLSearchParams(e)?e.toString():(n=[],i.forEach(e,function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),n.push(s(e)+"="+s(t))}))}),n.join("&"));return r&&(-1!==(e=t.indexOf("#"))&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+r),t}},{"./../utils":39}],30:[function(t,e,r){"use strict";e.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},{}],31:[function(t,e,r){"use strict";var a=t("./../utils");e.exports=a.isStandardBrowserEnv()?{write:function(t,e,r,n,i,s){var o=[];o.push(t+"="+encodeURIComponent(e)),a.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),a.isString(n)&&o.push("path="+n),a.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){t=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{"./../utils":39}],32:[function(t,e,r){"use strict";e.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},{}],33:[function(t,e,r){"use strict";e.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},{}],34:[function(t,e,r){"use strict";var n,i,s,o=t("./../utils");function a(t){return i&&(s.setAttribute("href",t),t=s.href),s.setAttribute("href",t),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}e.exports=o.isStandardBrowserEnv()?(i=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),n=a(window.location.href),function(t){t=o.isString(t)?a(t):t;return t.protocol===n.protocol&&t.host===n.host}):function(){return!0}},{"./../utils":39}],35:[function(t,e,r){"use strict";var i=t("../utils");e.exports=function(r,n){i.forEach(r,function(t,e){e!==n&&e.toUpperCase()===n.toUpperCase()&&(r[n]=t,delete r[e])})}},{"../utils":39}],36:[function(t,e,r){"use strict";var i=t("./../utils"),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(t){var e,r,n={};return t&&i.forEach(t.split("\n"),function(t){r=t.indexOf(":"),e=i.trim(t.substr(0,r)).toLowerCase(),r=i.trim(t.substr(r+1)),e&&(n[e]&&0<=s.indexOf(e)||(n[e]="set-cookie"===e?(n[e]||[]).concat([r]):n[e]?n[e]+", "+r:r))}),n}},{"./../utils":39}],37:[function(t,e,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},{}],38:[function(t,e,r){"use strict";var a=t("./../../package.json"),n={};["object","boolean","number","function","string","symbol"].forEach(function(e,r){n[e]=function(t){return typeof t===e||"a"+(r<1?"n ":" ")+e}});var h={},s=a.version.split(".");function u(t,e){for(var r=e?e.split("."):s,n=t.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}n.transitional=function(n,i,r){var s=i&&u(i);function o(t,e){return"[Axios v"+a.version+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(t,e,r){if(!1===n)throw new Error(o(e," has been removed in "+i));return s&&!h[e]&&(h[e]=!0,console.warn(o(e," has been deprecated since v"+i+" and will be removed in the near future"))),!n||n(t,e,r)}},e.exports={isOlderVersion:u,assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;0<i--;){var s=n[i],o=e[s];if(o){var a=t[s],a=void 0===a||o(a,s,t);if(!0!==a)throw new TypeError("option "+s+" must be "+a)}else if(!0!==r)throw Error("Unknown option "+s)}},validators:n}},{"./../../package.json":40}],39:[function(t,e,r){"use strict";var i=t("./helpers/bind"),n=Object.prototype.toString;function s(t){return"[object Array]"===n.call(t)}function o(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function h(t){if("[object Object]"!==n.call(t))return!1;t=Object.getPrototypeOf(t);return null===t||t===Object.prototype}function u(t){return"[object Function]"===n.call(t)}function c(t,e){if(null!=t)if(s(t="object"!=typeof t?[t]:t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}e.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===n.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isPlainObject:h,isUndefined:o,isDate:function(t){return"[object Date]"===n.call(t)},isFile:function(t){return"[object File]"===n.call(t)},isBlob:function(t){return"[object Blob]"===n.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function r(){var n={};function t(t,e){h(n[e])&&h(t)?n[e]=r(n[e],t):h(t)?n[e]=r({},t):s(t)?n[e]=t.slice():n[e]=t}for(var e=0,i=arguments.length;e<i;e++)c(arguments[e],t);return n},extend:function(r,t,n){return c(t,function(t,e){r[e]=n&&"function"==typeof t?i(t,n):t}),r},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return t=65279===t.charCodeAt(0)?t.slice(1):t}}},{"./helpers/bind":28}],40:[function(t,e,r){e.exports={_args:[["axios@0.21.4","/home/ign.fr/vsagniez/SITES/geoportal-wfs-client"]],_from:"axios@0.21.4",_id:"axios@0.21.4",_inBundle:!1,_integrity:"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==",_location:"/axios",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"axios@0.21.4",name:"axios",escapedName:"axios",rawSpec:"0.21.4",saveSpec:null,fetchSpec:"0.21.4"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz",_spec:"0.21.4",_where:"/home/ign.fr/vsagniez/SITES/geoportal-wfs-client",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/axios/axios/issues"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}],dependencies:{"follow-redirects":"^1.14.0"},description:"Promise based HTTP client for the browser and node.js",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},homepage:"https://axios-http.com",jsdelivr:"dist/axios.min.js",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/axios/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",fix:"eslint --fix lib/**/*.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typings:"./index.d.ts",unpkg:"dist/axios.min.js",version:"0.21.4"}},{}],41:[function(t,e,r){var n,i,e=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var h,u=[],c=!1,l=-1;function p(){c&&h&&(c=!1,h.length?u=h.concat(u):l=-1,u.length&&f())}function f(){if(!c){var t=a(p);c=!0;for(var e=u.length;e;){for(h=u,u=[];++l<e;)h&&h[l].run();l=-1,e=u.length}h=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new d(t,e)),1!==u.length||c||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=m,e.addListener=m,e.once=m,e.off=m,e.removeListener=m,e.removeAllListeners=m,e.emit=m,e.prependListener=m,e.prependOnceListener=m,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],42:[function(t,e,r){var n,i;n=this,i=function(){"use strict";var d=1,m=2,g=3,y=4,M=5,h=6378137,u=6356752.314,c=.0066943799901413165,N=484813681109536e-20,v=Math.PI/2,b=.16666666666666666,w=.04722222222222222,x=.022156084656084655,E=1e-10,_=.017453292519943295,f=57.29577951308232,S=Math.PI/4,A=2*Math.PI,l=3.14159265359,a={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},p={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},o=/[\s_\-\/\(\)]/g;function T(t,e){if(t[e])return t[e];for(var r,n=Object.keys(t),i=e.toLowerCase().replace(o,""),s=-1;++s<n.length;)if((r=n[s]).toLowerCase().replace(o,"")===i)return t[r]}var i=function(t){var e,r,n,i={},s=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){e=e.split("=");return e.push(!0),t[e[0].toLowerCase()]=e[1],t},{}),o={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*_},lat_1:function(t){i.lat1=t*_},lat_2:function(t){i.lat2=t*_},lat_ts:function(t){i.lat_ts=t*_},lon_0:function(t){i.long0=t*_},lon_1:function(t){i.long1=t*_},lon_2:function(t){i.long2=t*_},alpha:function(t){i.alpha=parseFloat(t)*_},gamma:function(t){i.rectified_grid_angle=parseFloat(t)},lonc:function(t){i.longc=t*_},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;t=T(p,t);t&&(i.to_meter=t.to_meter)},from_greenwich:function(t){i.from_greenwich=t*_},pm:function(t){var e=T(a,t);i.from_greenwich=(e||parseFloat(t))*_},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(i.axis=t)},approx:function(){i.approx=!0}};for(e in s)r=s[e],e in o?"function"==typeof(n=o[e])?n(r):i[n]=r:i[e]=r;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i},e=/\s/,r=/[A-Za-z]/,n=/[A-Za-z84]/,s=/[,\]]/,P=/[\d\.E\-\+]/;function O(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function C(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);r=r.reduce(function(t,e){return R(e,t),t},e?{}:t);e&&(t[e]=r)}function R(t,e){if(Array.isArray(t)){var r,n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void R(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in e||(e[n]=[]),void e[n].push(t);switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&R(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&R(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void C(e,n,t);default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return R(t,e[n]);return C(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}O.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;e.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},O.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(s.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},O.prototype.afterItem=function(t){if(","===t)return null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1);"]"===t&&(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),this.currentObject||(this.state=-1))},O.prototype.number=function(t){if(!P.test(t)){if(s.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},O.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},O.prototype.keyword=function(t){if(n.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=1)}if(!s.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},O.prototype.neutral=function(t){if(r.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(P.test(t))return this.word=t,void(this.state=3);if(!s.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},O.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function I(t){return.017453292519943295*t}function L(i){if("GEOGCS"===i.type?i.projName="longlat":"LOCAL_CS"===i.type?(i.projName="identity",i.local=!0):"object"==typeof i.PROJECTION?i.projName=Object.keys(i.PROJECTION)[0]:i.projName=i.PROJECTION,i.AXIS){for(var t="",e=0,r=i.AXIS.length;e<r;++e){var n=[i.AXIS[e][0].toLowerCase(),i.AXIS[e][1].toLowerCase()];-1!==n[0].indexOf("north")||("y"===n[0]||"lat"===n[0])&&"north"===n[1]?t+="n":-1!==n[0].indexOf("south")||("y"===n[0]||"lat"===n[0])&&"south"===n[1]?t+="s":-1!==n[0].indexOf("east")||("x"===n[0]||"lon"===n[0])&&"east"===n[1]?t+="e":-1===n[0].indexOf("west")&&("x"!==n[0]&&"lon"!==n[0]||"west"!==n[1])||(t+="w")}2===t.length&&(t+="u"),3===t.length&&(i.axis=t)}i.UNIT&&(i.units=i.UNIT.name.toLowerCase(),"metre"===i.units&&(i.units="meter"),i.UNIT.convert&&("GEOGCS"===i.type?i.DATUM&&i.DATUM.SPHEROID&&(i.to_meter=i.UNIT.convert*i.DATUM.SPHEROID.a):i.to_meter=i.UNIT.convert));var s=i.GEOGCS;function o(t){return t*(i.to_meter||1)}(s="GEOGCS"===i.type?i:s)&&(s.DATUM?i.datumCode=s.DATUM.name.toLowerCase():i.datumCode=s.name.toLowerCase(),"d_"===i.datumCode.slice(0,2)&&(i.datumCode=i.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==i.datumCode&&"new_zealand_1949"!==i.datumCode||(i.datumCode="nzgd49"),"wgs_1984"!==i.datumCode&&"world_geodetic_system_1984"!==i.datumCode||("Mercator_Auxiliary_Sphere"===i.PROJECTION&&(i.sphere=!0),i.datumCode="wgs84"),"_ferro"===i.datumCode.slice(-6)&&(i.datumCode=i.datumCode.slice(0,-6)),"_jakarta"===i.datumCode.slice(-8)&&(i.datumCode=i.datumCode.slice(0,-8)),~i.datumCode.indexOf("belge")&&(i.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(i.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===i.ellps.toLowerCase().slice(0,13)&&(i.ellps="intl"),i.a=s.DATUM.SPHEROID.a,i.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(i.datum_params=s.DATUM.TOWGS84),~i.datumCode.indexOf("osgb_1936")&&(i.datumCode="osgb36"),~i.datumCode.indexOf("osni_1952")&&(i.datumCode="osni52"),(~i.datumCode.indexOf("tm65")||~i.datumCode.indexOf("geodetic_datum_of_1965"))&&(i.datumCode="ire65"),"ch1903+"===i.datumCode&&(i.datumCode="ch1903"),~i.datumCode.indexOf("israel")&&(i.datumCode="isr93")),i.b&&!isFinite(i.b)&&(i.b=i.a);[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",I],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",I],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",I],["lat0","latitude_of_origin",I],["lat0","standard_parallel_1",I],["lat1","standard_parallel_1",I],["lat2","standard_parallel_2",I],["azimuth","Azimuth"],["alpha","azimuth",I],["srsCode","name"]].forEach(function(t){var e,r,n;e=i,n=(r=t)[0],t=r[1],!(n in e)&&t in e&&(e[n]=e[t],3===r.length&&(e[n]=r[2](e[n])))}),i.long0||!i.longc||"Albers_Conic_Equal_Area"!==i.projName&&"Lambert_Azimuthal_Equal_Area"!==i.projName||(i.long0=i.longc),i.lat_ts||!i.lat1||"Stereographic_South_Pole"!==i.projName&&"Polar Stereographic (variant B)"!==i.projName||(i.lat0=I(0<i.lat1?90:-90),i.lat_ts=i.lat1)}var t,D=function(t){var e=new O(t).output(),r=e.shift(),t=e.shift();e.unshift(["name",t]),e.unshift(["type",r]);r={};return R(e,r),L(r),r};function k(t){var e=this;if(2===arguments.length){var r=arguments[1];"string"==typeof r?"+"===r.charAt(0)?k[t]=i(arguments[1]):k[t]=D(arguments[1]):k[t]=r}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?k.apply(e,t):k(t)});if("string"==typeof t){if(t in k)return k[t]}else"EPSG"in t?k["EPSG:"+t.EPSG]=t:"ESRI"in t?k["ESRI:"+t.ESRI]=t:"IAU2000"in t?k["IAU2000:"+t.IAU2000]=t:console.log(t)}}(t=k)("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"];var F=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var j=["3857","900913","3785","102113"];function q(t){if("string"!=typeof t)return t;if(t in k)return k[t];if(n=t,F.some(function(t){return-1<n.indexOf(t)})){var e=D(t);if(function(t){if(t=T(t,"authority")){t=T(t,"epsg");return t&&-1<j.indexOf(t)}}(e))return k["EPSG:3857"];var r=function(t){if(t=T(t,"extension"))return T(t,"proj4")}(e);return r?i(r):e}return"+"===t[0]?i(t):void 0;var n}function U(t,e){var r,n;if(t=t||{},!e)return t;for(n in e)void 0!==(r=e[n])&&(t[n]=r);return t}function B(t,e,r){return e*=t,r/Math.sqrt(1-e*e)}function G(t,e,r){return r*=t,r=Math.pow((1-r)/(1+r),.5*t),Math.tan(.5*(v-e))/r}function H(t,e){for(var r,n=.5*t,i=v-2*Math.atan(e),s=0;s<=15;s++)if(r=t*Math.sin(i),i+=r=v-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-i,Math.abs(r)<=1e-10)return i;return-9999}var z=function(t){return t<0?-1:1},V=function(t){return Math.abs(t)<=l?t:t-z(t)*A};function W(t){return t}var $=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=B(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,r,n=t.x,i=t.y;return 90<i*f&&i*f<-90&&180<n*f&&n*f<-180||Math.abs(Math.abs(i)-v)<=E?null:(r=this.sphere?(e=this.x0+this.a*this.k0*V(n-this.long0),this.y0+this.a*this.k0*Math.log(Math.tan(S+.5*i))):(r=Math.sin(i),r=G(this.e,i,r),e=this.x0+this.a*this.k0*V(n-this.long0),this.y0-this.a*this.k0*Math.log(r)),t.x=e,t.y=r,t)},inverse:function(t){var e=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=v-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var n,r=Math.exp(-r/(this.a*this.k0));if(-9999===(n=H(this.e,r)))return null}return e=V(this.long0+e/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:W,inverse:W,names:["longlat","identity"]}],J={},X=[];function Q(t,e){var r=X.length;return t.names?((X[r]=t).names.forEach(function(t){J[t.toLowerCase()]=r}),this):(console.log(e),!0)}var Y={start:function(){$.forEach(Q)},add:Q,get:function(t){return!!t&&(t=t.toLowerCase(),void 0!==J[t]&&X[J[t]]?X[J[t]]:void 0)}},Z={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},K=Z.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Z.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var tt={};tt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},tt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},tt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},tt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},tt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},tt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},tt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},tt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},tt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},tt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},tt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},tt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},tt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},tt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},tt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},tt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},tt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var et={};function rt(t){if(0===t.length)return null;var e="@"===t[0];return"null"===(t=e?t.slice(1):t)?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:et[t]||null,isNull:!1}}function nt(t){return t/3600*Math.PI/180}function it(t,e,r){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,r)))}function st(t,e){if(!(this instanceof st))return new st(t);e=e||function(t){if(t)throw t};var r,n,i,s,o,a,h,u,c,l,p,f=q(t);"object"==typeof f&&(r=st.projections.get(f.projName))?(!f.datumCode||"none"===f.datumCode||(l=T(tt,f.datumCode))&&(f.datum_params=f.datum_params||(l.towgs84?l.towgs84.split(","):null),f.ellps=l.ellipse,f.datumName=l.datumName||f.datumCode),f.k0=f.k0||1,f.axis=f.axis||"enu",f.ellps=f.ellps||"wgs84",f.lat1=f.lat1||f.lat0,u=f.a,o=f.b,i=f.rf,h=f.ellps,c=f.sphere,u||(u=(h=(h=T(Z,h))||K).a,o=h.b,i=h.rf),i&&!o&&(o=(1-1/i)*u),(0===i||Math.abs(u-o)<E)&&(c=!0,o=u),s=(n={a:u,b:o,rf:i,sphere:c}).a,a=n.b,l=f.R_A,o=((h=s*s)-(u=a*a))/h,a=0,l?(h=(s*=1-o*(b+o*(w+o*x)))*s,o=0):a=Math.sqrt(o),i={es:o,e:a,ep2:(h-u)/u},l=void 0===(c=f.nadgrids)?null:c.split(",").map(rt),p=f.datum||(s=f.datumCode,o=f.datum_params,a=n.a,h=n.b,u=i.es,c=i.ep2,l=l,(p={}).datum_type=void 0===s||"none"===s?M:y,o&&(p.datum_params=o.map(parseFloat),0===p.datum_params[0]&&0===p.datum_params[1]&&0===p.datum_params[2]||(p.datum_type=d),3<p.datum_params.length&&(0===p.datum_params[3]&&0===p.datum_params[4]&&0===p.datum_params[5]&&0===p.datum_params[6]||(p.datum_type=m,p.datum_params[3]*=N,p.datum_params[4]*=N,p.datum_params[5]*=N,p.datum_params[6]=p.datum_params[6]/1e6+1))),l&&(p.datum_type=g,p.grids=l),p.a=a,p.b=h,p.es=u,p.ep2=c,p),U(this,f),U(this,r),this.a=n.a,this.b=n.b,this.rf=n.rf,this.sphere=n.sphere,this.es=i.es,this.e=i.e,this.ep2=i.ep2,this.datum=p,this.init(),e(null,this)):e(t)}function ot(t,e,r){var n=t.x,i=t.y,s=t.z||0;if(i<-v&&-1.001*v<i)i=-v;else if(v<i&&i<1.001*v)i=v;else{if(i<-v)return{x:-1/0,y:-1/0,z:t.z};if(v<i)return{x:1/0,y:1/0,z:t.z}}return n>Math.PI&&(n-=2*Math.PI),t=Math.sin(i),i=Math.cos(i),{x:((r=r/Math.sqrt(1-e*(t*t)))+s)*i*Math.cos(n),y:(r+s)*i*Math.sin(n),z:(r*(1-e)+s)*t}}function at(t,e,r,n){var i,s,o,a,h,u,c,l,p,f,d,m=1e-12,g=t.x,y=t.y,M=t.z||0,v=Math.sqrt(g*g+y*y),b=Math.sqrt(g*g+y*y+M*M);if(v/r<m){if(f=0,b/r<m)return d=-n,{x:t.x,y:t.y,z:t.z}}else f=Math.atan2(y,g);for(i=M/b,a=(s=v/b)*(1-e)*(o=1/Math.sqrt(1-e*(2-e)*s*s)),h=i*o,p=0;p++,l=e*(l=r/Math.sqrt(1-e*h*h))/(l+(d=v*a+M*h-l*(1-e*h*h))),l=(c=i*(o=1/Math.sqrt(1-l*(2-l)*s*s)))*a-(u=s*(1-l)*o)*h,a=u,h=c,1e-24<l*l&&p<30;);return{x:f,y:Math.atan(c/Math.abs(u)),z:d}}function ht(t){return t===d||t===m}(st.projections=Y).start();function ut(t,e,r){if(a=e,!((o=t).datum_type!==a.datum_type||o.a!==a.a||5e-11<Math.abs(o.es-a.es))&&(o.datum_type===d?o.datum_params[0]===a.datum_params[0]&&o.datum_params[1]===a.datum_params[1]&&o.datum_params[2]===a.datum_params[2]:o.datum_type!==m||o.datum_params[0]===a.datum_params[0]&&o.datum_params[1]===a.datum_params[1]&&o.datum_params[2]===a.datum_params[2]&&o.datum_params[3]===a.datum_params[3]&&o.datum_params[4]===a.datum_params[4]&&o.datum_params[5]===a.datum_params[5]&&o.datum_params[6]===a.datum_params[6]))return r;if(t.datum_type===M||e.datum_type===M)return r;var n=t.a,i=t.es;if(t.datum_type===g){if(0!==ct(t,!1,r))return;n=h,i=c}var s=e.a,o=e.b,a=e.es;return e.datum_type===g&&(s=h,o=u,a=c),i!==a||n!==s||ht(t.datum_type)||ht(e.datum_type)?(r=ot(r,i,n),ht(t.datum_type)&&(r=function(t,e,r){if(e===d)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===m){var n=r[0],i=r[1],s=r[2],o=r[3],a=r[4],e=r[5],r=r[6];return{x:r*(t.x-e*t.y+a*t.z)+n,y:r*(e*t.x+t.y-o*t.z)+i,z:r*(-a*t.x+o*t.y+t.z)+s}}}(r,t.datum_type,t.datum_params)),r=at(r=ht(e.datum_type)?function(t,e,r){if(e===d)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===m){var n=r[0],i=r[1],s=r[2],o=r[3],a=r[4],e=r[5],r=r[6],n=(t.x-n)/r,i=(t.y-i)/r,r=(t.z-s)/r;return{x:n+e*i-a*r,y:-e*n+i+o*r,z:a*n-o*i+r}}}(r,e.datum_type,e.datum_params):r,a,s,o),e.datum_type!==g||0===ct(e,!0,r)?r:void 0):r}function ct(t,e,r){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var n={x:-r.x,y:r.y},i={x:Number.NaN,y:Number.NaN},s=[],o=0;o<t.grids.length;o++){var a=t.grids[o];if(s.push(a.name),a.isNull){i=n;break}if(null!==a.grid){var h=a.grid.subgrids[0],u=(Math.abs(h.del[1])+Math.abs(h.del[0]))/1e4,c=h.ll[0]-u,l=h.ll[1]-u,p=h.ll[0]+(h.lim[0]-1)*h.del[0]+u,u=h.ll[1]+(h.lim[1]-1)*h.del[1]+u;if(!(n.y<l||n.x<c||u<n.y||p<n.x||(i=function(t,e,r){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var i={x:t.x,y:t.y};i.x-=r.ll[0],i.y-=r.ll[1],i.x=V(i.x-Math.PI)+Math.PI;var s,o=lt(i,r);if(e){if(isNaN(o.x))return n;o.x=i.x-o.x,o.y=i.y-o.y;var a=9;do{if(s=lt(o,r),isNaN(s.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}}while(s={x:i.x-(s.x+o.x),y:i.y-(s.y+o.y)},o.x+=s.x,o.y+=s.y,a--&&1e-12<Math.abs(s.x)&&1e-12<Math.abs(s.y));if(a<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=V(o.x+r.ll[0]),n.y=o.y+r.ll[1]}else isNaN(o.x)||(n.x=t.x+o.x,n.y=t.y+o.y);return n}(n,e,h),isNaN(i.x))))break}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*f+" "+n.y*f+" tried: '"+s+"'"),-1):(r.x=-i.x,r.y=i.y,0)}function lt(t,e){var r={x:t.x/e.del[0],y:t.y/e.del[1]},n=Math.floor(r.x),i=Math.floor(r.y),s=r.x-+n,o=r.y-+i,a={x:Number.NaN,y:Number.NaN};if(n<0||n>=e.lim[0])return a;if(i<0||i>=e.lim[1])return a;var h=i*e.lim[0]+n,u=e.cvs[h][0],c=e.cvs[h][1],l=e.cvs[++h][0],p=e.cvs[h][1];h+=e.lim[0];var f=e.cvs[h][0],t=e.cvs[h][1],r=e.cvs[--h][0],i=e.cvs[h][1],n=s*o,e=s*(1-o),h=(1-s)*(1-o),o=(1-s)*o;return a.x=h*u+e*l+o*r+n*f,a.y=h*c+e*p+o*i+n*t,a}function pt(t,e,r){for(var n,i,s=r.x,o=r.y,a=r.z||0,h={},u=0;u<3;u++)if(!e||2!==u||void 0!==r.z)switch(i=0===u?(n=s,-1!=="ew".indexOf(t.axis[u])?"x":"y"):1===u?(n=o,-1!=="ns".indexOf(t.axis[u])?"y":"x"):(n=a,"z"),t.axis[u]){case"e":h[i]=n;break;case"w":h[i]=-n;break;case"n":h[i]=n;break;case"s":h[i]=-n;break;case"u":void 0!==r[i]&&(h.z=n);break;case"d":void 0!==r[i]&&(h.z=-n);break;default:return null}return h}function ft(t){var e={x:t[0],y:t[1]};return 2<t.length&&(e.z=t[2]),3<t.length&&(e.m=t[3]),e}function dt(t){mt(t.x),mt(t.y)}function mt(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function gt(t,e,r,n){var i,s;if(Array.isArray(r)&&(r=ft(r)),dt(r),t.datum&&e.datum&&(s=e,((i=t).datum.datum_type===d||i.datum.datum_type===m)&&"WGS84"!==s.datumCode||(s.datum.datum_type===d||s.datum.datum_type===m)&&"WGS84"!==i.datumCode)&&(r=gt(t,i=new st("WGS84"),r,n),t=i),n&&"enu"!==t.axis&&(r=pt(t,!1,r)),"longlat"===t.projName)r={x:r.x*_,y:r.y*_,z:r.z||0};else if(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),!(r=t.inverse(r)))return;if(t.from_greenwich&&(r.x+=t.from_greenwich),r=ut(t.datum,e.datum,r))return e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),"longlat"===e.projName?r={x:r.x*f,y:r.y*f,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),n&&"enu"!==e.axis?pt(e,!0,r):r}var yt=st("WGS84");function Mt(e,r,n,t){var i,s;return Array.isArray(n)?(i=gt(e,r,n,t)||{x:NaN,y:NaN},2<n.length?void 0!==e.name&&"geocent"===e.name||void 0!==r.name&&"geocent"===r.name?("number"==typeof i.z?[i.x,i.y,i.z]:[i.x,i.y,n[2]]).concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(s=gt(e,r,n,t),2===(t=Object.keys(n)).length||t.forEach(function(t){if(void 0!==e.name&&"geocent"===e.name||void 0!==r.name&&"geocent"===r.name){if("x"===t||"y"===t||"z"===t)return}else if("x"===t||"y"===t)return;s[t]=n[t]}),s)}function vt(t){return t instanceof st?t:t.oProj||st(t)}function bt(r,n,t){r=vt(r);var e=!1;return void 0===n?(n=r,r=yt,e=!0):void 0===n.x&&!Array.isArray(n)||(t=n,n=r,r=yt,e=!0),n=vt(n),t?Mt(r,n,t):(t={forward:function(t,e){return Mt(r,n,t,e)},inverse:function(t,e){return Mt(n,r,t,e)}},e&&(t.oProj=n),t)}var wt=6,xt="AJSAJS",Nt="AFAFAF",Et=65,_t=73,St=79,At=86,Tt=90,Y={forward:Pt,inverse:function(t){t=It(Dt(t.toUpperCase()));if(t.lat&&t.lon)return[t.lon,t.lat,t.lon,t.lat];return[t.left,t.bottom,t.right,t.top]},toPoint:Ot};function Pt(t,e){return e=e||5,r=function(t){var e,r,n,i,s=t.lat,o=t.lon,a=.00669438,h=Ct(s),u=Ct(o);i=Math.floor((o+180)/6)+1,180===o&&(i=60);56<=s&&s<64&&3<=o&&o<12&&(i=32);72<=s&&s<84&&(0<=o&&o<9?i=31:9<=o&&o<21?i=33:21<=o&&o<33?i=35:33<=o&&o<42&&(i=37));n=Ct(6*(i-1)-180+3),e=a/(1-a),r=6378137/Math.sqrt(1-a*Math.sin(h)*Math.sin(h)),t=Math.tan(h)*Math.tan(h),o=e*Math.cos(h)*Math.cos(h),u=Math.cos(h)*(u-n),n=6378137*(.9983242984503243*h-.002514607064228144*Math.sin(2*h)+2639046602129982e-21*Math.sin(4*h)-35*a*a*a/3072*Math.sin(6*h));a=.9996*r*(u+(1-t+o)*u*u*u/6+(5-18*t+t*t+72*o-58*e)*u*u*u*u*u/120)+5e5,u=.9996*(n+r*Math.tan(h)*(u*u/2+(5-t+9*o+4*o*o)*u*u*u*u/24+(61-58*t+t*t+600*o-330*e)*u*u*u*u*u*u/720));s<0&&(u+=1e7);return{northing:Math.round(u),easting:Math.round(a),zoneNumber:i,zoneLetter:function(t){var e="Z";t<=84&&72<=t?e="X":t<72&&64<=t?e="W":t<64&&56<=t?e="V":t<56&&48<=t?e="U":t<48&&40<=t?e="T":t<40&&32<=t?e="S":t<32&&24<=t?e="R":t<24&&16<=t?e="Q":t<16&&8<=t?e="P":t<8&&0<=t?e="N":t<0&&-8<=t?e="M":t<-8&&-16<=t?e="L":t<-16&&-24<=t?e="K":t<-24&&-32<=t?e="J":t<-32&&-40<=t?e="H":t<-40&&-48<=t?e="G":t<-48&&-56<=t?e="F":t<-56&&-64<=t?e="E":t<-64&&-72<=t?e="D":t<-72&&-80<=t&&(e="C");return e}(s)}}({lat:t[1],lon:t[0]}),n=e,t="00000"+r.easting,e="00000"+r.northing,r.zoneNumber+r.zoneLetter+function(t,e,r){r=Lt(r),t=Math.floor(t/1e5),e=Math.floor(e/1e5)%20;return function(t,e,r){var n=r-1,i=xt.charCodeAt(n),r=Nt.charCodeAt(n),n=i+t-1,t=r+e,e=!1;Tt<n&&(n=n-Tt+Et-1,e=!0);(n===_t||i<_t&&_t<n||(_t<n||i<_t)&&e)&&n++;(n===St||i<St&&St<n||(St<n||i<St)&&e)&&++n===_t&&n++;Tt<n&&(n=n-Tt+Et-1);e=At<t&&(t=t-At+Et-1,!0);(t===_t||r<_t&&_t<t||(_t<t||r<_t)&&e)&&t++;(t===St||r<St&&St<t||(St<t||r<St)&&e)&&++t===_t&&t++;At<t&&(t=t-At+Et-1);return String.fromCharCode(n)+String.fromCharCode(t)}(t,e,r)}(r.easting,r.northing,r.zoneNumber)+t.substr(t.length-5,n)+e.substr(e.length-5,n);var r,n}function Ot(t){t=It(Dt(t.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function Ct(t){return t*(Math.PI/180)}function Rt(t){return t/Math.PI*180}function It(t){var e=t.northing,r=t.easting,n=t.zoneLetter,i=t.zoneNumber;if(i<0||60<i)return null;var s=6378137,o=.00669438,a=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),h=r-5e5,u=e;n<"N"&&(u-=1e7);r=6*(i-1)-180+3,e=o/(1-o),i=(n=u/.9996/6367449.145945056)+(3*a/2-27*a*a*a/32)*Math.sin(2*n)+(21*a*a/16-55*a*a*a*a/32)*Math.sin(4*n)+151*a*a*a/96*Math.sin(6*n),u=s/Math.sqrt(1-o*Math.sin(i)*Math.sin(i)),a=Math.tan(i)*Math.tan(i),n=e*Math.cos(i)*Math.cos(i),o=s*(1-o)/Math.pow(1-o*Math.sin(i)*Math.sin(i),1.5),h/=.9996*u,o=Rt(o=i-u*Math.tan(i)/o*(h*h/2-(5+3*a+10*n-4*n*n-9*e)*h*h*h*h/24+(61+90*a+298*n+45*a*a-252*e-3*n*n)*h*h*h*h*h*h/720)),i=r+Rt(i=(h-(1+2*a+n)*h*h*h/6+(5-2*n+28*a-3*n*n+8*e+24*a*a)*h*h*h*h*h/120)/Math.cos(i));return t.accuracy?{top:(t=It({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber})).lat,right:t.lon,bottom:o,left:i}:{lat:o,lon:i}}function Lt(t){t%=wt;return t=0===t?wt:t}function Dt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,r=t.length,n=null,i="",s=0;!/[A-Z]/.test(e=t.charAt(s));){if(2<=s)throw"MGRSPoint bad conversion from: "+t;i+=e,s++}var o=parseInt(i,10);if(0===s||r<s+3)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(s++);if(a<="A"||"B"===a||"Y"===a||"Z"<=a||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;for(var n=t.substring(s,s+=2),h=Lt(o),u=function(t,e){var r=xt.charCodeAt(e-1),n=1e5,i=!1;for(;r!==t.charCodeAt(0);){if(++r===_t&&r++,r===St&&r++,Tt<r){if(i)throw"Bad character: "+t;r=Et,i=!0}n+=1e5}return n}(n.charAt(0),h),c=function(t,e){if("V"<t)throw"MGRSPoint given invalid Northing "+t;var r=Nt.charCodeAt(e-1),n=0,i=!1;for(;r!==t.charCodeAt(0);){if(++r===_t&&r++,r===St&&r++,At<r){if(i)throw"Bad character: "+t;r=Et,i=!0}n+=1e5}return n}(n.charAt(1),h);c<function(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}{if(0<=e)return e;throw"Invalid zone letter: "+t}}(a);)c+=2e6;var l=r-s;if(l%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var p,n=l/2,h=0,r=0;return 0<n&&(p=1e5/Math.pow(10,n),l=t.substring(s,s+n),h=parseFloat(l)*p,n=t.substring(s+n),r=parseFloat(n)*p),{easting:h+u,northing:r+c,zoneLetter:a,zoneNumber:o,accuracy:p}}function kt(t,e,r){if(!(this instanceof kt))return new kt(t,e,r);var n;Array.isArray(t)?(this.x=t[0],this.y=t[1],this.z=t[2]||0):"object"==typeof t?(this.x=t.x,this.y=t.y,this.z=t.z||0):"string"==typeof t&&void 0===e?(n=t.split(","),this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0):(this.x=t,this.y=e,this.z=r||0),console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}kt.fromMGRS=function(t){return new kt(Ot(t))},kt.prototype.toMGRS=function(t){return Pt([this.x,this.y],t)};function Ft(t){var e=[];e[0]=qt-t*(Ut+t*(Bt+t*(Gt+t*Ht))),e[1]=t*(zt-t*(Bt+t*(Gt+t*Ht)));var r=t*t;return e[2]=r*(Vt-t*(Wt+t*$t)),e[3]=(r*=t)*(Jt-t*Xt),e[4]=r*t*Qt,e}function jt(t,e,r){for(var n=1/(1-e),i=t,s=Zt;s;--s){var o=Math.sin(i),a=1-e*o*o;if(i-=a=(Yt(i,o,Math.cos(i),r)-t)*(a*Math.sqrt(a))*n,Math.abs(a)<E)return i}return i}var qt=1,Ut=.25,Bt=.046875,Gt=.01953125,Ht=.01068115234375,zt=.75,Vt=.46875,Wt=.013020833333333334,$t=.007120768229166667,Jt=.3645833333333333,Xt=.005696614583333333,Qt=.3076171875,Yt=function(t,e,r,n){return n[0]*t-(r*=e)*(n[1]+(e*=e)*(n[2]+e*(n[3]+e*n[4])))},Zt=20;function Kt(t,e){for(var r,n=2*Math.cos(2*e),i=t.length-1,s=t[i],o=0;0<=--i;)r=n*s-o+t[i],o=s,s=r;return e+r*Math.sin(2*e)}function te(t,e,r){for(var n,i,s=Math.sin(e),o=Math.cos(e),e=re(r),r=se(r),a=2*o*r,h=-2*s*e,u=t.length-1,c=t[u],l=0,p=0,f=0;0<=--u;)n=p,i=l,c=a*(p=c)-n-h*(l=f)+t[u],f=h*p-i+a*l;return[(a=s*r)*c-(h=o*e)*f,a*f+h*c]}var ee={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Ft(this.es),this.ml0=Yt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e=t.x,r=t.y,n=V(e-this.long0),i=Math.sin(r),s=Math.cos(r);if(this.es){var o=s*n,a=Math.pow(o,2),h=this.ep2*Math.pow(s,2),u=Math.pow(h,2),e=Math.abs(s)>E?Math.tan(r):0,c=Math.pow(e,2),l=Math.pow(c,2),p=1-this.es*Math.pow(i,2);o/=Math.sqrt(p);e=Yt(r,i,s,this.en),p=this.a*(this.k0*o*(1+a/6*(1-c+h+a/20*(5-18*c+l+14*h-58*c*h+a/42*(61+179*l-l*c-479*c)))))+this.x0,l=this.a*(this.k0*(e-this.ml0+i*n*o/2*(1+a/12*(5-c+9*h+4*u+a/30*(61+l-58*c+270*h-330*c*h+a/56*(1385+543*l-l*c-3111*c))))))+this.y0}else{c=s*Math.sin(n);if(Math.abs(Math.abs(c)-1)<E)return 93;if(p=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,l=s*Math.cos(n)/Math.sqrt(1-Math.pow(c,2)),1<=(c=Math.abs(l))){if(E<c-1)return 93;l=0}else l=Math.acos(l);l=this.a*this.k0*((l=r<0?-l:l)-this.lat0)+this.y0}return t.x=p,t.y=l,t},inverse:function(t){var e,r,n,i,s,o,a,h,u,c=(t.x-this.x0)*(1/this.a),l=(t.y-this.y0)*(1/this.a),p=this.es?(h=this.ml0+l/this.k0,e=jt(h,this.es,this.en),Math.abs(e)<v?(o=Math.sin(e),r=Math.cos(e),a=Math.abs(r)>E?Math.tan(e):0,n=this.ep2*Math.pow(r,2),u=Math.pow(n,2),i=Math.pow(a,2),s=Math.pow(i,2),h=1-this.es*Math.pow(o,2),o=c*Math.sqrt(h)/this.k0,u=e-(h*=a)*(a=Math.pow(o,2))/(1-this.es)*.5*(1-a/12*(5+3*i-9*n*i+n-4*u-a/30*(61+90*i-252*n*i+45*s+46*n-a/56*(1385+3633*i+4095*s+1574*s*i)))),V(this.long0+o*(1-a/6*(1+2*i+n-a/20*(5+28*i+24*s+8*n*i+6*n-a/42*(61+662*i+1320*s+720*s*i))))/r)):(u=v*z(l),0)):(c=.5*((p=Math.exp(c/this.k0))-1/p),p=this.lat0+l/this.k0,p=Math.cos(p),h=Math.sqrt((1-Math.pow(p,2))/(1+Math.pow(c,2))),u=Math.asin(h),l<0&&(u=-u),0==c&&0===p?0:V(Math.atan2(c,p)+this.long0));return t.x=p,t.y=u,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},re=function(t){t=Math.exp(t);return t=(t-1/t)/2},ne=function(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),e=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(e,2))},ie=function(t){var e=1+t,r=e-1;return 0==r?t:t*Math.log(e)/r},se=function(t){t=Math.exp(t);return t=(t+1/t)/2};var oe={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(ee.init.apply(this),this.forward=ee.forward,this.inverse=ee.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=(e=this.es/(1+Math.sqrt(1-this.es)))/(2-e),e=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+-2854/675*t))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+4642/4725*t))))-2),this.cgb[1]=(e*=t)*(7/3+t*(t*(-227/45+t*(2704/315+2323/945*t))-1.6)),this.cbg[1]=e*(5/3+t*(-16/15+t*(-13/9+t*(904/315+-1522/945*t)))),this.cgb[2]=(e*=t)*(56/15+t*(-136/35+t*(-1262/105+73814/2835*t))),this.cbg[2]=e*(-26/15+t*(34/21+t*(1.6+-12686/2835*t))),this.cgb[3]=(e*=t)*(4279/630+t*(-332/35+-399572/14175*t)),this.cbg[3]=e*(1237/630+t*(-24832/14175*t-2.4)),this.cgb[4]=(e*=t)*(4174/315+-144838/6237*t),this.cbg[4]=e*(-734/315+109598/31185*t),this.cgb[5]=601676/22275*(e*=t),this.cbg[5]=444337/155925*e,e=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+e*(.25+e*(1/64+e/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+-96199/604800*t))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+7891/37800*t))))),this.utg[1]=e*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+1118711/3870720*t)))),this.gtu[1]=e*(13/48+t*(t*(557/1440+t*(281/630+-1983433/1935360*t))-.6)),this.utg[2]=(e*=t)*(-17/480+t*(37/840+t*(209/4480+-5569/90720*t))),this.gtu[2]=e*(61/240+t*(-103/140+t*(15061/26880+167603/181440*t))),this.utg[3]=(e*=t)*(-4397/161280+t*(11/504+830251/7257600*t)),this.gtu[3]=e*(49561/161280+t*(-179/168+6601661/7257600*t)),this.utg[4]=(e*=t)*(-4583/161280+108847/3991680*t),this.gtu[4]=e*(34729/80640+-3418889/1995840*t),this.utg[5]=-.03233083094085698*(e*=t),this.gtu[5]=.6650675310896665*e,e=Kt(this.cbg,this.lat0),this.Zb=-this.Qn*(e+function(t,e){for(var r,n=2*Math.cos(e),i=t.length-1,s=t[i],o=0;0<=--i;)r=n*s-o+t[i],o=s,s=r;return Math.sin(e)*r}(this.gtu,2*e))},forward:function(t){var e=V(t.x-this.long0),r=t.y,r=Kt(this.cbg,r),n=Math.sin(r),i=Math.cos(r),s=Math.sin(e),o=Math.cos(e);r=Math.atan2(n,o*i),e=Math.atan2(s*i,ne(n,i*o)),i=Math.tan(e),o=Math.abs(i),o=ie(o*(1+o/(ne(1,o)+1)));var a,o=te(this.gtu,2*r,2*(e=i<0?-o:o));return r+=o[0],e+=o[1],r=Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,this.a*(this.Qn*r+this.Zb)+this.y0):a=1/0,t.x=a,t.y=r,t},inverse:function(t){var e,r,n,i,s=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);return o=(o-this.Zb)/this.Qn,s/=this.Qn,o=Math.abs(s)<=2.623395162778?(o+=(i=te(this.utg,2*o,2*s))[0],s+=i[1],s=Math.atan(re(s)),e=Math.sin(o),r=Math.cos(o),n=Math.sin(s),i=Math.cos(s),o=Math.atan2(e*i,ne(n,i*r)),s=Math.atan2(n,i*r),r=V(s+this.long0),Kt(this.cgb,o)):r=1/0,t.x=r,t.y=o,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]};function ae(t,e){return Math.pow((1-t)/(1+t),e)}var he={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(V(e)+Math.PI)/Math.PI)+1)<0)return 0;if(60<t)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*_,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,oe.init.apply(this),this.forward=oe.forward,this.inverse=oe.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};var ue={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+S)/(Math.pow(Math.tan(.5*this.lat0+S),this.C)*ae(this.e*t,this.ratexp))},forward:function(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+S),this.C)*ae(this.e*Math.sin(r),this.ratexp))-v,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,r=t.y,n=Math.pow(Math.tan(.5*r+S)/this.K,1/this.C),i=20;0<i&&(r=2*Math.atan(n*ae(this.e*Math.sin(t.y),-.5*this.e))-v,!(Math.abs(r-t.y)<1e-14));--i)t.y=r;return i?(t.x=e,t.y=r,t):null},names:["gauss"]};var ce={init:function(){ue.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,r,n,i;return t.x=V(t.x-this.long0),ue.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*n),t.x=i*r*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*r*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,r,n,i;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,i=(e=Math.sqrt(t.x*t.x+t.y*t.y))?(n=2*Math.atan2(e,this.R2),i=Math.sin(n),r=Math.cos(n),n=Math.asin(r*this.sinc0+t.y*i*this.cosc0/e),Math.atan2(t.x*i,e*this.cosc0*r-t.y*this.sinc0*i)):(n=this.phic0,0),t.x=i,t.y=n,ue.inverse.apply(this,[t]),t.x=V(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var le={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=E&&(this.k0=.5*(1+z(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=E&&(0<this.lat0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=E&&(this.k0=.5*this.cons*B(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/G(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=B(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-v,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,r,n=t.x,i=t.y,s=Math.sin(i),o=Math.cos(i),a=V(n-this.long0);return Math.abs(Math.abs(n-this.long0)-Math.PI)<=E&&Math.abs(i+this.lat0)<=E?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*s+this.coslat0*o*Math.cos(a)),t.x=this.a*e*o*Math.sin(a)+this.x0,t.y=this.a*e*(this.coslat0*s-this.sinlat0*o*Math.cos(a))+this.y0,t):(r=2*Math.atan(this.ssfn_(i,s,this.e))-v,o=Math.cos(r),r=Math.sin(r),Math.abs(this.coslat0)<=E?(s=G(this.e,i*this.con,this.con*s),s=2*this.a*this.k0*s/this.cons,t.x=this.x0+s*Math.sin(n-this.long0),t.y=this.y0-this.con*s*Math.cos(n-this.long0)):(Math.abs(this.sinlat0)<E?(e=2*this.a*this.k0/(1+o*Math.cos(a)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*o*Math.cos(a))),t.y=e*(this.cosX0*r-this.sinX0*o*Math.cos(a))+this.y0),t.x=e*o*Math.sin(a)+this.x0),t)},inverse:function(t){var e,r;t.x-=this.x0,t.y-=this.y0;var n=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var i=2*Math.atan(n/(2*this.a*this.k0)),s=this.long0,o=this.lat0;return n<=E?(t.x=s,t.y=o,t):(o=Math.asin(Math.cos(i)*this.sinlat0+t.y*Math.sin(i)*this.coslat0/n),s=Math.abs(this.coslat0)<E?0<this.lat0?V(this.long0+Math.atan2(t.x,-1*t.y)):V(this.long0+Math.atan2(t.x,t.y)):V(this.long0+Math.atan2(t.x*Math.sin(i),n*this.coslat0*Math.cos(i)-t.y*this.sinlat0*Math.sin(i))),t.x=s,t.y=o,t)}if(Math.abs(this.coslat0)<=E){if(n<=E)return o=this.lat0,s=this.long0,t.x=s,t.y=o,t;t.x*=this.con,t.y*=this.con,e=n*this.cons/(2*this.a*this.k0),o=this.con*H(this.e,e),s=this.con*V(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else e=2*Math.atan(n*this.cosX0/(2*this.a*this.k0*this.ms1)),s=this.long0,n<=E?r=this.X0:(r=Math.asin(Math.cos(e)*this.sinX0+t.y*Math.sin(e)*this.cosX0/n),s=V(this.long0+Math.atan2(t.x*Math.sin(e),n*this.cosX0*Math.cos(e)-t.y*this.sinX0*Math.sin(e)))),o=-1*H(this.e,Math.tan(.5*(v+r)));return t.x=s,t.y=o,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,r){return e*=r,Math.tan(.5*(v+t))*Math.pow((1-e)/(1+e),.5*r)}};var pe={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,n=2*(i=1/this.rf)-Math.pow(i,2),i=this.e=Math.sqrt(n);this.R=this.k0*r*Math.sqrt(1-n)/(1-n*Math.pow(e,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha),n=Math.log(Math.tan(Math.PI/4+this.b0/2)),t=Math.log(Math.tan(Math.PI/4+t/2)),e=Math.log((1+i*e)/(1-i*e)),this.K=n-this.alpha*t+this.alpha*i/2*e},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+r)+this.K,e=2*(Math.atan(Math.exp(n))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),n=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(e)+Math.cos(this.b0)*Math.cos(r))),r=Math.asin(Math.cos(this.b0)*Math.sin(e)-Math.sin(this.b0)*Math.cos(e)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(r))/(1-Math.sin(r)))+this.y0,t.x=this.R*n+this.x0,t},inverse:function(t){for(var e,r=t.x-this.x0,n=t.y-this.y0,r=r/this.R,n=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),i=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(r)),n=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(n))),n=this.lambda0+n/this.alpha,s=i,o=-1e3,a=0;1e-7<Math.abs(s-o);){if(20<++a)return;e=1/this.alpha*(Math.log(Math.tan(Math.PI/4+i/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(s))/2)),o=s,s=2*Math.atan(Math.exp(e))-Math.PI/2}return t.x=n,t.y=s,t},names:["somerc"]},fe=1e-7;var de={init:function(){var t,e,r,n,i,s=0,o=0,a=0,h=0,u=0,c=0,l=0;this.no_off=(i="object"==typeof(m=this).PROJECTION?Object.keys(m.PROJECTION)[0]:m.PROJECTION,"no_uoff"in m||"no_off"in m||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(i)),this.no_rot="no_rot"in this;var p=!1;"alpha"in this&&(p=!0);var f=!1;if("rectified_grid_angle"in this&&(f=!0),p&&(l=this.alpha),f&&(s=this.rectified_grid_angle*_),p||f)o=this.longc;else if(a=this.long1,u=this.lat1,h=this.long2,c=this.lat2,Math.abs(u-c)<=fe||(t=Math.abs(u))<=fe||Math.abs(t-v)<=fe||Math.abs(Math.abs(this.lat0)-v)<=fe||Math.abs(Math.abs(c)-v)<=fe)throw new Error;var d=1-this.es,m=Math.sqrt(d);Math.abs(this.lat0)>E?(i=Math.sin(this.lat0),r=Math.cos(this.lat0),t=1-this.es*i*i,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/d),this.A=this.B*this.k0*m/t,(r=(e=this.B*m/(r*Math.sqrt(t)))*e-1)<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=e,this.E*=Math.pow(G(this.e,this.lat0,i),this.B)):(this.B=1/m,this.A=this.k0,this.E=e=r=1),p||f?(p?(n=Math.asin(Math.sin(l)/e),f||(s=l)):(n=s,l=Math.asin(e*Math.sin(n))),this.lam0=o-Math.asin(.5*(r-1/r)*Math.tan(n))/this.B):(f=Math.pow(G(this.e,u,Math.sin(u)),this.B),o=Math.pow(G(this.e,c,Math.sin(c)),this.B),r=this.E/f,u=(o-f)/(o+f),c=((c=this.E*this.E)-o*f)/(c+o*f),(t=a-h)<-Math.pi?h-=A:t>Math.pi&&(h+=A),this.lam0=V(.5*(a+h)-Math.atan(c*Math.tan(.5*this.B*(a-h))/u)/this.B),n=Math.atan(2*Math.sin(this.B*V(a-this.lam0))/(r-1/r)),s=l=Math.asin(e*Math.sin(n))),this.singam=Math.sin(n),this.cosgam=Math.cos(n),this.sinrot=Math.sin(s),this.cosrot=Math.cos(s),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(e*e-1)/Math.cos(l))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*n,this.v_pole_n=this.ArB*Math.log(Math.tan(S-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(S+r))},forward:function(t){var e,r,n,i,s={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-v)>E){if(e=.5*((r=this.E/Math.pow(G(this.e,t.y,Math.sin(t.y)),this.B))-(n=1/r)),i=.5*(r+n),r=Math.sin(this.B*t.x),i=(e*this.singam-r*this.cosgam)/i,Math.abs(Math.abs(i)-1)<E)throw new Error;i=.5*this.ArB*Math.log((1-i)/(1+i)),n=Math.cos(this.B*t.x),n=Math.abs(n)<fe?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+r*this.singam,n)}else i=0<t.y?this.v_pole_n:this.v_pole_s,n=this.ArB*t.y;return this.no_rot?(s.x=n,s.y=i):(n-=this.u_0,s.x=i*this.cosrot+n*this.sinrot,s.y=n*this.cosrot-i*this.sinrot),s.x=this.a*s.x+this.x0,s.y=this.a*s.y+this.y0,s},inverse:function(t){var e,r,n,i={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),e=this.no_rot?(n=t.y,t.x):(n=t.x*this.cosrot-t.y*this.sinrot,t.y*this.cosrot+t.x*this.sinrot+this.u_0),t=.5*((r=Math.exp(-this.BrA*n))-1/r),n=.5*(r+1/r),n=((r=Math.sin(this.BrA*e))*this.cosgam+t*this.singam)/n,Math.abs(Math.abs(n)-1)<E)i.x=0,i.y=n<0?-v:v;else{if(i.y=this.E/Math.sqrt((1+n)/(1-n)),i.y=H(this.e,Math.pow(i.y,1/this.B)),i.y===1/0)throw new Error;i.x=-this.rB*Math.atan2(t*this.cosgam-r*this.singam,Math.cos(this.BrA*e))}return i.x+=this.lam0,i},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};var me={init:function(){var t,e,r,n,i,s;this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,Math.abs(this.lat1+this.lat2)<E||(i=this.b/this.a,this.e=Math.sqrt(1-i*i),t=Math.sin(this.lat1),n=Math.cos(this.lat1),e=B(this.e,t,n),r=G(this.e,this.lat1,t),s=Math.sin(this.lat2),i=Math.cos(this.lat2),n=B(this.e,s,i),i=G(this.e,this.lat2,s),s=G(this.e,this.lat0,Math.sin(this.lat0)),Math.abs(this.lat1-this.lat2)>E?this.ns=Math.log(e/n)/Math.log(r/i):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=e/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(s,this.ns),this.title||(this.title="Lambert Conformal Conic"))},forward:function(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=E&&(r=z(r)*(v-2*E));var n,i=Math.abs(Math.abs(r)-v);if(E<i)n=G(this.e,r,Math.sin(r)),n=this.a*this.f0*Math.pow(n,this.ns);else{if(r*this.ns<=0)return null;n=0}return e=this.ns*V(e-this.long0),t.x=this.k0*(n*Math.sin(e))+this.x0,t.y=this.k0*(this.rh-n*Math.cos(e))+this.y0,t},inverse:function(t){var e,r,n=(t.x-this.x0)/this.k0,i=this.rh-(t.y-this.y0)/this.k0,s=0<this.ns?(e=Math.sqrt(n*n+i*i),1):(e=-Math.sqrt(n*n+i*i),-1),o=0;if(0!==e&&(o=Math.atan2(s*n,s*i)),0!==e||0<this.ns){if(s=1/this.ns,r=Math.pow(e/(this.a*this.f0),s),-9999===(r=H(this.e,r)))return null}else r=-v;return o=V(o/this.ns+this.long0),t.x=o,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]};function ge(t,e,r,n,i){return t*i-e*Math.sin(2*i)+r*Math.sin(4*i)-n*Math.sin(6*i)}function ye(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Me(t){return.375*t*(1+.25*t*(1+.46875*t))}function ve(t){return.05859375*t*t*(1+.75*t)}function be(t){return t*t*t*(35/3072)}function we(t,e,r){return r*=e,t/Math.sqrt(1-r*r)}function xe(t){return Math.abs(t)<v?t:t-z(t)*Math.PI}function Ne(t,e,r,n,i){for(var s,o=t/e,a=0;a<15;a++)if(o+=s=(t-(e*o-r*Math.sin(2*o)+n*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*r*Math.cos(2*o)+4*n*Math.cos(4*o)-6*i*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN}var Ee={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e=t.x,r=t.y,n=V(e-this.long0),e=Math.pow((1+this.e*Math.sin(r))/(1-this.e*Math.sin(r)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(r/2+this.s45),this.alfa)/e)-this.s45),e=-n*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(e)),e=Math.asin(Math.cos(r)*Math.sin(e)/Math.cos(n)),e=this.n*e,n=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n);return t.y=n*Math.cos(e),t.x=n*Math.sin(e),this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,r,n=t.x;t.x=t.y,t.y=n,this.czech||(t.y*=-1,t.x*=-1),r=Math.sqrt(t.x*t.x+t.y*t.y),n=Math.atan2(t.y,t.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/r,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),n=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(e)),t.x=this.long0-n/this.alfa;for(var i=e,s=0,o=0;t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(i))/(1-this.e*Math.sin(i)),this.e/2))-this.s45),Math.abs(i-t.y)<1e-10&&(s=1),i=t.y,o+=1,0===s&&o<15;);return 15<=o?null:t},names:["Krovak","krovak"]};function _e(t,e){var r;return 1e-7<t?(1-t*t)*(e/(1-(r=t*e)*r)-.5/t*Math.log((1-r)/(1+r))):2*e}var Se={init:function(){this.sphere||(this.e0=ye(this.es),this.e1=Me(this.es),this.e2=ve(this.es),this.e3=be(this.es),this.ml0=this.a*ge(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,r,n,i,s,o,a=t.x,h=t.y,a=V(a-this.long0);return o=this.sphere?(s=this.a*Math.asin(Math.cos(h)*Math.sin(a)),this.a*(Math.atan2(Math.tan(h),Math.cos(a))-this.lat0)):(e=Math.sin(h),r=Math.cos(h),n=we(this.a,this.e,e),i=Math.tan(h)*Math.tan(h),s=n*(a=a*Math.cos(h))*(1-(o=a*a)*i*(1/6-(8-i+8*(a=this.es*r*r/(1-this.es)))*o/120)),this.a*ge(this.e0,this.e1,this.e2,this.e3,h)-this.ml0+n*e/r*o*(.5+(5-i+6*a)*o/24)),t.x=s+this.x0,t.y=o+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a;if(this.sphere)var n=r+this.lat0,i=Math.asin(Math.sin(n)*Math.cos(e)),s=Math.atan2(Math.tan(e),Math.cos(n));else{var o=this.ml0/this.a+r,a=Ne(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-v)<=E)return t.x=this.long0,t.y=v,r<0&&(t.y*=-1),t;var h=we(this.a,this.e,Math.sin(a)),n=h*h*h/this.a/this.a*(1-this.es),o=Math.pow(Math.tan(a),2),r=e*this.a/h,e=r*r;i=a-h*Math.tan(a)/n*r*r*(.5-(1+3*o)*r*r/24),s=r*(1-e*(o/3+(1+3*o)*o*e/15))/Math.cos(a)}return t.x=V(s+this.long0),t.y=xe(i),t},names:["Cassini","Cassini_Soldner","cass"]};var Ae=.3333333333333333,Te=.17222222222222222,Pe=.10257936507936508,Oe=.06388888888888888,Ce=.0664021164021164,Re=.016415012942191543;function Ie(t){return 1<Math.abs(t)&&(t=1<t?1:-1),Math.asin(t)}var Le={init:function(){var t,e,r,n=Math.abs(this.lat0);if(Math.abs(n-v)<E?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(n)<E?this.mode=this.EQUIT:this.mode=this.OBLIQ,0<this.es)switch(this.qp=_e(this.e,1),this.mmf=.5/(1-this.es),this.apa=(e=this.es,(r=[])[0]=e*Ae,n=e*e,r[0]+=n*Te,r[1]=n*Oe,n*=e,r[0]+=n*Pe,r[1]+=n*Ce,r[2]=n*Re,r),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=_e(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,r,n,i,s,o,a,h,u,c,l=t.x,p=t.y,l=V(l-this.long0);if(this.sphere){if(s=Math.sin(p),c=Math.cos(p),n=Math.cos(l),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((r=this.mode===this.EQUIT?1+c*n:1+this.sinph0*s+this.cosph0*c*n)<=E)return null;e=(r=Math.sqrt(2/r))*c*Math.sin(l),r*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*c*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(p+this.lat0)<E)return null;r=S-.5*p,e=(r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)))*Math.sin(l),r*=n}}else{switch(u=h=a=0,n=Math.cos(l),i=Math.sin(l),s=Math.sin(p),o=_e(this.e,s),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=o/this.qp,h=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:u=1+this.sinb1*a+this.cosb1*h*n;break;case this.EQUIT:u=1+h*n;break;case this.N_POLE:u=v+p,o=this.qp-o;break;case this.S_POLE:u=p-v,o=this.qp+o}if(Math.abs(u)<E)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),r=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*a-this.sinb1*h*n):(u=Math.sqrt(2/(1+h*n)))*a*this.ymf,e=this.xmf*u*h*i;break;case this.N_POLE:case this.S_POLE:0<=o?(e=(u=Math.sqrt(o))*i,r=n*(this.mode===this.S_POLE?u:-u)):e=r=0}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,s,o,a=t.x/this.a,h=t.y/this.a;if(this.sphere){var u,c=0,l=0,p=Math.sqrt(a*a+h*h);if(1<(u=.5*p))return null;switch(u=2*Math.asin(u),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(l=Math.sin(u),c=Math.cos(u)),this.mode){case this.EQUIT:u=Math.abs(p)<=E?0:Math.asin(h*l/p),a*=l,h=c*p;break;case this.OBLIQ:u=Math.abs(p)<=E?this.lat0:Math.asin(c*this.sinph0+h*l*this.cosph0/p),a*=l*this.cosph0,h=(c-Math.sin(u)*this.sinph0)*p;break;case this.N_POLE:h=-h,u=v-u;break;case this.S_POLE:u-=v}e=0!==h||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(a,h):0}else{if(o=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(a/=this.dd,h*=this.dd,(n=Math.sqrt(a*a+h*h))<E)return t.x=this.long0,t.y=this.lat0,t;r=2*Math.asin(.5*n/this.rq),i=Math.cos(r),a*=r=Math.sin(r),h=this.mode===this.OBLIQ?(o=i*this.sinb1+h*r*this.cosb1/n,s=this.qp*o,n*this.cosb1*i-h*this.sinb1*r):(s=this.qp*(o=h*r/n),n*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(!(s=a*a+(h=this.mode===this.N_POLE?-h:h)*h))return t.x=this.long0,t.y=this.lat0,t;o=1-s/this.qp,this.mode===this.S_POLE&&(o=-o)}e=Math.atan2(a,h),i=Math.asin(o),s=this.apa,o=i+i,u=i+s[0]*Math.sin(o)+s[1]*Math.sin(o+o)+s[2]*Math.sin(o+o+o)}return t.x=V(this.long0+e),t.y=u,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};var De={init:function(){Math.abs(this.lat1+this.lat2)<E||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=B(this.e3,this.sin_po,this.cos_po),this.qs1=_e(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=B(this.e3,this.sin_po,this.cos_po),this.qs2=_e(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=_e(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>E?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var n=_e(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,n=this.ns0*V(e-this.long0),e=r*Math.sin(n)+this.x0,n=this.rh-r*Math.cos(n)+this.y0;return t.x=e,t.y=n,t},inverse:function(t){var e,r,n,i;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,r=0<=this.ns0?(e=Math.sqrt(t.x*t.x+t.y*t.y),1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),-1),(n=0)!==e&&(n=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,i=this.sphere?Math.asin((this.c-r*r)/(2*this.ns0)):(i=(this.c-r*r)/this.ns0,this.phi1z(this.e3,i)),n=V(n/this.ns0+this.long0),t.x=n,t.y=i,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var r,n,i,s=Ie(.5*e);if(t<E)return s;for(var o=t*t,a=1;a<=25;a++)if(s+=i=.5*(n=1-(i=t*(r=Math.sin(s)))*i)*n/Math.cos(s)*(e/(1-o)-r/n+.5/t*Math.log((1-i)/(1+i))),Math.abs(i)<=1e-7)return s;return null}};var ke={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,r=t.x,n=t.y,i=V(r-this.long0),s=Math.sin(n),o=Math.cos(n),r=Math.cos(i),r=0<(n=this.sin_p14*s+this.cos_p14*o*r)||Math.abs(n)<=E?(e=this.x0+ +this.a*o*Math.sin(i)/n,this.y0+ +this.a*(this.cos_p14*s-this.sin_p14*o*r)/n):(e=this.x0+this.infinity_dist*o*Math.sin(i),this.y0+this.infinity_dist*(this.cos_p14*s-this.sin_p14*o*r));return t.x=e,t.y=r,t},inverse:function(t){var e,r,n,i;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,n=(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),i=Ie(r*this.sin_p14+t.y*n*this.cos_p14/e),n=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),V(this.long0+n)):(i=this.phic0,0),t.x=n,t.y=i,t},names:["gnom"]};var Fe={init:function(){this.sphere||(this.k0=B(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,r,n=t.x,i=t.y,n=V(n-this.long0);return r=this.sphere?(e=this.x0+this.a*n*Math.cos(this.lat_ts),this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts)):(r=_e(this.e,Math.sin(i)),e=this.x0+this.a*this.k0*n,this.y0+this.a*r*.5/this.k0),t.x=e,t.y=r,t},inverse:function(t){var e,r;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=V(this.long0+t.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=function(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*v:v;for(var n,i,s,o=Math.asin(.5*e),a=0;a<30;a++)if(n=Math.sin(o),i=Math.cos(o),s=t*n,o+=s=Math.pow(1-s*s,2)/(2*i)*(e/(1-t*t)-n/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(s)<=1e-10)return o;return NaN}(this.e,2*t.y*this.k0/this.a),e=V(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=r,t},names:["cea"]};var je={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,r=t.y,e=V(e-this.long0),r=xe(r-this.lat0);return t.x=this.x0+this.a*e*this.rc,t.y=this.y0+this.a*r,t},inverse:function(t){var e=t.x,r=t.y;return t.x=V(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=xe(this.lat0+(r-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};var qe={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ye(this.es),this.e1=Me(this.es),this.e2=ve(this.es),this.e3=be(this.es),this.ml0=this.a*ge(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,r=t.x,n=t.y,i=V(r-this.long0),r=i*Math.sin(n);return r=this.sphere?Math.abs(n)<=E?(e=this.a*i,-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(n),this.a*(xe(n-this.lat0)+(1-Math.cos(r))/Math.tan(n))):Math.abs(n)<=E?(e=this.a*i,-1*this.ml0):(e=(i=we(this.a,this.e,Math.sin(n))/Math.tan(n))*Math.sin(r),this.a*ge(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+i*(1-Math.cos(r))),t.x=e+this.x0,t.y=r+this.y0,t},inverse:function(t){var e,r,n,i,s,o,a=t.x-this.x0,h=t.y-this.y0;if(this.sphere)if(Math.abs(h+this.a*this.lat0)<=E)e=V(a/this.a+this.long0),r=0;else{for(var u,c=this.lat0+h/this.a,l=a*a/this.a/this.a+c*c,p=c,f=20;f;--f)if(p+=n=-1*(c*(p*(u=Math.tan(p))+1)-p-.5*(p*p+l)*u)/((p-c)/u-1),Math.abs(n)<=E){r=p;break}e=V(this.long0+Math.asin(a*Math.tan(p)/this.a)/Math.sin(r))}else if(Math.abs(h+this.ml0)<=E)r=0,e=V(this.long0+a/this.a);else{for(c=(this.ml0+h)/this.a,l=a*a/this.a/this.a+c*c,p=c,f=20;f;--f)if(o=this.e*Math.sin(p),i=Math.sqrt(1-o*o)*Math.tan(p),s=this.a*ge(this.e0,this.e1,this.e2,this.e3,p),o=this.e0-2*this.e1*Math.cos(2*p)+4*this.e2*Math.cos(4*p)-6*this.e3*Math.cos(6*p),p-=n=(c*(i*(s=s/this.a)+1)-s-.5*i*(s*s+l))/(this.es*Math.sin(2*p)*(s*s+l-2*c*s)/(4*i)+(c-s)*(i*o-2/Math.sin(2*p))-o),Math.abs(n)<=E){r=p;break}i=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=V(this.long0+Math.asin(a*i/this.a)/Math.sin(r))}return t.x=e,t.y=r,t},names:["Polyconic","poly"]};var Ue={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){for(var e=t.x,r=t.y-this.lat0,e=e-this.long0,n=r/N*1e-5,e=e,i=1,s=0,o=1;o<=10;o++)s+=this.A[o]*(i*=n);var a,h=s,u=e,c=1,l=0,p=0,f=0;for(o=1;o<=6;o++)a=l*h+c*u,p=p+this.B_re[o]*(c=c*h-l*u)-this.B_im[o]*(l=a),f=f+this.B_im[o]*c+this.B_re[o]*l;return t.x=f*this.a+this.x0,t.y=p*this.a+this.y0,t},inverse:function(t){var e,r=t.x,n=t.y,r=r-this.x0,i=(n-this.y0)/this.a,s=r/this.a,o=1,a=0,h=0,u=0;for(g=1;g<=6;g++)e=a*i+o*s,h=h+this.C_re[g]*(o=o*i-a*s)-this.C_im[g]*(a=e),u=u+this.C_im[g]*o+this.C_re[g]*a;for(var c=0;c<this.iterations;c++){for(var l,p=h,f=u,d=i,m=s,g=2;g<=6;g++)l=f*h+p*u,p=p*h-f*u,f=l,d+=(g-1)*(this.B_re[g]*p-this.B_im[g]*f),m+=(g-1)*(this.B_im[g]*p+this.B_re[g]*f);var p=1,f=0,y=this.B_re[1],M=this.B_im[1];for(g=2;g<=6;g++)l=f*h+p*u,p=p*h-f*u,f=l,y+=g*(this.B_re[g]*p-this.B_im[g]*f),M+=g*(this.B_im[g]*p+this.B_re[g]*f);var v=y*y+M*M,h=(d*y+m*M)/v,u=(m*y-d*M)/v}var b=h,n=u,w=1,x=0;for(g=1;g<=9;g++)x+=this.D[g]*(w*=b);return r=this.lat0+x*N*1e5,n=this.long0+n,t.x=n,t.y=r,t},names:["New_Zealand_Map_Grid","nzmg"]};var Be={init:function(){},forward:function(t){var e=t.x,r=t.y,e=V(e-this.long0),e=this.x0+this.a*e,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=e,t.y=r,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=V(this.long0+t.x/this.a),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t},names:["Miller_Cylindrical","mill"]};var Ge={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ft(this.es)},forward:function(t){var e=t.x,r=t.y,e=V(e-this.long0);if(this.sphere){if(this.m)for(var n=this.n*Math.sin(r),i=20;i;--i){var s=(this.m*r+Math.sin(r)-n)/(this.m+Math.cos(r));if(r-=s,Math.abs(s)<E)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;u=this.a*this.C_x*e*(this.m+Math.cos(r)),h=this.a*this.C_y*r}else var o=Math.sin(r),a=Math.cos(r),h=this.a*Yt(r,o,a,this.en),u=this.a*e*a/Math.sqrt(1-this.es*o*o);return t.x=u,t.y=h,t},inverse:function(t){var e,r,n,i;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=Ie((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Ie(Math.sin(e)/this.n)),n=V(n+this.long0),e=xe(e)):(e=jt(t.y/this.a,this.es,this.en),(i=Math.abs(e))<v?(i=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),n=V(r)):i-E<v&&(n=this.long0)),t.x=n,t.y=e,t},names:["Sinusoidal","sinu"]};var He={init:function(){},forward:function(t){for(var e=t.x,r=t.y,e=V(e-this.long0),n=r,i=Math.PI*Math.sin(r);;){var s=-(n+Math.sin(n)-i)/(1+Math.cos(n));if(n+=s,Math.abs(s)<E)break}return n/=2,Math.PI/2-Math.abs(r)<E&&(e=0),r=.900316316158*this.a*e*Math.cos(n)+this.x0,e=1.4142135623731*this.a*Math.sin(n)+this.y0,t.x=r,t.y=e,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),.999999999999<Math.abs(n)&&(n=.999999999999);var e=Math.asin(n),r=V(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));(r=r<-Math.PI?-Math.PI:r)>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,1<Math.abs(n)&&(n=1);var n=Math.asin(n);return t.x=r,t.y=n,t},names:["Mollweide","moll"]};var ze={init:function(){Math.abs(this.lat1+this.lat2)<E||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ye(this.es),this.e1=Me(this.es),this.e2=ve(this.es),this.e3=be(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=B(this.e,this.sinphi,this.cosphi),this.ml1=ge(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<E?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=B(this.e,this.sinphi,this.cosphi),this.ml2=ge(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=ge(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e=t.x,r=t.y;r=this.sphere?this.a*(this.g-r):(n=ge(this.e0,this.e1,this.e2,this.e3,r),this.a*(this.g-n));var n=this.ns*V(e-this.long0),e=this.x0+r*Math.sin(n),n=this.y0+this.rh-r*Math.cos(n);return t.x=e,t.y=n,t},inverse:function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e=0<=this.ns?(n=Math.sqrt(t.x*t.x+t.y*t.y),1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),-1),r=0;if(0!==n&&(r=Math.atan2(e*t.x,e*t.y)),this.sphere)return s=V(this.long0+r/this.ns),i=xe(this.g-n/this.a),t.x=s,t.y=i,t;var n=this.g-n/this.a,i=Ne(n,this.e0,this.e1,this.e2,this.e3),s=V(this.long0+r/this.ns);return t.x=s,t.y=i,t},names:["Equidistant_Conic","eqdc"]};var Ve={init:function(){this.R=this.a},forward:function(t){var e=t.x,r=t.y,n=V(e-this.long0);Math.abs(r)<=E&&(u=this.x0+this.R*n,c=this.y0);var i=Ie(2*Math.abs(r/Math.PI));(Math.abs(n)<=E||Math.abs(Math.abs(r)-v)<=E)&&(u=this.x0,c=0<=r?this.y0+Math.PI*this.R*Math.tan(.5*i):this.y0+Math.PI*this.R*-Math.tan(.5*i));var s=.5*Math.abs(Math.PI/n-n/Math.PI),o=s*s,a=Math.sin(i),h=Math.cos(i),h=(i=(e=h/(a+h-1))*(2/a-1))*i,a=Math.PI*this.R*(s*(e-h)+Math.sqrt(o*(e-h)*(e-h)-(h+o)*(e*e-h)))/(h+o),u=this.x0+(a=n<0?-a:a),e=o+e,a=Math.PI*this.R*(i*e-s*Math.sqrt((h+o)*(1+o)-e*e))/(h+o),c=0<=r?this.y0+a:this.y0-a;return t.x=u,t.y=c,t},inverse:function(t){var e,r,n,i,s,o,a;return t.x-=this.x0,t.y-=this.y0,a=Math.PI*this.R,n=(e=t.x/a)*e+(r=t.y/a)*r,a=3*(r*r/(s=-2*(o=-Math.abs(r)*(1+n))+1+2*r*r+n*n)+(2*(i=o-2*r*r+e*e)*i*i/s/s/s-9*o*i/s/s)/27)/(o=(o-i*i/3/s)/s)/(o=2*Math.sqrt(-o/3)),1<Math.abs(a)&&(a=0<=a?1:-1),a=Math.acos(a)/3,s=0<=t.y?(-o*Math.cos(a+Math.PI/3)-i/3/s)*Math.PI:-(-o*Math.cos(a+Math.PI/3)-i/3/s)*Math.PI,e=Math.abs(e)<E?this.long0:V(this.long0+Math.PI*(n-1+Math.sqrt(1+2*(e*e-r*r)+n*n))/2/e),t.x=e,t.y=s,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var We={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,r,n,i,s,o,a=t.x,h=t.y,u=Math.sin(t.y),c=Math.cos(t.y),l=V(a-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=E?(t.x=this.x0+this.a*(v-h)*Math.sin(l),t.y=this.y0-this.a*(v-h)*Math.cos(l)):Math.abs(this.sin_p12+1)<=E?(t.x=this.x0+this.a*(v+h)*Math.sin(l),t.y=this.y0+this.a*(v+h)*Math.cos(l)):(s=this.sin_p12*u+this.cos_p12*c*Math.cos(l),i=(n=Math.acos(s))?n/Math.sin(n):1,t.x=this.x0+this.a*i*c*Math.sin(l),t.y=this.y0+this.a*i*(this.cos_p12*u-this.sin_p12*c*Math.cos(l))):(e=ye(this.es),a=Me(this.es),s=ve(this.es),i=be(this.es),Math.abs(this.sin_p12-1)<=E?(r=this.a*ge(e,a,s,i,v),o=this.a*ge(e,a,s,i,h),t.x=this.x0+(r-o)*Math.sin(l),t.y=this.y0-(r-o)*Math.cos(l)):Math.abs(this.sin_p12+1)<=E?(r=this.a*ge(e,a,s,i,v),o=this.a*ge(e,a,s,i,h),t.x=this.x0+(r+o)*Math.sin(l),t.y=this.y0+(r+o)*Math.cos(l)):(h=u/c,r=we(this.a,this.e,this.sin_p12),o=we(this.a,this.e,u),u=Math.atan((1-this.es)*h+this.es*r*this.sin_p12/(o*c)),o=0===(h=Math.atan2(Math.sin(l),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(l)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(h)-Math.PI)<=E?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(l)*Math.cos(u)/Math.sin(h)),c=this.e*this.sin_p12/Math.sqrt(1-this.es),l=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es),t.x=this.x0+(n=r*o*(1-(u=o*o)*(r=l*l)*(1-r)/6+(u=u*o)/8*(l=c*l)*(1-2*r)+(u=u*o)/120*(r*(4-7*r)-3*c*c*(1-7*r))-u*o/48*l))*Math.sin(h),t.y=this.y0+n*Math.cos(h))),t},inverse:function(t){var e,r,n,i,s,o,a,h;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y))>2*v*this.a?void 0:(a=e/this.a,h=Math.sin(a),o=Math.cos(a),r=this.long0,Math.abs(e)<=E?n=this.lat0:(n=Ie(o*this.sin_p12+t.y*h*this.cos_p12/e),s=Math.abs(this.lat0)-v,r=Math.abs(s)<=E?0<=this.lat0?V(this.long0+Math.atan2(t.x,-t.y)):V(this.long0-Math.atan2(-t.x,t.y)):V(this.long0+Math.atan2(t.x*h,e*this.cos_p12*o-t.y*this.sin_p12*h))),t.x=r,t.y=n,t):(a=ye(this.es),s=Me(this.es),o=ve(this.es),h=be(this.es),Math.abs(this.sin_p12-1)<=E?(i=this.a*ge(a,s,o,h,v),e=Math.sqrt(t.x*t.x+t.y*t.y),n=Ne((i-e)/this.a,a,s,o,h),r=V(this.long0+Math.atan2(t.x,-1*t.y))):Math.abs(this.sin_p12+1)<=E?(i=this.a*ge(a,s,o,h,v),e=Math.sqrt(t.x*t.x+t.y*t.y),n=Ne((e-i)/this.a,a,s,o,h),r=V(this.long0+Math.atan2(t.x,t.y))):(e=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.x,t.y),a=we(this.a,this.e,this.sin_p12),s=Math.cos(i),h=-(o=this.e*this.cos_p12*s)*o/(1-this.es),o=3*this.es*(1-h)*this.sin_p12*this.cos_p12*s/(1-this.es),a=1-h*(h=(a=e/a)-h*(1+h)*Math.pow(a,3)/6-o*(1+3*h)*Math.pow(a,4)/24)*h/2-a*h*h*h/6,s=Math.asin(this.sin_p12*Math.cos(h)+this.cos_p12*Math.sin(h)*s),r=V(this.long0+Math.asin(Math.sin(i)*Math.sin(h)/Math.cos(s))),h=Math.sin(s),n=Math.atan2((h-this.es*a*this.sin_p12)*Math.tan(s),h*(1-this.es))),t.x=r,t.y=n,t)},names:["Azimuthal_Equidistant","aeqd"]};var $e={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,r,n=t.x,i=t.y,s=V(n-this.long0),o=Math.sin(i),a=Math.cos(i),n=Math.cos(s);return(0<(i=this.sin_p14*o+this.cos_p14*a*n)||Math.abs(i)<=E)&&(e=+this.a*a*Math.sin(s),r=this.y0+ +this.a*(this.cos_p14*o-this.sin_p14*a*n)),t.x=e,t.y=r,t},inverse:function(t){var e,r,n,i,s,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=Ie(e/this.a),r=Math.sin(i),n=Math.cos(i),s=this.long0,Math.abs(e)<=E?(o=this.lat0,t.x=s,t.y=o,t):(o=Ie(n*this.sin_p14+t.y*r*this.cos_p14/e),i=Math.abs(this.lat0)-v,s=Math.abs(i)<=E?0<=this.lat0?V(this.long0+Math.atan2(t.x,-t.y)):V(this.long0-Math.atan2(-t.x,t.y)):V(this.long0+Math.atan2(t.x*r,e*this.cos_p14*n-t.y*this.sin_p14*r)),t.x=s,t.y=o,t)},names:["ortho"]},Je=1,Xe=2,Qe=3,Ye=4,Ze=5,Ke=6,tr={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function er(t,e,r,n){var i;return t<E?(n.value=tr.AREA_0,i=0):(i=Math.atan2(e,r),Math.abs(i)<=S?n.value=tr.AREA_0:S<i&&i<=v+S?(n.value=tr.AREA_1,i-=v):v+S<i||i<=-(v+S)?(n.value=tr.AREA_2,i=0<=i?i-l:i+l):(n.value=tr.AREA_3,i+=v)),i}function rr(t,e){e=t+e;return e<-l?e+=A:+l<e&&(e-=A),e}function nr(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))}var ir={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=v-S/2?this.face=Ze:this.lat0<=-(v-S/2)?this.face=Ke:Math.abs(this.long0)<=S?this.face=Je:Math.abs(this.long0)<=v+S?this.face=0<this.long0?Xe:Ye:this.face=Qe,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,r,n,i,s,o,a,h={x:0,y:0},u={value:0};return t.x-=this.long0,a=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,e=t.x,this.face===Ze?(r=v-a,n=S<=e&&e<=v+S?(u.value=tr.AREA_0,e-v):v+S<e||e<=-(v+S)?(u.value=tr.AREA_1,0<e?e-l:e+l):-(v+S)<e&&e<=-S?(u.value=tr.AREA_2,e+v):(u.value=tr.AREA_3,e)):this.face===Ke?(r=v+a,n=S<=e&&e<=v+S?(u.value=tr.AREA_0,-e+v):e<S&&-S<=e?(u.value=tr.AREA_1,-e):e<-S&&-(v+S)<=e?(u.value=tr.AREA_2,-e-v):(u.value=tr.AREA_3,0<e?-e+l:-e-l)):(this.face===Xe?e=rr(e,+v):this.face===Qe?e=rr(e,+l):this.face===Ye&&(e=rr(e,-v)),s=Math.sin(a),o=Math.cos(a),a=Math.sin(e),i=o*Math.cos(e),a=o*a,s=s,this.face===Je?n=er(r=Math.acos(i),s,a,u):this.face===Xe?n=er(r=Math.acos(a),s,-i,u):this.face===Qe?n=er(r=Math.acos(-i),s,-a,u):this.face===Ye?n=er(r=Math.acos(-a),s,i,u):(r=n=0,u.value=tr.AREA_0)),i=Math.atan(12/l*(n+Math.acos(Math.sin(n)*Math.cos(S))-v)),n=Math.sqrt((1-Math.cos(r))/(Math.cos(i)*Math.cos(i))/(1-Math.cos(Math.atan(1/Math.cos(n))))),u.value===tr.AREA_1?i+=v:u.value===tr.AREA_2?i+=l:u.value===tr.AREA_3&&(i+=1.5*l),h.x=n*Math.cos(i),h.y=n*Math.sin(i),h.x=h.x*this.a+this.x0,h.y=h.y*this.a+this.y0,t.x=h.x,t.y=h.y,t},inverse:function(t){var e,r,n,i,s,o,a,h={lam:0,phi:0},u={value:0};return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),0<=t.x&&t.x>=Math.abs(t.y)?u.value=tr.AREA_0:0<=t.y&&t.y>=Math.abs(t.x)?(u.value=tr.AREA_1,e-=v):t.x<0&&-t.x>=Math.abs(t.y)?(u.value=tr.AREA_2,e=e<0?e+l:e-l):(u.value=tr.AREA_3,e+=v),i=l/12*Math.tan(e),s=Math.sin(i)/(Math.cos(i)-1/Math.sqrt(2)),s=Math.atan(s),(r=1-(e=Math.cos(e))*e*(r=Math.tan(r))*r*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?r=-1:1<r&&(r=1),this.face===Ze?(n=Math.acos(r),h.phi=v-n,u.value===tr.AREA_0?h.lam=s+v:u.value===tr.AREA_1?h.lam=s<0?s+l:s-l:u.value===tr.AREA_2?h.lam=s-v:h.lam=s):this.face===Ke?(n=Math.acos(r),h.phi=n-v,u.value===tr.AREA_0?h.lam=-s+v:u.value===tr.AREA_1?h.lam=-s:u.value===tr.AREA_2?h.lam=-s-v:h.lam=s<0?-s-l:-s+l):(s=1<=(i=(a=r)*a)?0:Math.sqrt(1-i)*Math.sin(s),o=1<=(i+=s*s)?0:Math.sqrt(1-i),u.value===tr.AREA_1?(i=o,o=-s,s=i):u.value===tr.AREA_2?(o=-o,s=-s):u.value===tr.AREA_3&&(i=o,o=s,s=-i),this.face===Xe?(i=a,a=-o,o=i):this.face===Qe?(a=-a,o=-o):this.face===Ye&&(i=a,a=o,o=-i),h.phi=Math.acos(-s)-v,h.lam=Math.atan2(o,a),this.face===Xe?h.lam=rr(h.lam,-v):this.face===Qe?h.lam=rr(h.lam,-l):this.face===Ye&&(h.lam=rr(h.lam,+v))),0!==this.es&&(o=h.phi<0?1:0,a=Math.tan(h.phi),a=this.b/Math.sqrt(a*a+this.one_minus_f_squared),h.phi=Math.atan(Math.sqrt(this.a*this.a-a*a)/(this.one_minus_f*a)),o&&(h.phi=-h.phi)),h.lam+=this.long0,t.x=h.lam,t.y=h.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},sr=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],or=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],ar=f/5,hr=1/ar;var ur={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=V(t.x-this.long0),r=Math.abs(t.y),n=Math.floor(r*ar);return n<0?n=0:18<=n&&(n=17),r={x:nr(sr[n],r=f*(r-hr*n))*e,y:nr(or[n],r)},t.y<0&&(r.y=-r.y),r.x=r.x*this.a*.8487+this.x0,r.y=r.y*this.a*1.3523+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(1<=e.y)e.x/=sr[18][0],e.y=t.y<0?-v:v;else{var r=Math.floor(18*e.y);for(r<0?r=0:18<=r&&(r=17);;)if(or[r][0]>e.y)--r;else{if(!(or[r+1][0]<=e.y))break;++r}var n=or[r],i=function(t,e,r,n){for(var i=e;n;--n){var s=t(i);if(i-=s,Math.abs(s)<r)break}return i}(function(t){return(nr(n,t)-e.y)/(n[1]+t*(2*n[2]+3*t*n[3]))},i=5*(e.y-n[0])/(or[r+1][0]-n[0]),E,100);e.x/=nr(sr[r],i),e.y=(5*r+i)*_,t.y<0&&(e.y=-e.y)}return e.x=V(e.x+this.long0),e},names:["Robinson","robin"]};var cr={init:function(){this.name="geocent"},forward:function(t){return ot(t,this.es,this.a)},inverse:function(t){return at(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},lr=0,pr=1,fr=2,dr=3,mr={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};var gr,yr={init:function(){if(Object.keys(mr).forEach(function(t){if(void 0===this[t])this[t]=mr[t].def;else{if(mr[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);mr[t].num&&(this[t]=parseFloat(this[t]))}mr[t].degrees&&(this[t]=this[t]*_)}.bind(this)),Math.abs(Math.abs(this.lat0)-v)<E?this.mode=this.lat0<0?pr:lr:Math.abs(this.lat0)<E?this.mode=fr:(this.mode=dr,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||1e10<this.pn1)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,r,n,i,s=Math.sin(t.y),o=Math.cos(t.y),a=Math.cos(t.x);switch(this.mode){case dr:r=this.sinph0*s+this.cosph0*o*a;break;case fr:r=o*a;break;case pr:r=-s;break;case lr:r=s}switch(e=(r=this.pn1/(this.p-r))*o*Math.sin(t.x),this.mode){case dr:r*=this.cosph0*s-this.sinph0*o*a;break;case fr:r*=s;break;case lr:r*=-o*a;break;case pr:r*=o*a}return i=1/((n=r*this.cg+e*this.sg)*this.sw*this.h1+this.cw),e=(e*this.cg-r*this.sg)*this.cw*i,r=n*i,t.x=e*this.a,t.y=r*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},r=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*r,r=this.pn1*t.y*this.cw*r;t.x=n*this.cg+r*this.sg,t.y=r*this.cg-n*this.sg;var i=ne(t.x,t.y);if(Math.abs(i)<E)e.x=0,e.y=t.y;else{var s,o=1-i*i*this.pfact;switch(o=(this.p-Math.sqrt(o))/(this.pn1/i+i/this.pn1),s=Math.sqrt(1-o*o),this.mode){case dr:e.y=Math.asin(s*this.sinph0+t.y*o*this.cosph0/i),t.y=(s-this.sinph0*Math.sin(e.y))*i,t.x*=o*this.cosph0;break;case fr:e.y=Math.asin(t.y*o/i),t.y=s*i,t.x*=o;break;case lr:e.y=Math.asin(s),t.y=-t.y;break;case pr:e.y=-Math.asin(s)}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t},names:["Tilted_Perspective","tpers"]};return bt.defaultDatum="WGS84",bt.Proj=st,bt.WGS84=new bt.Proj("WGS84"),bt.Point=kt,bt.toPoint=ft,bt.defs=k,bt.nadgrid=function(t,e){var r=new DataView(e),n=function(t){if(11===t.getInt32(8,!1))return!1;11!==t.getInt32(8,!0)&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(r),i=(i=n,{nFields:(e=r).getInt32(8,i),nSubgridFields:e.getInt32(24,i),nSubgrids:e.getInt32(40,i),shiftType:it(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,i),fromSemiMinorAxis:e.getFloat64(136,i),toSemiMajorAxis:e.getFloat64(152,i),toSemiMinorAxis:e.getFloat64(168,i)});return 1<i.nSubgrids&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored"),n={header:i,subgrids:function(t,e,r){for(var n=[],i=0;i<e.nSubgrids;i++){var s=function(t,e,r){return{name:it(t,e+8,e+16).trim(),parent:it(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,r),upperLatitude:t.getFloat64(e+88,r),lowerLongitude:t.getFloat64(e+104,r),upperLongitude:t.getFloat64(e+120,r),latitudeInterval:t.getFloat64(e+136,r),longitudeInterval:t.getFloat64(e+152,r),gridNodeCount:t.getInt32(e+168,r)}}(t,176,r),o=function(t,e,r,n){for(var i=e+176,s=[],o=0;o<r.gridNodeCount;o++){var a={latitudeShift:t.getFloat32(i+16*o,n),longitudeShift:t.getFloat32(i+16*o+4,n),latitudeAccuracy:t.getFloat32(i+16*o+8,n),longitudeAccuracy:t.getFloat32(i+16*o+12,n)};s.push(a)}return s}(t,176,s,r),a=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),h=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);n.push({ll:[nt(s.lowerLongitude),nt(s.lowerLatitude)],del:[nt(s.longitudeInterval),nt(s.latitudeInterval)],lim:[a,h],count:s.gridNodeCount,cvs:function(t){return t.map(function(t){return[nt(t.longitudeShift),nt(t.latitudeShift)]})}(o)})}return n}(r,i,n)},et[t]=n},bt.transform=gt,bt.mgrs=Y,bt.version="2.7.5",(gr=bt).Proj.projections.add(ee),gr.Proj.projections.add(oe),gr.Proj.projections.add(he),gr.Proj.projections.add(ce),gr.Proj.projections.add(le),gr.Proj.projections.add(pe),gr.Proj.projections.add(de),gr.Proj.projections.add(me),gr.Proj.projections.add(Ee),gr.Proj.projections.add(Se),gr.Proj.projections.add(Le),gr.Proj.projections.add(De),gr.Proj.projections.add(ke),gr.Proj.projections.add(Fe),gr.Proj.projections.add(je),gr.Proj.projections.add(qe),gr.Proj.projections.add(Ue),gr.Proj.projections.add(Be),gr.Proj.projections.add(Ge),gr.Proj.projections.add(He),gr.Proj.projections.add(ze),gr.Proj.projections.add(Ve),gr.Proj.projections.add(We),gr.Proj.projections.add($e),gr.Proj.projections.add(ir),gr.Proj.projections.add(ur),gr.Proj.projections.add(cr),gr.Proj.projections.add(yr),bt},"object"==typeof r&&void 0!==e?e.exports=i():n.proj4=i()},{}],43:[function(r,n,t){!function(t,e){if("object"==typeof n&&"object"==typeof n.exports)n.exports=e(r("terraformer"));else if("object"==typeof navigator){if(!t.Terraformer)throw new Error("Terraformer.WKT requires the core Terraformer library. http://github.com/esri/terraformer");t.Terraformer.WKT=e(t.Terraformer)}}(this,function(r){var t={},n=function(){var t,e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,point:4,EOF:5,linestring:6,polygon:7,multipoint:8,multilinestring:9,multipolygon:10,coordinate:11,DOUBLE_TOK:12,ptarray:13,COMMA:14,ring_list:15,ring:16,"(":17,")":18,POINT:19,Z:20,ZM:21,M:22,EMPTY:23,point_untagged:24,polygon_list:25,polygon_untagged:26,point_list:27,LINESTRING:28,POLYGON:29,MULTIPOINT:30,MULTILINESTRING:31,MULTIPOLYGON:32,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",12:"DOUBLE_TOK",14:"COMMA",17:"(",18:")",19:"POINT",20:"Z",21:"ZM",22:"M",23:"EMPTY",28:"LINESTRING",29:"POLYGON",30:"MULTIPOINT",31:"MULTILINESTRING",32:"MULTIPOLYGON"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[3,2],[3,2],[11,2],[11,3],[11,4],[13,3],[13,1],[15,3],[15,1],[16,3],[4,4],[4,5],[4,5],[4,5],[4,2],[24,1],[24,3],[25,3],[25,1],[26,3],[27,3],[27,1],[6,4],[6,5],[6,5],[6,5],[6,2],[7,4],[7,5],[7,5],[7,5],[7,2],[8,4],[8,5],[8,5],[8,5],[8,2],[9,4],[9,5],[9,5],[9,5],[9,2],[10,4],[10,5],[10,5],[10,5],[10,2]],performAction:function(t,e,r,n,i,s,o){var a=s.length-1;switch(i){case 1:case 2:case 3:case 4:case 5:case 6:return s[a-1];case 7:this.$=new h([Number(s[a-1]),Number(s[a])]);break;case 8:this.$=new h([Number(s[a-2]),Number(s[a-1]),Number(s[a])]);break;case 9:this.$=new h([Number(s[a-3]),Number(s[a-2]),Number(s[a-1]),Number(s[a])]);break;case 10:this.$=s[a-2].addPoint(s[a]);break;case 11:this.$=s[a];break;case 12:this.$=s[a-2].addRing(s[a]);break;case 13:this.$=new c(s[a]);break;case 14:this.$=new u(s[a-1]);break;case 15:this.$={type:"Point",coordinates:s[a-1].data[0]};break;case 16:this.$={type:"Point",coordinates:s[a-1].data[0],properties:{z:!0}};break;case 17:this.$={type:"Point",coordinates:s[a-1].data[0],properties:{z:!0,m:!0}};break;case 18:this.$={type:"Point",coordinates:s[a-1].data[0],properties:{m:!0}};break;case 19:this.$={type:"Point",coordinates:[]};break;case 20:this.$=s[a];break;case 21:this.$=s[a-1];break;case 22:this.$=s[a-2].addPolygon(s[a]);break;case 23:this.$=new l(s[a]);break;case 24:this.$=s[a-1];break;case 25:this.$=s[a-2].addPoint(s[a]);break;case 26:this.$=s[a];break;case 27:this.$={type:"LineString",coordinates:s[a-1].data};break;case 28:this.$={type:"LineString",coordinates:s[a-1].data,properties:{z:!0}};break;case 29:this.$={type:"LineString",coordinates:s[a-1].data,properties:{m:!0}};break;case 30:this.$={type:"LineString",coordinates:s[a-1].data,properties:{z:!0,m:!0}};break;case 31:this.$={type:"LineString",coordinates:[]};break;case 32:this.$={type:"Polygon",coordinates:s[a-1].toJSON()};break;case 33:this.$={type:"Polygon",coordinates:s[a-1].toJSON(),properties:{z:!0}};break;case 34:this.$={type:"Polygon",coordinates:s[a-1].toJSON(),properties:{m:!0}};break;case 35:this.$={type:"Polygon",coordinates:s[a-1].toJSON(),properties:{z:!0,m:!0}};break;case 36:this.$={type:"Polygon",coordinates:[]};break;case 37:this.$={type:"MultiPoint",coordinates:s[a-1].data};break;case 38:this.$={type:"MultiPoint",coordinates:s[a-1].data,properties:{z:!0}};break;case 39:this.$={type:"MultiPoint",coordinates:s[a-1].data,properties:{m:!0}};break;case 40:this.$={type:"MultiPoint",coordinates:s[a-1].data,properties:{z:!0,m:!0}};break;case 41:this.$={type:"MultiPoint",coordinates:[]};break;case 42:this.$={type:"MultiLineString",coordinates:s[a-1].toJSON()};break;case 43:this.$={type:"MultiLineString",coordinates:s[a-1].toJSON(),properties:{z:!0}};break;case 44:this.$={type:"MultiLineString",coordinates:s[a-1].toJSON(),properties:{m:!0}};break;case 45:this.$={type:"MultiLineString",coordinates:s[a-1].toJSON(),properties:{z:!0,m:!0}};break;case 46:this.$={type:"MultiLineString",coordinates:[]};break;case 47:this.$={type:"MultiPolygon",coordinates:s[a-1].toJSON()};break;case 48:this.$={type:"MultiPolygon",coordinates:s[a-1].toJSON(),properties:{z:!0}};break;case 49:this.$={type:"MultiPolygon",coordinates:s[a-1].toJSON(),properties:{m:!0}};break;case 50:this.$={type:"MultiPolygon",coordinates:s[a-1].toJSON(),properties:{z:!0,m:!0}};break;case 51:this.$={type:"MultiPolygon",coordinates:[]}}},table:[{3:1,4:2,6:3,7:4,8:5,9:6,10:7,19:[1,8],28:[1,9],29:[1,10],30:[1,11],31:[1,12],32:[1,13]},{1:[3]},{5:[1,14]},{5:[1,15]},{5:[1,16]},{5:[1,17]},{5:[1,18]},{5:[1,19]},{17:[1,20],20:[1,21],21:[1,22],22:[1,23],23:[1,24]},{17:[1,25],20:[1,26],21:[1,28],22:[1,27],23:[1,29]},{17:[1,30],20:[1,31],21:[1,33],22:[1,32],23:[1,34]},{17:[1,35],20:[1,36],21:[1,38],22:[1,37],23:[1,39]},{17:[1,40],20:[1,41],21:[1,43],22:[1,42],23:[1,44]},{17:[1,45],20:[1,46],21:[1,48],22:[1,47],23:[1,49]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{11:51,12:[1,52],13:50},{17:[1,53]},{17:[1,54]},{17:[1,55]},{5:[2,19]},{11:58,12:[1,52],17:[1,59],24:57,27:56},{17:[1,60]},{17:[1,61]},{17:[1,62]},{5:[2,31]},{15:63,16:64,17:[1,65]},{17:[1,66]},{17:[1,67]},{17:[1,68]},{5:[2,36]},{11:58,12:[1,52],17:[1,59],24:57,27:69},{17:[1,70]},{17:[1,71]},{17:[1,72]},{5:[2,41]},{15:73,16:64,17:[1,65]},{17:[1,74]},{17:[1,75]},{17:[1,76]},{5:[2,46]},{17:[1,79],25:77,26:78},{17:[1,80]},{17:[1,81]},{17:[1,82]},{5:[2,51]},{14:[1,84],18:[1,83]},{14:[2,11],18:[2,11]},{12:[1,85]},{11:51,12:[1,52],13:86},{11:51,12:[1,52],13:87},{11:51,12:[1,52],13:88},{14:[1,90],18:[1,89]},{14:[2,26],18:[2,26]},{14:[2,20],18:[2,20]},{11:91,12:[1,52]},{11:58,12:[1,52],17:[1,59],24:57,27:92},{11:58,12:[1,52],17:[1,59],24:57,27:93},{11:58,12:[1,52],17:[1,59],24:57,27:94},{14:[1,96],18:[1,95]},{14:[2,13],18:[2,13]},{11:51,12:[1,52],13:97},{15:98,16:64,17:[1,65]},{15:99,16:64,17:[1,65]},{15:100,16:64,17:[1,65]},{14:[1,90],18:[1,101]},{11:58,12:[1,52],17:[1,59],24:57,27:102},{11:58,12:[1,52],17:[1,59],24:57,27:103},{11:58,12:[1,52],17:[1,59],24:57,27:104},{14:[1,96],18:[1,105]},{15:106,16:64,17:[1,65]},{15:107,16:64,17:[1,65]},{15:108,16:64,17:[1,65]},{14:[1,110],18:[1,109]},{14:[2,23],18:[2,23]},{15:111,16:64,17:[1,65]},{17:[1,79],25:112,26:78},{17:[1,79],25:113,26:78},{17:[1,79],25:114,26:78},{5:[2,15]},{11:115,12:[1,52]},{12:[1,116],14:[2,7],18:[2,7]},{14:[1,84],18:[1,117]},{14:[1,84],18:[1,118]},{14:[1,84],18:[1,119]},{5:[2,27]},{11:58,12:[1,52],17:[1,59],24:120},{18:[1,121]},{14:[1,90],18:[1,122]},{14:[1,90],18:[1,123]},{14:[1,90],18:[1,124]},{5:[2,32]},{16:125,17:[1,65]},{14:[1,84],18:[1,126]},{14:[1,96],18:[1,127]},{14:[1,96],18:[1,128]},{14:[1,96],18:[1,129]},{5:[2,37]},{14:[1,90],18:[1,130]},{14:[1,90],18:[1,131]},{14:[1,90],18:[1,132]},{5:[2,42]},{14:[1,96],18:[1,133]},{14:[1,96],18:[1,134]},{14:[1,96],18:[1,135]},{5:[2,47]},{17:[1,79],26:136},{14:[1,96],18:[1,137]},{14:[1,110],18:[1,138]},{14:[1,110],18:[1,139]},{14:[1,110],18:[1,140]},{14:[2,10],18:[2,10]},{12:[1,141],14:[2,8],18:[2,8]},{5:[2,16]},{5:[2,17]},{5:[2,18]},{14:[2,25],18:[2,25]},{14:[2,21],18:[2,21]},{5:[2,28]},{5:[2,29]},{5:[2,30]},{14:[2,12],18:[2,12]},{14:[2,14],18:[2,14]},{5:[2,33]},{5:[2,34]},{5:[2,35]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,43]},{5:[2,44]},{5:[2,45]},{14:[2,22],18:[2,22]},{14:[2,24],18:[2,24]},{5:[2,48]},{5:[2,49]},{5:[2,50]},{14:[2,9],18:[2,9]}],defaultActions:{14:[2,1],15:[2,2],16:[2,3],17:[2,4],18:[2,5],19:[2,6],24:[2,19],29:[2,31],34:[2,36],39:[2,41],44:[2,46],49:[2,51],83:[2,15],89:[2,27],95:[2,32],101:[2,37],105:[2,42],109:[2,47],117:[2,16],118:[2,17],119:[2,18],122:[2,28],123:[2,29],124:[2,30],127:[2,33],128:[2,34],129:[2,35],130:[2,38],131:[2,39],132:[2,40],133:[2,43],134:[2,44],135:[2,45],138:[2,48],139:[2,49],140:[2,50]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,r=[0],n=[null],i=[],s=this.table,o="",a=0,h=0,u=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===(this.yy.parser=this).lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;i.push(c);var l=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,d,m,g,y,M,v,b,w={};;){if(d=r[r.length-1],void 0===(m=this.defaultActions[d]||(null==p&&(b=void 0,p=b="number"!=typeof(b=e.lexer.lex()||1)&&e.symbols_[b]||b),s[d]&&s[d][p]))||!m.length||!m[0]){var x="";if(!u){for(y in v=[],s[d])this.terminals_[y]&&2<y&&v.push("'"+this.terminals_[y]+"'");x=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:c,expected:v})}}if(m[0]instanceof Array&&1<m.length)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+p);switch(m[0]){case 1:r.push(p),n.push(this.lexer.yytext),i.push(this.lexer.yylloc),r.push(m[1]),p=null,f?(p=f,f=null):(h=this.lexer.yyleng,o=this.lexer.yytext,a=this.lexer.yylineno,c=this.lexer.yylloc,0<u&&u--);break;case 2:if(M=this.productions_[m[1]][1],w.$=n[n.length-M],w._$={first_line:i[i.length-(M||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(M||1)].first_column,last_column:i[i.length-1].last_column},l&&(w._$.range=[i[i.length-(M||1)].range[0],i[i.length-1].range[1]]),void 0!==(g=this.performAction.call(w,o,h,a,this.yy,m[1],n,i)))return g;M&&(r=r.slice(0,-1*M*2),n=n.slice(0,-1*M),i=i.slice(0,-1*M)),r.push(this.productions_[m[1]][0]),n.push(w.$),i.push(w._$),M=s[r[r.length-2]][r[r.length-1]],r.push(M);break;case 3:return!0}}return!0}};t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,r=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);t=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[t[0],t[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),s=0;s<i.length&&(!(e=this._input.match(this.rules[i[s]]))||t&&!(e[0].length>t[0].length)||(t=e,r=s,this.options.flex));s++);return t?((n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,i[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,r,n){switch(r){case 0:break;case 1:return 17;case 2:return 18;case 3:return 12;case 4:return 19;case 5:return 28;case 6:return 29;case 7:return 30;case 8:return 31;case 9:return 32;case 10:return 14;case 11:return 23;case 12:return 22;case 13:return 20;case 14:return 21;case 15:return 5;case 16:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:-?[0-9]+(\.[0-9]+)?([eE][\-\+]?[0-9]+)?)/,/^(?:POINT\b)/,/^(?:LINESTRING\b)/,/^(?:POLYGON\b)/,/^(?:MULTIPOINT\b)/,/^(?:MULTILINESTRING\b)/,/^(?:MULTIPOLYGON\b)/,/^(?:,)/,/^(?:EMPTY\b)/,/^(?:M\b)/,/^(?:Z\b)/,/^(?:ZM\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],inclusive:!0}}};function r(){this.yy={}}return e.lexer=t,new((r.prototype=e).Parser=r)}();function h(t){this.data=[t],this.type="PointArray"}function u(t){this.data=t,this.type="Ring"}function c(t){this.data=[t],this.type="RingList"}function l(t){this.data=[t],this.type="PolygonList"}function p(t){for(var e=[],r="",n=0;n<t.length;n++)e.push(t[n].join(" "));return r+="("+e.join(", ")+")"}return h.prototype.addPoint=function(t){return"PointArray"===t.type?this.data=this.data.concat(t.data):this.data.push(t),this},h.prototype.toJSON=function(){return this.data},u.prototype.toJSON=function(){for(var t=[],e=0;e<this.data.data.length;e++)t.push(this.data.data[e]);return t},c.prototype.addRing=function(t){return this.data.push(t),this},c.prototype.toJSON=function(){for(var t=[],e=0;e<this.data.length;e++)t.push(this.data[e].toJSON());return t.length,t},l.prototype.addPolygon=function(t){return this.data.push(t),this},l.prototype.toJSON=function(){for(var t=[],e=0;e<this.data.length;e++)t=t.concat([this.data[e].toJSON()]);return t},t.parser=n,t.Parser=n.Parser,t.parse=function(t){var e;try{e=n.parse(t)}catch(t){throw Error("Unable to parse: "+t)}return r.Primitive(e)},t.convert=function t(e){switch(e.type){case"Point":return a="POINT ",void 0===(o=e).coordinates||0===o.coordinates.length?a+="EMPTY":(3===o.coordinates.length?o.properties&&!0===o.properties.m?a+="M ":a+="Z ":4===o.coordinates.length&&(a+="ZM "),a+="("+o.coordinates.join(" ")+")");case"LineString":return s="LINESTRING ",void 0===(n=e).coordinates||0===n.coordinates.length||0===n.coordinates[0].length?s+="EMPTY":(3===n.coordinates[0].length?n.properties&&!0===n.properties.m?s+="M ":s+="Z ":4===n.coordinates[0].length&&(s+="ZM "),s+=p(n.coordinates));case"Polygon":return function(t){var e="POLYGON ";if(void 0===t.coordinates||0===t.coordinates.length||0===t.coordinates[0].length)return e+="EMPTY";3===t.coordinates[0][0].length?t.properties&&!0===t.properties.m?e+="M ":e+="Z ":4===t.coordinates[0][0].length&&(e+="ZM "),e+="(";for(var r=[],n=0;n<t.coordinates.length;n++)r.push(p(t.coordinates[n]));return e+=r.join(", "),e+=")"}(e);case"MultiPoint":return n="MULTIPOINT ",void 0===(s=e).coordinates||0===s.coordinates.length||0===s.coordinates[0].length?n+="EMPTY":(3===s.coordinates[0].length?s.properties&&!0===s.properties.m?n+="M ":n+="Z ":4===s.coordinates[0].length&&(n+="ZM "),n+=p(s.coordinates));case"MultiLineString":return function(t){var e="MULTILINESTRING ";if(void 0===t.coordinates||0===t.coordinates.length||0===t.coordinates[0].length)return e+="EMPTY";3===t.coordinates[0][0].length?t.properties&&!0===t.properties.m?e+="M ":e+="Z ":4===t.coordinates[0][0].length&&(e+="ZM "),e+="(";for(var r=[],n=0;n<t.coordinates.length;n++)r.push(p(t.coordinates[n]));return e+=r.join(", "),e+=")"}(e);case"MultiPolygon":return function(t){var e="MULTIPOLYGON ";if(void 0===t.coordinates||0===t.coordinates.length||0===t.coordinates[0].length||0===t.coordinates[0][0].length)return e+="EMPTY";3===t.coordinates[0][0][0].length?t.properties&&!0===t.properties.m?e+="M ":e+="Z ":4===t.coordinates[0][0][0].length&&(e+="ZM "),e+="(";for(var r=[],n=0;n<t.coordinates.length;n++){for(var i="(",s=[],o=0;o<t.coordinates[n].length;o++)s.push(p(t.coordinates[n][o]));i+=s.join(", "),i+=")",r.push(i)}return e+=r.join(", "),e+=")"}(e);case"GeometryCollection":var r=[];for(i=0;i<e.geometries.length;i++)r.push(t(e.geometries[i]));return"GEOMETRYCOLLECTION("+r.join(", ")+")";default:throw Error("Unknown Type: "+e.type)}var n,s,o,a},t})},{terraformer:44}],44:[function(t,e,r){var n,i;n=this,i=function(){"use strict";var t={},r=6378137,n=57.29577951308232,i=.017453292519943,s={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}};function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function h(t){if(t.type)switch(t.type){case"Point":return[t.coordinates[0],t.coordinates[1],t.coordinates[0],t.coordinates[1]];case"MultiPoint":case"LineString":return u(t.coordinates);case"MultiLineString":case"Polygon":return e(t.coordinates);case"MultiPolygon":return function(t){for(var e=null,r=null,n=null,i=null,s=0;s<t.length;s++)for(var o=t[s],a=0;a<o.length;a++)for(var h=o[a],u=0;u<h.length;u++){var c=h[u],l=c[0],c=c[1];(null===e||l<e)&&(e=l),(null===r||r<l)&&(r=l),(null===n||c<n)&&(n=c),(null===i||i<c)&&(i=c)}return[e,n,r,i]}(t.coordinates);case"Feature":return t.geometry?h(t.geometry):null;case"FeatureCollection":return function(t){for(var e,r=[],n=t.features.length-1;0<=n;n--)e=h(t.features[n].geometry),r.push([e[0],e[1]]),r.push([e[2],e[3]]);return u(r)}(t);case"GeometryCollection":return function(t){for(var e,r=[],n=t.geometries.length-1;0<=n;n--)e=h(t.geometries[n]),r.push([e[0],e[1]]),r.push([e[2],e[3]]);return u(r)}(t);default:throw new Error("Unknown type: "+t.type)}return null}function e(t){for(var e=null,r=null,n=null,i=null,s=0;s<t.length;s++)for(var o=t[s],a=0;a<o.length;a++){var h=o[a],u=h[0],h=h[1];(null===e||u<e)&&(e=u),(null===r||r<u)&&(r=u),(null===n||h<n)&&(n=h),(null===i||i<h)&&(i=h)}return[e,n,r,i]}function u(t){for(var e=null,r=null,n=null,i=null,s=0;s<t.length;s++){var o=t[s],a=o[0],o=o[1];(null===e||a<e)&&(e=a),(null===r||r<a)&&(r=a),(null===n||o<n)&&(n=o),(null===i||i<o)&&(i=o)}return[e,n,r,i]}function c(t){t=h(t);return{x:t[0],y:t[1],w:Math.abs(t[0]-t[2]),h:Math.abs(t[1]-t[3])}}function l(t){return t*n}function p(t){var e=t[0],t=t[1];return[e/r*n-360*Math.floor((e/r*n+180)/360),l(Math.PI/2-2*Math.atan(Math.exp(-1*t/r)))]}function f(t){var e=t[0],t=Math.max(Math.min(t[1],89.99999),-89.99999);return[e*i*r,r/2*Math.log((1+Math.sin(t*i))/(1-Math.sin(t*i)))]}function d(t,e,r){if("Point"===t.type)t.coordinates=e(t.coordinates);else if("Feature"===t.type)t.geometry=d(t.geometry,e,!0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)t.features[n]=d(t.features[n],e,!0);else if("GeometryCollection"===t.type)for(var i=0;i<t.geometries.length;i++)t.geometries[i]=d(t.geometries[i],e,!0);else t.coordinates=function t(e,r){for(var n=0;n<e.length;n++)"number"==typeof e[n][0]&&(e[n]=r(e[n])),"object"==typeof e[n]&&(e[n]=t(e[n],r));return e}(t.coordinates,e);return r||e===f&&(t.crs=s),e===p&&delete t.crs,t}function m(t){return d(t,f)}function g(t){return d(t,p)}function y(t,e){return t[0]>e[0]?-1:t[0]<e[0]?1:t[1]>e[1]?-1:t[1]<e[1]?1:0}function M(t,e){var r=e[0]-t[0],t=e[1]-t[1];return r*r+t*t}function v(t){if(0===t.length)return[];if(1===t.length)return t;for(var e=[t.sort(y)[0]],r=0;r<e.length;r++){var n=function(t,e){var r,n,i,s=e;for(r in t){var o=(n=e,o=s,i=t[r],(o=(o[0]-n[0])*(i[1]-n[1])-(i[0]-n[0])*(o[1]-n[1]))<(n=0)?-1:n<o?1:0);(-1==o||0==o&&M(e,t[r])>M(e,s))&&(s=t[r])}return s}(t,e[r]);n!==e[0]&&e.push(n)}return e}function b(t,e){for(var r=!1,n=-1,i=t.length,s=i-1;++n<i;s=n)(t[n][1]<=e[1]&&e[1]<t[s][1]||t[s][1]<=e[1]&&e[1]<t[n][1])&&e[0]<(t[s][0]-t[n][0])*(e[1]-t[n][1])/(t[s][1]-t[n][1])+t[n][0]&&(r=!r);return r}function w(t,e){if(t&&t.length){if(1===t.length)return b(t[0],e);if(b(t[0],e)){for(var r=1;r<t.length;r++)if(b(t[r],e))return!1;return!0}return!1}return!1}function x(t){return!isNaN(parseFloat(t))&&isFinite(t)}function N(t,e){if(x(t[0][0])){if(x(e[0][0])){for(var r=0;r<t.length-1;r++)for(var n=0;n<e.length-1;n++)if(function(t,e,r,n){var i=(n[0]-r[0])*(t[1]-r[1])-(n[1]-r[1])*(t[0]-r[0]),s=(e[0]-t[0])*(t[1]-r[1])-(e[1]-t[1])*(t[0]-r[0]);if(0!=(t=(n[1]-r[1])*(e[0]-t[0])-(n[0]-r[0])*(e[1]-t[1]))){i=i/t,t=s/t;if(0<=i&&i<=1&&0<=t&&t<=1)return 1}}(t[r],t[r+1],e[n],e[n+1]))return!0}else for(var i=0;i<e.length;i++)if(N(t,e[i]))return!0}else for(var s=0;s<t.length;s++)if(N(t[s],e))return!0;return!1}function E(t){for(var e=[],r=0;r<t.length;r++){var n=t[r].slice();!1===_(n[0],n[n.length-1])&&n.push(n[0]),e.push(n)}return e}function _(t,e){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function S(t,e){if(t.length!==e.length)return!1;for(var r=t.slice().sort(y),n=e.slice().sort(y),i=0;i<r.length;i++){if(r[i].length!==n[i].length)return!1;for(var s=0;s<r.length;s++)if(r[i][s]!==n[i][s])return!1}return!0}var A=["length"];function T(t){if(t)switch(t.type){case"Point":return new P(t);case"MultiPoint":return new O(t);case"LineString":return new C(t);case"MultiLineString":return new R(t);case"Polygon":return new I(t);case"MultiPolygon":return new L(t);case"Feature":return new D(t);case"FeatureCollection":return new k(t);case"GeometryCollection":return new F(t);default:throw new Error("Unknown type: "+t.type)}}function P(t){var e=Array.prototype.slice.call(arguments);if(t&&"Point"===t.type&&t.coordinates)a(this,t);else if(t&&o(t))this.coordinates=t;else{if(!(2<=e.length))throw"Terraformer: invalid input for Terraformer.Point";this.coordinates=e}this.type="Point"}function O(t){if(t&&"MultiPoint"===t.type&&t.coordinates)a(this,t);else{if(!o(t))throw"Terraformer: invalid input for Terraformer.MultiPoint";this.coordinates=t}this.type="MultiPoint"}function C(t){if(t&&"LineString"===t.type&&t.coordinates)a(this,t);else{if(!o(t))throw"Terraformer: invalid input for Terraformer.LineString";this.coordinates=t}this.type="LineString"}function R(t){if(t&&"MultiLineString"===t.type&&t.coordinates)a(this,t);else{if(!o(t))throw"Terraformer: invalid input for Terraformer.MultiLineString";this.coordinates=t}this.type="MultiLineString"}function I(t){if(t&&"Polygon"===t.type&&t.coordinates)a(this,t);else{if(!o(t))throw"Terraformer: invalid input for Terraformer.Polygon";this.coordinates=t}this.type="Polygon"}function L(t){if(t&&"MultiPolygon"===t.type&&t.coordinates)a(this,t);else{if(!o(t))throw"Terraformer: invalid input for Terraformer.MultiPolygon";this.coordinates=t}this.type="MultiPolygon"}function D(t){if(t&&"Feature"===t.type)a(this,t);else{if(!(t&&t.type&&t.coordinates))throw"Terraformer: invalid input for Terraformer.Feature";this.geometry=t}this.type="Feature"}function k(t){if(t&&"FeatureCollection"===t.type&&t.features)a(this,t);else{if(!o(t))throw"Terraformer: invalid input for Terraformer.FeatureCollection";this.features=t}this.type="FeatureCollection"}function F(t){if(t&&"GeometryCollection"===t.type&&t.geometries)a(this,t);else if(o(t))this.geometries=t;else{if(!t.coordinates||!t.type)throw"Terraformer: invalid input for Terraformer.GeometryCollection";this.type="GeometryCollection",this.geometries=[t]}this.type="GeometryCollection"}function j(t,e,r){for(var n=f(t),i=r||64,s={type:"Polygon",coordinates:[[]]},o=1;o<=i;o++){var a=o*(360/i)*Math.PI/180;s.coordinates[0].push([n[0]+e*Math.cos(a),n[1]+e*Math.sin(a)])}return s.coordinates=E(s.coordinates),g(s)}function q(t,e,r){r=r||64,e=e||250;if(!t||t.length<2||!e||!r)throw new Error("Terraformer: missing parameter for Terraformer.Circle");a(this,new D({type:"Feature",geometry:j(t,e,r),properties:{radius:e,center:t,steps:r}}))}return T.prototype.toMercator=function(){return m(this)},T.prototype.toGeographic=function(){return g(this)},T.prototype.envelope=function(){return c(this)},T.prototype.bbox=function(){return h(this)},T.prototype.convexHull=function(){var t,e,r=[];if("Point"===this.type)return null;if("LineString"===this.type||"MultiPoint"===this.type){if(!(this.coordinates&&3<=this.coordinates.length))return null;r=this.coordinates}else if("Polygon"===this.type||"MultiLineString"===this.type){if(!(this.coordinates&&0<this.coordinates.length))return null;for(t=0;t<this.coordinates.length;t++)r=r.concat(this.coordinates[t]);if(r.length<3)return null}else if("MultiPolygon"===this.type){if(!(this.coordinates&&0<this.coordinates.length))return null;for(t=0;t<this.coordinates.length;t++)for(e=0;e<this.coordinates[t].length;e++)r=r.concat(this.coordinates[t][e]);if(r.length<3)return null}else if("Feature"===this.type)return new T(this.geometry).convexHull();return new I({type:"Polygon",coordinates:E([v(r)])})},T.prototype.toJSON=function(){var t,e={};for(t in this)this.hasOwnProperty(t)&&-1===A.indexOf(t)&&(e[t]=this[t]);return e.bbox=h(this),e},T.prototype.contains=function(t){return new T(t).within(this)},T.prototype.within=function(t){var e,r,n;if("Point"===(t="Feature"===t.type?t.geometry:t).type&&"Point"===this.type)return _(this.coordinates,t.coordinates);if("MultiLineString"===t.type&&"Point"===this.type)for(e=0;e<t.coordinates.length;e++){var i={type:"LineString",coordinates:t.coordinates[e]};if(this.within(i))return!0}if(("LineString"===t.type||"MultiPoint"===t.type)&&"Point"===this.type)for(e=0;e<t.coordinates.length;e++){if(this.coordinates.length!==t.coordinates[e].length)return!1;if(_(this.coordinates,t.coordinates[e]))return!0}if("Polygon"===t.type){if("Polygon"===this.type){if(t.coordinates.length===this.coordinates.length)for(e=0;e<this.coordinates.length;e++)if(S(this.coordinates[e],t.coordinates[e]))return!0;return!(!this.coordinates.length||!w(t.coordinates,this.coordinates[0][0]))&&!N(E(this.coordinates),E(t.coordinates))}if("Point"===this.type)return w(t.coordinates,this.coordinates);if("LineString"===this.type||"MultiPoint"===this.type){if(!this.coordinates||0===this.coordinates.length)return!1;for(e=0;e<this.coordinates.length;e++)if(!1===w(t.coordinates,this.coordinates[e]))return!1;return!0}if("MultiLineString"===this.type){for(e=0;e<this.coordinates.length;e++)if(!1===new C(this.coordinates[e]).within(t))return n++,!1;return!0}if("MultiPolygon"===this.type){for(e=0;e<this.coordinates.length;e++)if(!1===new T({type:"Polygon",coordinates:this.coordinates[e]}).within(t))return!1;return!0}}if("MultiPolygon"===t.type){if("Point"===this.type){if(t.coordinates.length)for(e=0;e<t.coordinates.length;e++)if(w(t.coordinates[e],this.coordinates)&&!1===N([this.coordinates],t.coordinates))return!0;return!1}if("Polygon"===this.type){for(e=0;e<this.coordinates.length;e++)if(t.coordinates[e].length===this.coordinates.length)for(r=0;r<this.coordinates.length;r++)if(S(this.coordinates[r],t.coordinates[e][r]))return!0;if(!1===N(this.coordinates,t.coordinates)&&t.coordinates.length){for(e=0;e<t.coordinates.length;e++)n=!1!==w(t.coordinates[e],this.coordinates[0][0]);return n}}else if("LineString"===this.type||"MultiPoint"===this.type)for(e=0;e<t.coordinates.length;e++){var s={type:"Polygon",coordinates:t.coordinates[e]};return this.within(s)?!0:!1}else{if("MultiLineString"===this.type){for(e=0;e<this.coordinates.length;e++)if(!1===new C(this.coordinates[e]).within(t))return!1;return!0}if("MultiPolygon"===this.type){for(e=0;e<t.coordinates.length;e++){var o={type:"Polygon",coordinates:t.coordinates[e]};if(!1===this.within(o))return!1}return!0}}}return!1},T.prototype.intersects=function(t){var e=new T(t="Feature"===t.type?t.geometry:t);return!(!this.within(t)&&!e.within(this))||("Point"!==this.type&&"MultiPoint"!==this.type&&"Point"!==t.type&&"MultiPoint"!==t.type?N(this.coordinates,t.coordinates):"Feature"===this.type?new T(this.geometry).intersects(t):(function(){var t=Array.prototype.slice.apply(arguments);console.warn&&console.warn.apply(console,t)}("Type "+this.type+" to "+t.type+" intersection is not supported by intersects"),!1))},(P.prototype=new T).constructor=P,((O.prototype=new T).constructor=O).prototype.forEach=function(t){for(var e=0;e<this.coordinates.length;e++)t.apply(this,[this.coordinates[e],e,this.coordinates]);return this},O.prototype.addPoint=function(t){return this.coordinates.push(t),this},O.prototype.insertPoint=function(t,e){return this.coordinates.splice(e,0,t),this},O.prototype.removePoint=function(t){return"number"==typeof t?this.coordinates.splice(t,1):this.coordinates.splice(this.coordinates.indexOf(t),1),this},O.prototype.get=function(t){return new P(this.coordinates[t])},((C.prototype=new T).constructor=C).prototype.addVertex=function(t){return this.coordinates.push(t),this},C.prototype.insertVertex=function(t,e){return this.coordinates.splice(e,0,t),this},C.prototype.removeVertex=function(t){return this.coordinates.splice(t,1),this},((R.prototype=new T).constructor=R).prototype.forEach=function(t){for(var e=0;e<this.coordinates.length;e++)t.apply(this,[this.coordinates[e],e,this.coordinates])},R.prototype.get=function(t){return new C(this.coordinates[t])},((I.prototype=new T).constructor=I).prototype.addVertex=function(t){return this.insertVertex(t,this.coordinates[0].length-1),this},I.prototype.insertVertex=function(t,e){return this.coordinates[0].splice(e,0,t),this},I.prototype.removeVertex=function(t){return this.coordinates[0].splice(t,1),this},I.prototype.close=function(){this.coordinates=E(this.coordinates)},I.prototype.hasHoles=function(){return 1<this.coordinates.length},I.prototype.holes=function(){var t=[];if(this.hasHoles())for(var e=1;e<this.coordinates.length;e++)t.push(new I([this.coordinates[e]]));return t},((L.prototype=new T).constructor=L).prototype.forEach=function(t){for(var e=0;e<this.coordinates.length;e++)t.apply(this,[this.coordinates[e],e,this.coordinates])},L.prototype.get=function(t){return new I(this.coordinates[t])},L.prototype.close=function(){var e=[];return this.forEach(function(t){e.push(E(t))}),this.coordinates=e,this},(D.prototype=new T).constructor=D,((k.prototype=new T).constructor=k).prototype.forEach=function(t){for(var e=0;e<this.features.length;e++)t.apply(this,[this.features[e],e,this.features])},k.prototype.get=function(e){var r;return this.forEach(function(t){t.id===e&&(r=t)}),new D(r)},((F.prototype=new T).constructor=F).prototype.forEach=function(t){for(var e=0;e<this.geometries.length;e++)t.apply(this,[this.geometries[e],e,this.geometries])},F.prototype.get=function(t){return new T(this.geometries[t])},((q.prototype=new T).constructor=q).prototype.recalculate=function(){return this.geometry=j(this.properties.center,this.properties.radius,this.properties.steps),this},q.prototype.center=function(t){return t&&(this.properties.center=t,this.recalculate()),this.properties.center},q.prototype.radius=function(t){return t&&(this.properties.radius=t,this.recalculate()),this.properties.radius},q.prototype.steps=function(t){return t&&(this.properties.steps=t,this.recalculate()),this.properties.steps},q.prototype.toJSON=function(){return T.prototype.toJSON.call(this)},t.Primitive=T,t.Point=P,t.MultiPoint=O,t.LineString=C,t.MultiLineString=R,t.Polygon=I,t.MultiPolygon=L,t.Feature=D,t.FeatureCollection=k,t.GeometryCollection=F,t.Circle=q,t.toMercator=m,t.toGeographic=g,t.Tools={},t.Tools.positionToMercator=f,t.Tools.positionToGeographic=p,t.Tools.applyConverter=d,t.Tools.toMercator=m,t.Tools.toGeographic=g,t.Tools.createCircle=j,t.Tools.calculateBounds=h,t.Tools.calculateEnvelope=c,t.Tools.coordinatesContainPoint=b,t.Tools.polygonContainsPoint=w,t.Tools.arraysIntersectArrays=N,t.Tools.coordinatesContainPoint=b,t.Tools.coordinatesEqual=S,t.Tools.convexHull=v,t.Tools.isConvex=function(t){for(var e,r=0;r<t.length-3;r++){var n=t[r],i=t[r+1],s=t[r+2],i=[i[0]-n[0],i[1]-n[1]],n=s[0]*i[1]-s[1]*i[0]+i[0]*n[1]-i[1]*n[0];if(0===r)e=n<0;else if(e&&0<n||!e&&n<0)return!1}return!0},t.MercatorCRS=s,t.GeographicCRS={type:"link",properties:{href:"http://spatialreference.org/ref/epsg/4326/ogcwkt/",type:"ogcwkt"}},t},"object"==typeof e&&"object"==typeof e.exports&&(e.exports=i()),"object"==typeof window&&(n.Terraformer=i())},{}],45:[function(t,e,r){!function(i){"use strict";function o(t,e){for(var r=0;r<e.length;r+=1)t(e[r],r,e)}function a(r,t,e){var n=t;return o(function(t,e){n=r(n,t,e)},e),n}function h(r,t){var n=new Array(t.length);return o(function(t,e){n[e]=r(t)},t),n}function e(t){return t.toString()}function u(t,e){return e.join(t)}function r(t,e,r){return t+r+e}var s=Array.prototype.concat,c=32767;function n(t){for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}function d(){this.init()}function m(t){this.expression=t}function l(t,e,r){e in t||(t[e]=r)}function t(){}function p(t){0<arguments.length&&this.init(t)}function f(t){0<arguments.length&&this.init(t)}function g(t,e){0<arguments.length&&this.init(t,e)}function y(t,e){0<arguments.length&&this.init(t,e)}function M(t,e){0<arguments.length&&this.init(t,e)}function v(t,e){0<arguments.length&&this.init(t,e)}function b(t,e){0<arguments.length&&this.init(t,e)}function w(t,e){0<arguments.length&&this.init(t,e)}function x(t,e){0<arguments.length&&this.init(t,e)}function N(t,e){0<arguments.length&&this.init(t,e)}function E(t,e){0<arguments.length&&this.init(t,e)}function _(t,e){0<arguments.length&&this.init(t,e)}function S(t,e){0<arguments.length&&this.init(t,e)}function A(t,e){0<arguments.length&&this.init(t,e)}function T(t,e){0<arguments.length&&this.init(t,e)}function P(t,e){0<arguments.length&&this.init(t,e)}function O(t,e){0<arguments.length&&this.init(t,e)}function C(t,e,r){0<arguments.length&&this.init(t,e,r)}function R(t,e,r){return function(t){for(var e=[],r=0;r<t.length;r+=c)var n=t.slice(r,r+c),e=s.apply(e,n);return e}(h(function(t,e,r){return C.applyPredicates(t.predicates,e,C.applyStep(t,e,r))}.bind(null,r,t),e))}function I(t,e){0<arguments.length&&this.init(t,e)}function L(t,e,r){0<arguments.length&&this.init(t,e,r)}function D(t,e){0<arguments.length&&this.init(t,e)}function k(t){0<arguments.length&&this.init(t)}function F(t,e){0<arguments.length&&this.init(t,e)}((d.prototype=new Object).constructor=d).superclass=Object.prototype,d.prototype.init=function(){this.reduceActions=[],this.reduceActions[3]=function(t){return new y(t[0],t[2])},this.reduceActions[5]=function(t){return new M(t[0],t[2])},this.reduceActions[7]=function(t){return new v(t[0],t[2])},this.reduceActions[8]=function(t){return new b(t[0],t[2])},this.reduceActions[10]=function(t){return new w(t[0],t[2])},this.reduceActions[11]=function(t){return new x(t[0],t[2])},this.reduceActions[12]=function(t){return new N(t[0],t[2])},this.reduceActions[13]=function(t){return new E(t[0],t[2])},this.reduceActions[15]=function(t){return new _(t[0],t[2])},this.reduceActions[16]=function(t){return new S(t[0],t[2])},this.reduceActions[18]=function(t){return new A(t[0],t[2])},this.reduceActions[19]=function(t){return new T(t[0],t[2])},this.reduceActions[20]=function(t){return new P(t[0],t[2])},this.reduceActions[22]=function(t){return new f(t[1])},this.reduceActions[24]=function(t){return new O(t[0],t[2])},this.reduceActions[25]=function(t){return new C(void 0,void 0,t[0])},this.reduceActions[27]=function(t){return t[0].locationPath=t[2],t[0]},this.reduceActions[28]=function(t){return t[0].locationPath=t[2],t[0].locationPath.steps.unshift(new L(L.DESCENDANTORSELF,D.nodeTest,[])),t[0]},this.reduceActions[29]=function(t){return new C(t[0],[],void 0)},this.reduceActions[30]=function(t){return tt.instance_of(t[0],C)?(null==t[0].filterPredicates&&(t[0].filterPredicates=[]),t[0].filterPredicates.push(t[1]),t[0]):new C(t[0],[t[1]],void 0)},this.reduceActions[32]=function(t){return t[1]},this.reduceActions[33]=function(t){return new G(t[0])},this.reduceActions[34]=function(t){return new H(t[0])},this.reduceActions[36]=function(t){return new F(t[0],[])},this.reduceActions[37]=function(t){return new F(t[0],t[2])},this.reduceActions[38]=function(t){return[t[0]]},this.reduceActions[39]=function(t){return t[2].unshift(t[0]),t[2]},this.reduceActions[43]=function(t){return new I(!0,[])},this.reduceActions[44]=function(t){return t[1].absolute=!0,t[1]},this.reduceActions[46]=function(t){return new I(!1,[t[0]])},this.reduceActions[47]=function(t){return t[0].steps.push(t[2]),t[0]},this.reduceActions[49]=function(t){return new L(t[0],t[1],[])},this.reduceActions[50]=function(t){return new L(L.CHILD,t[0],[])},this.reduceActions[51]=function(t){return new L(t[0],t[1],t[2])},this.reduceActions[52]=function(t){return new L(L.CHILD,t[0],t[1])},this.reduceActions[54]=function(t){return[t[0]]},this.reduceActions[55]=function(t){return t[1].unshift(t[0]),t[1]},this.reduceActions[56]=function(t){return"ancestor"==t[0]?L.ANCESTOR:"ancestor-or-self"==t[0]?L.ANCESTORORSELF:"attribute"==t[0]?L.ATTRIBUTE:"child"==t[0]?L.CHILD:"descendant"==t[0]?L.DESCENDANT:"descendant-or-self"==t[0]?L.DESCENDANTORSELF:"following"==t[0]?L.FOLLOWING:"following-sibling"==t[0]?L.FOLLOWINGSIBLING:"namespace"==t[0]?L.NAMESPACE:"parent"==t[0]?L.PARENT:"preceding"==t[0]?L.PRECEDING:"preceding-sibling"==t[0]?L.PRECEDINGSIBLING:"self"==t[0]?L.SELF:-1},this.reduceActions[57]=function(t){return L.ATTRIBUTE},this.reduceActions[59]=function(t){return"comment"==t[0]?D.commentTest:"text"==t[0]?D.textTest:"processing-instruction"==t[0]?D.anyPiTest:"node"==t[0]?D.nodeTest:new D(-1,void 0)},this.reduceActions[60]=function(t){return new D.PITest(t[2])},this.reduceActions[61]=function(t){return t[1]},this.reduceActions[63]=function(t){return t[1].absolute=!0,t[1].steps.unshift(new L(L.DESCENDANTORSELF,D.nodeTest,[])),t[1]},this.reduceActions[64]=function(t){return t[0].steps.push(new L(L.DESCENDANTORSELF,D.nodeTest,[])),t[0].steps.push(t[2]),t[0]},this.reduceActions[65]=function(t){return new L(L.SELF,D.nodeTest,[])},this.reduceActions[66]=function(t){return new L(L.PARENT,D.nodeTest,[])},this.reduceActions[67]=function(t){return new k(t[1])},this.reduceActions[68]=function(t){return D.nameTestAny},this.reduceActions[69]=function(t){return new D.NameTestPrefixAny(t[0].split(":")[0])},this.reduceActions[70]=function(t){return new D.NameTestQName(t[0])}},d.actionTable=[" s s        sssssssss    s ss  s  ss","                 s                  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                rrrrr               "," s s        sssssssss    s ss  s  ss","rs  rrrrrrrr s  sssssrrrrrr  rrs rs "," s s        sssssssss    s ss  s  ss","                            s       ","                            s       ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","  s                                 ","                            s       "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr  r  ","a                                   ","r       s                    rr  r  ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrs  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  srrrrrrrr         rrrrrrs rr sr  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                sssss               ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  srrrrrrrr         rrrrrrs rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","              s                     ","                             s      ","                rrrrr               "," s s        sssssssss    s sss s  ss","r  srrrrrrrr         rrrrrrs rr  r  "," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss      ss  s  ss"," s s        sssssssss    s ss  s  ss"," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr rr  "," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             rr     ","                             s      ","                             rs     ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","                                 r  ","                                 s  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  "," s s        sssssssss    s ss  s  ss","r  rrrrrrrrr         rrrrrrr rr rr  ","                             r      "],d.actionTableNumber=[" 1 0        /.-,+*)('    & %$  #  \"!","                 J                  ","a  aaaaaaaaa         aaaaaaa aa  a  ","                YYYYY               "," 1 0        /.-,+*)('    & %$  #  \"!","K1  KKKKKKKK .  +*)('KKKKKK  KK# K\" "," 1 0        /.-,+*)('    & %$  #  \"!","                            N       ","                            O       ","e  eeeeeeeee         eeeeeee ee ee  ","f  fffffffff         fffffff ff ff  ","d  ddddddddd         ddddddd dd dd  ","B  BBBBBBBBB         BBBBBBB BB BB  ","A  AAAAAAAAA         AAAAAAA AA AA  ","  P                                 ","                            Q       "," 1           .  +*)('          #  \" ","b  bbbbbbbbb         bbbbbbb bb  b  ","                                    ","!       S                    !!  !  ",'"      T"                    ""  "  ',"$   V  $$            U       $$  $  ","&   &ZY&&            &XW     &&  &  ",")   )))))            )))\\[   ))  )  ",".   ....._^]         .....   ..  .  ","1   11111111         11111   11  1  ","5   55555555         55555`  55  5  ","7   77777777         777777  77  7  ","9   99999999         999999  99  9  ",":  c::::::::         ::::::b :: a:  ","I  fIIIIIIII         IIIIIIe II  I  ","=  =========         ======= == ==  ","?  ?????????         ??????? ?? ??  ","C  CCCCCCCCC         CCCCCCC CC CC  ","J   JJJJJJJJ         JJJJJJ  JJ  J  ","M   MMMMMMMM         MMMMMM  MM  M  ","N  NNNNNNNNN         NNNNNNN NN  N  ","P  PPPPPPPPP         PPPPPPP PP  P  ","                +*)('               ","R  RRRRRRRRR         RRRRRRR RR aR  ","U  UUUUUUUUU         UUUUUUU UU  U  ","Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  ","c  ccccccccc         ccccccc cc cc  ","                             j      ","L  fLLLLLLLL         LLLLLLe LL  L  ","6   66666666         66666   66  6  ","              k                     ","                             l      ","                XXXXX               "," 1 0        /.-,+*)('    & %$m #  \"!","_  f________         ______e __  _  "," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('      %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1           .  +*)('          #  \" "," 1           .  +*)('          #  \" ",">  >>>>>>>>>         >>>>>>> >> >>  "," 1           .  +*)('          #  \" "," 1           .  +*)('          #  \" ","Q  QQQQQQQQQ         QQQQQQQ QQ aQ  ","V  VVVVVVVVV         VVVVVVV VV aV  ","T  TTTTTTTTT         TTTTTTT TT  T  ","@  @@@@@@@@@         @@@@@@@ @@ @@  ","                                   ","[  [[[[[[[[[         [[[[[[[ [[ [[  ","D  DDDDDDDDD         DDDDDDD DD DD  ","                             HH     ","                                   ","                             F     ","#      T#                    ##  #  ","%   V  %%            U       %%  %  ","'   'ZY''            'XW     ''  '  ","(   (ZY((            (XW     ((  (  ","+   +++++            +++\\[   ++  +  ","*   *****            ***\\[   **  *  ","-   -----            ---\\[   --  -  ",",   ,,,,,            ,,,\\[   ,,  ,  ","0   00000_^]         00000   00  0  ","/   /////_^]         /////   //  /  ","2   22222222         22222   22  2  ","3   33333333         33333   33  3  ","4   44444444         44444   44  4  ","8   88888888         888888  88  8  ","                                 ^  ","                                   ",";  f;;;;;;;;         ;;;;;;e ;;  ;  ","<  f<<<<<<<<         <<<<<<e <<  <  ","O  OOOOOOOOO         OOOOOOO OO  O  ","`  `````````         ``````` ``  `  ","S  SSSSSSSSS         SSSSSSS SS  S  ","W  WWWWWWWWW         WWWWWWW WW  W  ","\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  ","E  EEEEEEEEE         EEEEEEE EE EE  "," 1 0        /.-,+*)('    & %$  #  \"!","]  ]]]]]]]]]         ]]]]]]] ]] ]]  ","                             G      "],d.gotoTable=["3456789:;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","L456789:;<=>?@ AB  CDEFGH IJ ","            M        EFGH IJ ","       N;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","            S        EFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","              e              ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                        h  J ","              i          j   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABpqCDEFGH IJ ","                             ","  r6789:;<=>?@ AB  CDEFGH IJ ","   s789:;<=>?@ AB  CDEFGH IJ ","    t89:;<=>?@ AB  CDEFGH IJ ","    u89:;<=>?@ AB  CDEFGH IJ ","     v9:;<=>?@ AB  CDEFGH IJ ","     w9:;<=>?@ AB  CDEFGH IJ ","     x9:;<=>?@ AB  CDEFGH IJ ","     y9:;<=>?@ AB  CDEFGH IJ ","      z:;<=>?@ AB  CDEFGH IJ ","      {:;<=>?@ AB  CDEFGH IJ ","       |;<=>?@ AB  CDEFGH IJ ","       };<=>?@ AB  CDEFGH IJ ","       ~;<=>?@ AB  CDEFGH IJ ","         =>?@ AB  CDEFGH IJ ","456789:;<=>?@ AB  CDEFGH IJ","                    EFGH IJ ","                    EFGH IJ ","                             ","                      GH IJ ","                      GH IJ ","              i             ","              i             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABqCDEFGH IJ ","                             ","                             "],d.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]],d.DOUBLEDOT=2,d.DOUBLECOLON=3,d.DOUBLESLASH=4,d.NOTEQUAL=5,d.LESSTHANOREQUAL=6,d.GREATERTHANOREQUAL=7,d.AND=8,d.OR=9,d.MOD=10,d.DIV=11,d.MULTIPLYOPERATOR=12,d.FUNCTIONNAME=13,d.AXISNAME=14,d.LITERAL=15,d.NUMBER=16,d.ASTERISKNAMETEST=17,d.QNAME=18,d.NCNAMECOLONASTERISK=19,d.NODETYPE=20,d.PROCESSINGINSTRUCTIONWITHLITERAL=21,d.EQUALS=22,d.LESSTHAN=23,d.GREATERTHAN=24,d.PLUS=25,d.MINUS=26,d.BAR=27,d.SLASH=28,d.LEFTPARENTHESIS=29,d.RIGHTPARENTHESIS=30,d.COMMA=31,d.AT=32,d.LEFTBRACKET=33,d.RIGHTBRACKET=34,d.DOT=35,d.DOLLAR=36,d.prototype.tokenize=function(t){for(var e=[],r=[],n=t+"\0",i=0,s=n.charAt(i++);;){for(;" "==s||"\t"==s||"\r"==s||"\n"==s;)s=n.charAt(i++);if("\0"==s||i>=n.length)break;if("("!=s)if(")"!=s)if("["!=s)if("]"!=s)if("@"!=s)if(","!=s)if("|"!=s)if("+"!=s)if("-"!=s)if("="!=s)if("$"!=s)if("."!=s)if("'"!=s&&'"'!=s)if("0"<=s&&s<="9"){c=s;for(s=n.charAt(i++);"0"<=s&&s<="9";)c+=s,s=n.charAt(i++);if("."==s&&"0"<=n.charAt(i)&&n.charAt(i)<="9")for(c+=s,c+=n.charAt(i++),s=n.charAt(i++);"0"<=s&&s<="9";)c+=s,s=n.charAt(i++);e.push(d.NUMBER),r.push(c)}else if("*"!=s)if(":"!=s||":"!=n.charAt(i))if("/"!=s)if("!"!=s||"="!=n.charAt(i))if("<"!=s)if(">"!=s){if("_"!=s&&!tt.isLetter(s.charCodeAt(0)))throw new Error("Unexpected character "+s);var o,a=s;for(s=n.charAt(i++);tt.isNCNameChar(s.charCodeAt(0));)a+=s,s=n.charAt(i++);if(0<e.length&&(o=e[e.length-1])!=d.AT&&o!=d.DOUBLECOLON&&o!=d.LEFTPARENTHESIS&&o!=d.LEFTBRACKET&&o!=d.AND&&o!=d.OR&&o!=d.MOD&&o!=d.DIV&&o!=d.MULTIPLYOPERATOR&&o!=d.SLASH&&o!=d.DOUBLESLASH&&o!=d.BAR&&o!=d.PLUS&&o!=d.MINUS&&o!=d.EQUALS&&o!=d.NOTEQUAL&&o!=d.LESSTHAN&&o!=d.LESSTHANOREQUAL&&o!=d.GREATERTHAN&&o!=d.GREATERTHANOREQUAL){if("and"==a){e.push(d.AND),r.push(a);continue}if("or"==a){e.push(d.OR),r.push(a);continue}if("mod"==a){e.push(d.MOD),r.push(a);continue}if("div"==a){e.push(d.DIV),r.push(a);continue}}if(":"==s){if("*"==n.charAt(i)){e.push(d.NCNAMECOLONASTERISK),r.push(a+":*"),i++,s=n.charAt(i++);continue}if("_"==n.charAt(i)||tt.isLetter(n.charCodeAt(i))){for(a+=":",s=n.charAt(i++);tt.isNCNameChar(s.charCodeAt(0));)a+=s,s=n.charAt(i++);if("("==s){e.push(d.FUNCTIONNAME),r.push(a);continue}e.push(d.QNAME),r.push(a);continue}if(":"==n.charAt(i)){e.push(d.AXISNAME),r.push(a);continue}}"("!=s?e.push(d.QNAME):"comment"!=a&&"text"!=a&&"node"!=a?"processing-instruction"!=a?e.push(d.FUNCTIONNAME):")"==n.charAt(i)?e.push(d.NODETYPE):e.push(d.PROCESSINGINSTRUCTIONWITHLITERAL):e.push(d.NODETYPE),r.push(a)}else s=("="!=n.charAt(i)?(e.push(d.GREATERTHAN),r.push(">")):(e.push(d.GREATERTHANOREQUAL),r.push(">="),i++),n.charAt(i++));else s=("="!=n.charAt(i)?(e.push(d.LESSTHAN),r.push("<")):(e.push(d.LESSTHANOREQUAL),r.push("<="),i++),n.charAt(i++));else e.push(d.NOTEQUAL),r.push("!="),i++,s=n.charAt(i++);else"/"!=(s=n.charAt(i++))?(e.push(d.SLASH),r.push("/")):(e.push(d.DOUBLESLASH),r.push("//"),s=n.charAt(i++));else e.push(d.DOUBLECOLON),r.push("::"),i++,s=n.charAt(i++);else 0<e.length&&(o=e[e.length-1])!=d.AT&&o!=d.DOUBLECOLON&&o!=d.LEFTPARENTHESIS&&o!=d.LEFTBRACKET&&o!=d.AND&&o!=d.OR&&o!=d.MOD&&o!=d.DIV&&o!=d.MULTIPLYOPERATOR&&o!=d.SLASH&&o!=d.DOUBLESLASH&&o!=d.BAR&&o!=d.PLUS&&o!=d.MINUS&&o!=d.EQUALS&&o!=d.NOTEQUAL&&o!=d.LESSTHAN&&o!=d.LESSTHANOREQUAL&&o!=d.GREATERTHAN&&o!=d.GREATERTHANOREQUAL?(e.push(d.MULTIPLYOPERATOR),r.push(s),s=n.charAt(i++)):(e.push(d.ASTERISKNAMETEST),r.push(s),s=n.charAt(i++));else{for(var h=s,u="";i<n.length&&(s=n.charAt(i))!==h;)u+=s,i+=1;if(s!==h)throw ot.fromMessage("Unterminated string literal: "+h+u);i+=1,e.push(d.LITERAL),r.push(u),s=n.charAt(i++)}else if("."!=(s=n.charAt(i++)))if("0"<=s&&s<="9"){for(var c="."+s,s=n.charAt(i++);"0"<=s&&s<="9";)c+=s,s=n.charAt(i++);e.push(d.NUMBER),r.push(c)}else e.push(d.DOT),r.push(".");else e.push(d.DOUBLEDOT),r.push(".."),s=n.charAt(i++);else e.push(d.DOLLAR),r.push(s),s=n.charAt(i++);else e.push(d.EQUALS),r.push(s),s=n.charAt(i++);else e.push(d.MINUS),r.push(s),s=n.charAt(i++);else e.push(d.PLUS),r.push(s),s=n.charAt(i++);else e.push(d.BAR),r.push(s),s=n.charAt(i++);else e.push(d.COMMA),r.push(s),s=n.charAt(i++);else e.push(d.AT),r.push(s),s=n.charAt(i++);else e.push(d.RIGHTBRACKET),r.push(s),s=n.charAt(i++);else e.push(d.LEFTBRACKET),r.push(s),s=n.charAt(i++);else e.push(d.RIGHTPARENTHESIS),r.push(s),s=n.charAt(i++);else e.push(d.LEFTPARENTHESIS),r.push(s),s=n.charAt(i++)}return e.push(1),r.push("[EOF]"),[e,r]},d.SHIFT="s",d.REDUCE="r",d.ACCEPT="a",d.prototype.parse=function(t){var e=this.tokenize(t);if(null!=e){var r,n,i=e[0],s=e[1],o=0,a=[],h=[],u=[];for(a.push(0),h.push(1),u.push("_S"),r=i[o],n=s[o++];;)switch(t=a[a.length-1],d.actionTable[t].charAt(r-1)){case d.SHIFT:h.push(-r),u.push(n),a.push(d.actionTableNumber[t].charCodeAt(r-1)-32),r=i[o],n=s[o++];break;case d.REDUCE:for(var c=d.productions[d.actionTableNumber[t].charCodeAt(r-1)-32][1],l=[],p=0;p<c;p++)h.pop(),l.unshift(u.pop()),a.pop();var f=a[a.length-1];h.push(d.productions[d.actionTableNumber[t].charCodeAt(r-1)-32][0]),null==this.reduceActions[d.actionTableNumber[t].charCodeAt(r-1)-32]?u.push(l[0]):u.push(this.reduceActions[d.actionTableNumber[t].charCodeAt(r-1)-32](l)),a.push(d.gotoTable[f].charCodeAt(d.productions[d.actionTableNumber[t].charCodeAt(r-1)-32][0]-2)-33);break;case d.ACCEPT:return new m(u.pop());default:throw new Error("XPath parse error")}}},((m.prototype=new Object).constructor=m).superclass=Object.prototype,m.prototype.toString=function(){return this.expression.toString()},m.prototype.evaluate=function(t){return t.contextNode=t.expressionContextNode,t.contextSize=1,t.contextPosition=1,t.isHtml&&(l(t,"caseInsensitive",!0),l(t,"allowAnyNamespaceForNoPrefix",!0)),l(t,"caseInsensitive",!1),this.expression.evaluate(t)},m.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace",m.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/",((t.prototype=new Object).constructor=t).superclass=Object.prototype,t.prototype.init=function(){},t.prototype.toString=function(){return"<Expression>"},t.prototype.evaluate=function(t){throw new Error("Could not evaluate expression.")},((p.prototype=new t).constructor=p).superclass=t.prototype,p.prototype.init=function(t){this.rhs=t},((f.prototype=new p).constructor=f).superclass=p.prototype,f.prototype.init=function(t){f.superclass.init.call(this,t)},f.prototype.evaluate=function(t){return this.rhs.evaluate(t).number().negate()},f.prototype.toString=function(){return"-"+this.rhs.toString()},((g.prototype=new t).constructor=g).superclass=t.prototype,g.prototype.init=function(t,e){this.lhs=t,this.rhs=e},((y.prototype=new g).constructor=y).superclass=g.prototype,y.prototype.init=function(t,e){y.superclass.init.call(this,t,e)},y.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"},y.prototype.evaluate=function(t){var e=this.lhs.evaluate(t).bool();return e.booleanValue()?e:this.rhs.evaluate(t).bool()},((M.prototype=new g).constructor=M).superclass=g.prototype,M.prototype.init=function(t,e){M.superclass.init.call(this,t,e)},M.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"},M.prototype.evaluate=function(t){var e=this.lhs.evaluate(t).bool();return e.booleanValue()?this.rhs.evaluate(t).bool():e},((v.prototype=new g).constructor=v).superclass=g.prototype,v.prototype.init=function(t,e){v.superclass.init.call(this,t,e)},v.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"},v.prototype.evaluate=function(t){return this.lhs.evaluate(t).equals(this.rhs.evaluate(t))},((b.prototype=new g).constructor=b).superclass=g.prototype,b.prototype.init=function(t,e){b.superclass.init.call(this,t,e)},b.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"},b.prototype.evaluate=function(t){return this.lhs.evaluate(t).notequal(this.rhs.evaluate(t))},((w.prototype=new g).constructor=w).superclass=g.prototype,w.prototype.init=function(t,e){w.superclass.init.call(this,t,e)},w.prototype.evaluate=function(t){return this.lhs.evaluate(t).lessthan(this.rhs.evaluate(t))},w.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"},((x.prototype=new g).constructor=x).superclass=g.prototype,x.prototype.init=function(t,e){x.superclass.init.call(this,t,e)},x.prototype.evaluate=function(t){return this.lhs.evaluate(t).greaterthan(this.rhs.evaluate(t))},x.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+")"},((N.prototype=new g).constructor=N).superclass=g.prototype,N.prototype.init=function(t,e){N.superclass.init.call(this,t,e)},N.prototype.evaluate=function(t){return this.lhs.evaluate(t).lessthanorequal(this.rhs.evaluate(t))},N.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"},((E.prototype=new g).constructor=E).superclass=g.prototype,E.prototype.init=function(t,e){E.superclass.init.call(this,t,e)},E.prototype.evaluate=function(t){return this.lhs.evaluate(t).greaterthanorequal(this.rhs.evaluate(t))},E.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"},((_.prototype=new g).constructor=_).superclass=g.prototype,_.prototype.init=function(t,e){_.superclass.init.call(this,t,e)},_.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().plus(this.rhs.evaluate(t).number())},_.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"},((S.prototype=new g).constructor=S).superclass=g.prototype,S.prototype.init=function(t,e){S.superclass.init.call(this,t,e)},S.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().minus(this.rhs.evaluate(t).number())},S.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"},((A.prototype=new g).constructor=A).superclass=g.prototype,A.prototype.init=function(t,e){A.superclass.init.call(this,t,e)},A.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().multiply(this.rhs.evaluate(t).number())},A.prototype.toString=function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"},((T.prototype=new g).constructor=T).superclass=g.prototype,T.prototype.init=function(t,e){T.superclass.init.call(this,t,e)},T.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().div(this.rhs.evaluate(t).number())},T.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"},((P.prototype=new g).constructor=P).superclass=g.prototype,P.prototype.init=function(t,e){P.superclass.init.call(this,t,e)},P.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().mod(this.rhs.evaluate(t).number())},P.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"},((O.prototype=new g).constructor=O).superclass=g.prototype,O.prototype.init=function(t,e){O.superclass.init.call(this,t,e)},O.prototype.evaluate=function(t){return this.lhs.evaluate(t).nodeset().union(this.rhs.evaluate(t).nodeset())},O.prototype.toString=function(){return h(e,[this.lhs,this.rhs]).join(" | ")},((C.prototype=new t).constructor=C).superclass=t.prototype,C.prototype.init=function(t,e,r){C.superclass.init.call(this),this.filter=t,this.filterPredicates=e,this.locationPath=r},C.applyPredicates=function(t,e,r){if(0===t.length)return r;var s=e.extend({});return a(function(t,r){return s.contextSize=t.length,n=function(t,e){return s.contextNode=t,s.contextPosition=e+1,C.predicateMatches(r,s)},i=[],o(function(t,e){n(t,e)&&i.push(t)},t),i;var n,i},r,t)},C.getRoot=function(t,e){e=e[0];if(9===e.nodeType)return e;if(t.virtualRoot)return t.virtualRoot;t=e.ownerDocument;if(t)return t;for(var r=e;null!=r.parentNode;)r=r.parentNode;return r},C.applyStep=function(t,e,r){var n=[];switch(e.contextNode=r,t.axis){case L.ANCESTOR:if(e.contextNode===e.virtualRoot)break;for(i=2==e.contextNode.nodeType?C.getOwnerElement(e.contextNode):e.contextNode.parentNode;null!=i&&(t.nodeTest.matches(i,e)&&n.push(i),i!==e.virtualRoot);)i=i.parentNode;break;case L.ANCESTORORSELF:for(var i=e.contextNode;null!=i&&(t.nodeTest.matches(i,e)&&n.push(i),i!==e.virtualRoot);i=2==i.nodeType?C.getOwnerElement(i):i.parentNode);break;case L.ATTRIBUTE:var s=e.contextNode.attributes;if(null!=s)for(var o=0;o<s.length;o++){i=s.item(o);t.nodeTest.matches(i,e)&&n.push(i)}break;case L.CHILD:for(i=e.contextNode.firstChild;null!=i;i=i.nextSibling)t.nodeTest.matches(i,e)&&n.push(i);break;case L.DESCENDANT:for(var a=[e.contextNode.firstChild];0<a.length;)for(i=a.pop();null!=i;)t.nodeTest.matches(i,e)&&n.push(i),i=null!=i.firstChild?(a.push(i.nextSibling),i.firstChild):i.nextSibling;break;case L.DESCENDANTORSELF:t.nodeTest.matches(e.contextNode,e)&&n.push(e.contextNode);for(var a=[e.contextNode.firstChild];0<a.length;)for(i=a.pop();null!=i;)t.nodeTest.matches(i,e)&&n.push(i),i=null!=i.firstChild?(a.push(i.nextSibling),i.firstChild):i.nextSibling;break;case L.FOLLOWING:if(e.contextNode===e.virtualRoot)break;a=[];null!=e.contextNode.firstChild?a.unshift(e.contextNode.firstChild):a.unshift(e.contextNode.nextSibling);for(i=e.contextNode.parentNode;null!=i&&9!=i.nodeType&&i!==e.virtualRoot;i=i.parentNode)a.unshift(i.nextSibling);do{for(i=a.pop();null!=i;)t.nodeTest.matches(i,e)&&n.push(i),i=null!=i.firstChild?(a.push(i.nextSibling),i.firstChild):i.nextSibling}while(0<a.length);break;case L.FOLLOWINGSIBLING:if(e.contextNode===e.virtualRoot)break;for(i=e.contextNode.nextSibling;null!=i;i=i.nextSibling)t.nodeTest.matches(i,e)&&n.push(i);break;case L.NAMESPACE:var h={};if(1==e.contextNode.nodeType){h.xml=m.XML_NAMESPACE_URI,h.xmlns=m.XMLNS_NAMESPACE_URI;for(i=e.contextNode;null!=i&&1==i.nodeType;i=i.parentNode)for(o=0;o<i.attributes.length;o++){var u,c=i.attributes.item(o),l=String(c.name);"xmlns"==l?null==h[""]&&(h[""]=c.value):6<l.length&&"xmlns:"==l.substring(0,6)&&null==h[u=l.substring(6,l.length)]&&(h[u]=c.value)}for(u in h){var p=new J(u,h[u],e.contextNode);t.nodeTest.matches(p,e)&&n.push(p)}}break;case L.PARENT:(i=null)!=(i=e.contextNode!==e.virtualRoot?2==e.contextNode.nodeType?C.getOwnerElement(e.contextNode):e.contextNode.parentNode:i)&&t.nodeTest.matches(i,e)&&n.push(i);break;case L.PRECEDING:a=null!=e.virtualRoot?[e.virtualRoot]:[function(t){for(;t&&t.parentNode;)t=t.parentNode;return t}(e.contextNode)];t:for(;0<a.length;)for(i=a.pop();null!=i;){if(i==e.contextNode)break t;t.nodeTest.matches(i,e)&&n.unshift(i),i=null!=i.firstChild?(a.push(i.nextSibling),i.firstChild):i.nextSibling}break;case L.PRECEDINGSIBLING:if(e.contextNode===e.virtualRoot)break;for(i=e.contextNode.previousSibling;null!=i;i=i.previousSibling)t.nodeTest.matches(i,e)&&n.push(i);break;case L.SELF:t.nodeTest.matches(e.contextNode,e)&&n.push(e.contextNode)}return n},C.applySteps=function(t,e,r){return a(R.bind(null,e),r,t)},C.prototype.applyFilter=function(t,e){if(!this.filter)return{nodes:[t.contextNode]};t=this.filter.evaluate(t);if(tt.instance_of(t,W))return{nodes:C.applyPredicates(this.filterPredicates||[],e,t.toUnsortedArray())};if(null!=this.filterPredicates&&0<this.filterPredicates.length||null!=this.locationPath)throw new Error("Path expression filter must evaluate to a nodeset if predicates or location path are used");return{nonNodes:t}},C.applyLocationPath=function(t,e,r){if(!t)return r;r=t.absolute?[C.getRoot(e,r)]:r;return C.applySteps(t.steps,e,r)},C.prototype.evaluate=function(t){var e=n(new X,t),r=this.applyFilter(t,e);if("nonNodes"in r)return r.nonNodes;t=new W;return t.addArray(C.applyLocationPath(this.locationPath,e,r.nodes)),t},C.predicateMatches=function(t,e){t=t.evaluate(e);return tt.instance_of(t,H)?e.contextPosition===t.numberValue():t.booleanValue()},C.predicateString=function(t){return r("[","]",t.toString())},C.predicatesString=function(t){return u("",h(C.predicateString,t))},C.prototype.toString=function(){if(null==this.filter)return e(this.locationPath);var t=e(this.filter);return tt.instance_of(this.filter,G)?"'"+t+"'":null!=this.filterPredicates&&this.filterPredicates.length?"("+t+")"+C.predicatesString(this.filterPredicates):null!=this.locationPath?t+(this.locationPath.absolute?"":"/")+e(this.locationPath):t},C.getOwnerElement=function(t){if(t.ownerElement)return t.ownerElement;try{if(t.selectSingleNode)return t.selectSingleNode("..")}catch(t){}for(var e=(9==t.nodeType?t:t.ownerDocument).getElementsByTagName("*"),r=0;r<e.length;r++)for(var n=e.item(r),i=n.attributes,s=0;s<i.length;s++)if(i.item(s)===t)return n;return null},((I.prototype=new Object).constructor=I).superclass=Object.prototype,I.prototype.init=function(t,e){this.absolute=t,this.steps=e},I.prototype.toString=function(){return(this.absolute?"/":"")+h(e,this.steps).join("/")},((L.prototype=new Object).constructor=L).superclass=Object.prototype,L.prototype.init=function(t,e,r){this.axis=t,this.nodeTest=e,this.predicates=r},L.prototype.toString=function(){return L.STEPNAMES[this.axis]+"::"+this.nodeTest.toString()+C.predicatesString(this.predicates)},L.STEPNAMES=a(function(t,e){return t[e[0]]=e[1],t},{},[[L.ANCESTOR=0,"ancestor"],[L.ANCESTORORSELF=1,"ancestor-or-self"],[L.ATTRIBUTE=2,"attribute"],[L.CHILD=3,"child"],[L.DESCENDANT=4,"descendant"],[L.DESCENDANTORSELF=5,"descendant-or-self"],[L.FOLLOWING=6,"following"],[L.FOLLOWINGSIBLING=7,"following-sibling"],[L.NAMESPACE=8,"namespace"],[L.PARENT=9,"parent"],[L.PRECEDING=10,"preceding"],[L.PRECEDINGSIBLING=11,"preceding-sibling"],[L.SELF=12,"self"]]),((D.prototype=new Object).constructor=D).superclass=Object.prototype,D.prototype.init=function(t,e){this.type=t,this.value=e},D.prototype.toString=function(){return"<unknown nodetest type>"},D.prototype.matches=function(t,e){console.warn("unknown node test type")},D.NAMETESTANY=0,D.NAMETESTPREFIXANY=1,D.NAMETESTQNAME=2,D.COMMENT=3,D.TEXT=4,D.PI=5,D.NODE=6,D.isNodeType=function(e){return function(t){return function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return!0;return!1}(e,t.nodeType)}},D.makeNodeTestType=function(t,e,r){r=r||function(){};return r.prototype=new D(t),n((r.prototype.constructor=r).prototype,e),r},D.makeNodeTypeTest=function(t,e,r){return new(D.makeNodeTestType(t,{matches:D.isNodeType(e),toString:(n=r,function(){return n})}));var n},D.hasPrefix=function(t){return t.prefix||-1!==(t.nodeName||t.tagName).indexOf(":")},D.isElementOrAttribute=D.isNodeType([1,2]),D.nameSpaceMatches=function(t,e,r){var n=r.namespaceURI||"";if(!t)return!n||e.allowAnyNamespaceForNoPrefix&&!D.hasPrefix(r);e=e.namespaceResolver.getNamespace(t,e.expressionContextNode);if(null==e)throw new Error("Cannot resolve QName "+t);return e===n},D.localNameMatches=function(t,e,r){r=r.localName||r.nodeName;return e.caseInsensitive?t.toLowerCase()===r.toLowerCase():t===r},D.NameTestPrefixAny=D.makeNodeTestType(D.NAMETESTPREFIXANY,{matches:function(t,e){return D.isElementOrAttribute(t)&&D.nameSpaceMatches(this.prefix,e,t)},toString:function(){return this.prefix+":*"}},function(t){this.prefix=t}),D.NameTestQName=D.makeNodeTestType(D.NAMETESTQNAME,{matches:function(t,e){return D.isNodeType([1,2,J.XPATH_NAMESPACE_NODE])(t)&&D.nameSpaceMatches(this.prefix,e,t)&&D.localNameMatches(this.localName,e,t)},toString:function(){return this.name}},function(t){var e=t.split(":");this.name=t,this.prefix=1<e.length?e[0]:null,this.localName=e[1<e.length?1:0]}),D.PITest=D.makeNodeTestType(D.PI,{matches:function(t,e){return D.isNodeType([7])(t)&&(t.target||t.nodeName)===this.name},toString:function(){return r('processing-instruction("','")',this.name)}},function(t){this.name=t}),D.nameTestAny=D.makeNodeTypeTest(D.NAMETESTANY,[1,2,J.XPATH_NAMESPACE_NODE],"*"),D.textTest=D.makeNodeTypeTest(D.TEXT,[3,4],"text()"),D.commentTest=D.makeNodeTypeTest(D.COMMENT,[8],"comment()"),D.nodeTest=D.makeNodeTypeTest(D.NODE,[1,2,3,4,7,8,9],"node()"),D.anyPiTest=D.makeNodeTypeTest(D.PI,[7],"processing-instruction()"),((k.prototype=new t).constructor=k).superclass=t.prototype,k.prototype.init=function(t){this.variable=t},k.prototype.toString=function(){return"$"+this.variable},k.prototype.evaluate=function(t){var e=tt.resolveQName(this.variable,t.namespaceResolver,t.contextNode,!1);if(null==e[0])throw new Error("Cannot resolve QName "+fn);e=t.variableResolver.getVariable(e[1],e[0]);if(!e)throw ot.fromMessage("Undeclared variable: "+this.toString());return e},((F.prototype=new t).constructor=F).superclass=t.prototype,F.prototype.init=function(t,e){this.functionName=t,this.arguments=e},F.prototype.toString=function(){for(var t=this.functionName+"(",e=0;e<this.arguments.length;e++)0<e&&(t+=", "),t+=this.arguments[e].toString();return t+")"},F.prototype.evaluate=function(t){var e=Y.getFunctionFromContext(this.functionName,t);if(!e)throw new Error("Unknown function "+this.functionName);var r=[t].concat(this.arguments);return e.apply(t.functionResolver.thisArg,r)};var j,q,U,B=new Object;function G(t){0<arguments.length&&this.init(t)}function H(t){0<arguments.length&&this.init(t)}function z(t){0<arguments.length&&this.init(t)}function V(t){this.init(t)}function W(){this.init()}function $(){var t,e,r=q.call(arguments);return r.length<U?(t=r,e=$,function(){return e.apply(this,t.concat(q.call(arguments)))}):j.apply(this,q.apply(arguments,[0,U]))}function J(t,e,r){this.isXPathNamespace=!0,this.ownerDocument=r.ownerDocument,this.nodeName="#namespace",this.prefix=t,this.localName=t,this.namespaceURI=e,this.nodeValue=e,this.ownerElement=r,this.nodeType=J.XPATH_NAMESPACE_NODE}function X(t,e,r){this.variableResolver=null!=t?t:new Q,this.namespaceResolver=null!=e?e:new Z,this.functionResolver=null!=r?r:new Y}function Q(){}function Y(t){this.thisArg=null!=t?t:K,this.functions=new Object,this.addStandardFunctions()}function Z(){}B.equals=function(t,e){return t.equals(e)},B.notequal=function(t,e){return t.notequal(e)},B.lessthan=function(t,e){return t.lessthan(e)},B.greaterthan=function(t,e){return t.greaterthan(e)},B.lessthanorequal=function(t,e){return t.lessthanorequal(e)},B.greaterthanorequal=function(t,e){return t.greaterthanorequal(e)},((G.prototype=new t).constructor=G).superclass=t.prototype,G.prototype.init=function(t){this.str=String(t)},G.prototype.toString=function(){return this.str},G.prototype.evaluate=function(t){return this},G.prototype.string=function(){return this},G.prototype.number=function(){return new H(this.str)},G.prototype.bool=function(){return new z(this.str)},G.prototype.nodeset=function(){throw new Error("Cannot convert string to nodeset")},G.prototype.stringValue=function(){return this.str},G.prototype.numberValue=function(){return this.number().numberValue()},G.prototype.booleanValue=function(){return this.bool().booleanValue()},G.prototype.equals=function(t){return tt.instance_of(t,z)?this.bool().equals(t):tt.instance_of(t,H)?this.number().equals(t):tt.instance_of(t,W)?t.compareWithString(this,B.equals):new z(this.str==t.str)},G.prototype.notequal=function(t){return tt.instance_of(t,z)?this.bool().notequal(t):tt.instance_of(t,H)?this.number().notequal(t):tt.instance_of(t,W)?t.compareWithString(this,B.notequal):new z(this.str!=t.str)},G.prototype.lessthan=function(t){return this.number().lessthan(t)},G.prototype.greaterthan=function(t){return this.number().greaterthan(t)},G.prototype.lessthanorequal=function(t){return this.number().lessthanorequal(t)},G.prototype.greaterthanorequal=function(t){return this.number().greaterthanorequal(t)},((H.prototype=new t).constructor=H).superclass=t.prototype,H.prototype.init=function(t){this.num="string"==typeof t?this.parse(t):Number(t)},H.prototype.numberFormat=/^\s*-?[0-9]*\.?[0-9]+\s*$/,H.prototype.parse=function(t){return this.numberFormat.test(t)?parseFloat(t):Number.NaN},H.prototype.toString=function(){var t=this.num.toString();return-1!==t.indexOf("e-")?function(t){for(var e=(t=t.split("e-"))[0].replace(".",""),r=Number(t[1]),n=0;n<r-1;n+=1)e="0"+e;return"0."+e}(t):-1!==t.indexOf("e")?function(t){for(var e=(t=t.split("e"))[0].replace(".",""),r=Number(t[1])+1-e.length,n=0;n<r;n+=1)e+="0";return e}(t):t},H.prototype.evaluate=function(t){return this},H.prototype.string=function(){return new G(this.toString())},H.prototype.number=function(){return this},H.prototype.bool=function(){return new z(this.num)},H.prototype.nodeset=function(){throw new Error("Cannot convert number to nodeset")},H.prototype.stringValue=function(){return this.string().stringValue()},H.prototype.numberValue=function(){return this.num},H.prototype.booleanValue=function(){return this.bool().booleanValue()},H.prototype.negate=function(){return new H(-this.num)},H.prototype.equals=function(t){return tt.instance_of(t,z)?this.bool().equals(t):tt.instance_of(t,G)?this.equals(t.number()):tt.instance_of(t,W)?t.compareWithNumber(this,B.equals):new z(this.num==t.num)},H.prototype.notequal=function(t){return tt.instance_of(t,z)?this.bool().notequal(t):tt.instance_of(t,G)?this.notequal(t.number()):tt.instance_of(t,W)?t.compareWithNumber(this,B.notequal):new z(this.num!=t.num)},H.prototype.lessthan=function(t){return tt.instance_of(t,W)?t.compareWithNumber(this,B.greaterthan):tt.instance_of(t,z)||tt.instance_of(t,G)?this.lessthan(t.number()):new z(this.num<t.num)},H.prototype.greaterthan=function(t){return tt.instance_of(t,W)?t.compareWithNumber(this,B.lessthan):tt.instance_of(t,z)||tt.instance_of(t,G)?this.greaterthan(t.number()):new z(this.num>t.num)},H.prototype.lessthanorequal=function(t){return tt.instance_of(t,W)?t.compareWithNumber(this,B.greaterthanorequal):tt.instance_of(t,z)||tt.instance_of(t,G)?this.lessthanorequal(t.number()):new z(this.num<=t.num)},H.prototype.greaterthanorequal=function(t){return tt.instance_of(t,W)?t.compareWithNumber(this,B.lessthanorequal):tt.instance_of(t,z)||tt.instance_of(t,G)?this.greaterthanorequal(t.number()):new z(this.num>=t.num)},H.prototype.plus=function(t){return new H(this.num+t.num)},H.prototype.minus=function(t){return new H(this.num-t.num)},H.prototype.multiply=function(t){return new H(this.num*t.num)},H.prototype.div=function(t){return new H(this.num/t.num)},H.prototype.mod=function(t){return new H(this.num%t.num)},((z.prototype=new t).constructor=z).superclass=t.prototype,z.prototype.init=function(t){this.b=Boolean(t)},z.prototype.toString=function(){return this.b.toString()},z.prototype.evaluate=function(t){return this},z.prototype.string=function(){return new G(this.b)},z.prototype.number=function(){return new H(this.b)},z.prototype.bool=function(){return this},z.prototype.nodeset=function(){throw new Error("Cannot convert boolean to nodeset")},z.prototype.stringValue=function(){return this.string().stringValue()},z.prototype.numberValue=function(){return this.number().numberValue()},z.prototype.booleanValue=function(){return this.b},z.prototype.not=function(){return new z(!this.b)},z.prototype.equals=function(t){return tt.instance_of(t,G)||tt.instance_of(t,H)?this.equals(t.bool()):tt.instance_of(t,W)?t.compareWithBoolean(this,B.equals):new z(this.b==t.b)},z.prototype.notequal=function(t){return tt.instance_of(t,G)||tt.instance_of(t,H)?this.notequal(t.bool()):tt.instance_of(t,W)?t.compareWithBoolean(this,B.notequal):new z(this.b!=t.b)},z.prototype.lessthan=function(t){return this.number().lessthan(t)},z.prototype.greaterthan=function(t){return this.number().greaterthan(t)},z.prototype.lessthanorequal=function(t){return this.number().lessthanorequal(t)},z.prototype.greaterthanorequal=function(t){return this.number().greaterthanorequal(t)},z.true_=new z(!0),z.false_=new z(!1),((V.prototype=new Object).constructor=V).superclass=Object.prototype,V.prototype.init=function(t){this.left=null,this.right=null,this.node=t,this.depth=1},V.prototype.balance=function(){var t=null==this.left?0:this.left.depth,e=null==this.right?0:this.right.depth;e+1<t?((null==this.left.left?0:this.left.left.depth)<(null==this.left.right?0:this.left.right.depth)&&this.left.rotateRR(),this.rotateLL()):t+1<e&&((null==this.right.right?0:this.right.right.depth)<(null==this.right.left?0:this.right.left.depth)&&this.right.rotateLL(),this.rotateRR())},V.prototype.rotateLL=function(){var t=this.node,e=this.right;this.node=this.left.node,this.right=this.left,this.left=this.left.left,this.right.left=this.right.right,this.right.right=e,this.right.node=t,this.right.updateInNewLocation(),this.updateInNewLocation()},V.prototype.rotateRR=function(){var t=this.node,e=this.left;this.node=this.right.node,this.left=this.right,this.right=this.right.right,this.left.right=this.left.left,this.left.left=e,this.left.node=t,this.left.updateInNewLocation(),this.updateInNewLocation()},V.prototype.updateInNewLocation=function(){this.getDepthFromChildren()},V.prototype.getDepthFromChildren=function(){this.depth=null==this.node?0:1,null!=this.left&&(this.depth=this.left.depth+1),null!=this.right&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)},V.prototype.add=function(t){if(t===this.node)return!1;var e=function(t,e){if(t===e)return 0;if(t.compareDocumentPosition){var r=t.compareDocumentPosition(e);return 1&r?1:10&r?1:20&r?-1:0}for(var n=0,i=0,s=t;null!=s;s=s.parentNode||s.ownerElement)n++;for(var o=e;null!=o;o=o.parentNode||o.ownerElement)i++;if(i<n){for(;i<n;)t=t.parentNode||t.ownerElement,n--;if(t===e)return 1}else if(n<i){for(;n<i;)e=e.parentNode||e.ownerElement,i--;if(t===e)return-1}for(var a=t.parentNode||t.ownerElement,h=e.parentNode||e.ownerElement;a!==h;)e=h,a=(t=a).parentNode||t.ownerElement,h=e.parentNode||e.ownerElement;var u=tt.isAttribute(t),r=tt.isAttribute(e);if(u&&!r)return-1;if(!u&&r)return 1;if(a)for(var c=u?a.attributes:a.childNodes,l=c.length,p=0;p<l;p+=1){var f=c[p];if(f===t)return-1;if(f===e)return 1}throw new Error("Unexpected: could not determine node order")}(t,this.node),r=!1;return-1==e?null==this.left?(this.left=new V(t),r=!0):(r=this.left.add(t))&&this.balance():1==e&&(null==this.right?(this.right=new V(t),r=!0):(r=this.right.add(t))&&this.balance()),r&&this.getDepthFromChildren(),r},((W.prototype=new t).constructor=W).superclass=t.prototype,W.prototype.init=function(){this.tree=null,this.nodes=[],this.size=0},W.prototype.toString=function(){var t=this.first();return null==t?"":this.stringForNode(t)},W.prototype.evaluate=function(t){return this},W.prototype.string=function(){return new G(this.toString())},W.prototype.stringValue=function(){return this.toString()},W.prototype.number=function(){return new H(this.string())},W.prototype.numberValue=function(){return Number(this.string())},W.prototype.bool=function(){return new z(this.booleanValue())},W.prototype.booleanValue=function(){return!!this.size},W.prototype.nodeset=function(){return this},W.prototype.stringForNode=function(t){return 9==t.nodeType||1==t.nodeType||11===t.nodeType?this.stringForContainerNode(t):2===t.nodeType?t.value||t.nodeValue:t.isNamespaceNode?t.namespace:t.nodeValue},W.prototype.stringForContainerNode=function(t){for(var e="",r=t.firstChild;null!=r;r=r.nextSibling){var n=r.nodeType;1!==n&&3!==n&&4!==n&&9!==n&&11!==n||(e+=this.stringForNode(r))}return e},W.prototype.buildTree=function(){if(!this.tree&&this.nodes.length){this.tree=new V(this.nodes[0]);for(var t=1;t<this.nodes.length;t+=1)this.tree.add(this.nodes[t])}return this.tree},W.prototype.first=function(){var t=this.buildTree();if(null==t)return null;for(;null!=t.left;)t=t.left;return t.node},W.prototype.add=function(t){for(var e=0;e<this.nodes.length;e+=1)if(t===this.nodes[e])return;this.tree=null,this.nodes.push(t),this.size+=1},W.prototype.addArray=function(t){var e=this;o(function(t){e.add(t)},t)},W.prototype.toArray=function(){var t=[];return this.toArrayRec(this.buildTree(),t),t},W.prototype.toArrayRec=function(t,e){null!=t&&(this.toArrayRec(t.left,e),e.push(t.node),this.toArrayRec(t.right,e))},W.prototype.toUnsortedArray=function(){return this.nodes.slice()},W.prototype.compareWithString=function(t,e){for(var r=this.toUnsortedArray(),n=0;n<r.length;n++){var i=r[n],i=e(new G(this.stringForNode(i)),t);if(i.booleanValue())return i}return new z(!1)},W.prototype.compareWithNumber=function(t,e){for(var r=this.toUnsortedArray(),n=0;n<r.length;n++){var i=r[n],i=e(new H(this.stringForNode(i)),t);if(i.booleanValue())return i}return new z(!1)},W.prototype.compareWithBoolean=function(t,e){return e(this.bool(),t)},W.prototype.compareWithNodeSet=function(t,r){for(var e=this.toUnsortedArray(),n=function(t,e){return r(e,t)},i=0;i<e.length;i++){var s=new G(this.stringForNode(e[i])),s=t.compareWithString(s,n);if(s.booleanValue())return s}return new z(!1)},W.compareWith=(j=function(t,e){return tt.instance_of(e,G)?this.compareWithString(e,t):tt.instance_of(e,H)?this.compareWithNumber(e,t):tt.instance_of(e,z)?this.compareWithBoolean(e,t):this.compareWithNodeSet(e,t)},q=Array.prototype.slice,U=j.length,$),W.prototype.equals=W.compareWith(B.equals),W.prototype.notequal=W.compareWith(B.notequal),W.prototype.lessthan=W.compareWith(B.lessthan),W.prototype.greaterthan=W.compareWith(B.greaterthan),W.prototype.lessthanorequal=W.compareWith(B.lessthanorequal),W.prototype.greaterthanorequal=W.compareWith(B.greaterthanorequal),W.prototype.union=function(t){var e=new W;return e.addArray(this.toUnsortedArray()),e.addArray(t.toUnsortedArray()),e},((J.prototype=new Object).constructor=J).superclass=Object.prototype,J.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'},((X.prototype=new Object).constructor=X).superclass=Object.prototype,X.prototype.extend=function(t){return n(new X,this,t)},((Q.prototype=new Object).constructor=Q).superclass=Object.prototype,Q.prototype.getVariable=function(t,e){return null},((Y.prototype=new Object).constructor=Y).superclass=Object.prototype,Y.prototype.addStandardFunctions=function(){this.functions["{}last"]=K.last,this.functions["{}position"]=K.position,this.functions["{}count"]=K.count,this.functions["{}id"]=K.id,this.functions["{}local-name"]=K.localName,this.functions["{}namespace-uri"]=K.namespaceURI,this.functions["{}name"]=K.name,this.functions["{}string"]=K.string,this.functions["{}concat"]=K.concat,this.functions["{}starts-with"]=K.startsWith,this.functions["{}contains"]=K.contains,this.functions["{}substring-before"]=K.substringBefore,this.functions["{}substring-after"]=K.substringAfter,this.functions["{}substring"]=K.substring,this.functions["{}string-length"]=K.stringLength,this.functions["{}normalize-space"]=K.normalizeSpace,this.functions["{}translate"]=K.translate,this.functions["{}boolean"]=K.boolean_,this.functions["{}not"]=K.not,this.functions["{}true"]=K.true_,this.functions["{}false"]=K.false_,this.functions["{}lang"]=K.lang,this.functions["{}number"]=K.number,this.functions["{}sum"]=K.sum,this.functions["{}floor"]=K.floor,this.functions["{}ceiling"]=K.ceiling,this.functions["{}round"]=K.round},Y.prototype.addFunction=function(t,e,r){this.functions["{"+t+"}"+e]=r},Y.getFunctionFromContext=function(t,e){t=tt.resolveQName(t,e.namespaceResolver,e.contextNode,!1);if(null===t[0])throw new Error("Cannot resolve QName "+name);return e.functionResolver.getFunction(t[1],t[0])},Y.prototype.getFunction=function(t,e){return this.functions["{"+e+"}"+t]},((Z.prototype=new Object).constructor=Z).superclass=Object.prototype,Z.prototype.getNamespace=function(t,e){if("xml"==t)return m.XML_NAMESPACE_URI;if("xmlns"==t)return m.XMLNS_NAMESPACE_URI;for(9==e.nodeType?e=e.documentElement:2==e.nodeType?e=C.getOwnerElement(e):1!=e.nodeType&&(e=e.parentNode);null!=e&&1==e.nodeType;){for(var r=e.attributes,n=0;n<r.length;n++){var i=r.item(n),s=i.name||i.nodeName;if("xmlns"===s&&""===t||s==="xmlns:"+t)return String(i.value||i.nodeValue)}e=e.parentNode}return null};var K=new Object;K.last=function(t){if(1!=arguments.length)throw new Error("Function last expects ()");return new H(t.contextSize)},K.position=function(t){if(1!=arguments.length)throw new Error("Function position expects ()");return new H(t.contextPosition)},K.count=function(){var t,e=arguments[0];if(2!=arguments.length||!tt.instance_of(t=arguments[1].evaluate(e),W))throw new Error("Function count expects (node-set)");return new H(t.size)},K.id=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function id expects (object)");e=arguments[1].evaluate(t);for(var e,r=(e=tt.instance_of(e,W)?e.toArray().join(" "):e.stringValue()).split(/[\x0d\x0a\x09\x20]+/),n=new W,i=9==t.contextNode.nodeType?t.contextNode:t.contextNode.ownerDocument,s=0;s<r.length;s++){var o=i.getElementById?i.getElementById(r[s]):tt.getElementById(i,r[s]);null!=o&&(n.add(o),0)}return n},K.localName=function(t,e){var r;if(1==arguments.length)r=t.contextNode;else{if(2!=arguments.length)throw new Error("Function local-name expects (node-set?)");r=e.evaluate(t).first()}return new G(null!=r&&(r.localName||r.baseName||r.target||r.nodeName)||"")},K.namespaceURI=function(){var t,e=arguments[0];if(1==arguments.length)t=e.contextNode;else{if(2!=arguments.length)throw new Error("Function namespace-uri expects (node-set?)");t=arguments[1].evaluate(e).first()}return new G(null==t?"":t.namespaceURI)},K.name=function(){var t,e=arguments[0];if(1==arguments.length)t=e.contextNode;else{if(2!=arguments.length)throw new Error("Function name expects (node-set?)");t=arguments[1].evaluate(e).first()}return null==t?new G(""):1==t.nodeType?new G(t.nodeName):2==t.nodeType?new G(t.name||t.nodeName):7===t.nodeType?new G(t.target||t.nodeName):null==t.localName?new G(""):new G(t.localName)},K.string=function(){var t=arguments[0];if(1==arguments.length)return new G(W.prototype.stringForNode(t.contextNode));if(2==arguments.length)return arguments[1].evaluate(t).string();throw new Error("Function string expects (object?)")},K.concat=function(t){if(arguments.length<3)throw new Error("Function concat expects (string, string[, string]*)");for(var e="",r=1;r<arguments.length;r++)e+=arguments[r].evaluate(t).stringValue();return new G(e)},K.startsWith=function(){var t=arguments[0];if(3!=arguments.length)throw new Error("Function startsWith expects (string, string)");var e=arguments[1].evaluate(t).stringValue(),t=arguments[2].evaluate(t).stringValue();return new z(e.substring(0,t.length)==t)},K.contains=function(){var t=arguments[0];if(3!=arguments.length)throw new Error("Function contains expects (string, string)");var e=arguments[1].evaluate(t).stringValue(),t=arguments[2].evaluate(t).stringValue();return new z(-1!==e.indexOf(t))},K.substringBefore=function(){var t=arguments[0];if(3!=arguments.length)throw new Error("Function substring-before expects (string, string)");var e=arguments[1].evaluate(t).stringValue(),t=arguments[2].evaluate(t).stringValue();return new G(e.substring(0,e.indexOf(t)))},K.substringAfter=function(){var t=arguments[0];if(3!=arguments.length)throw new Error("Function substring-after expects (string, string)");var e=arguments[1].evaluate(t).stringValue(),r=arguments[2].evaluate(t).stringValue();if(0==r.length)return new G(e);t=e.indexOf(r);return new G(-1==t?"":e.substring(t+r.length))},K.substring=function(){var t=arguments[0];if(3!=arguments.length&&4!=arguments.length)throw new Error("Function substring expects (string, number, number?)");var e=arguments[1].evaluate(t).stringValue(),r=Math.round(arguments[2].evaluate(t).numberValue())-1,t=4==arguments.length?r+Math.round(arguments[3].evaluate(t).numberValue()):void 0;return new G(e.substring(r,t))},K.stringLength=function(){var t,e=arguments[0];if(1==arguments.length)t=W.prototype.stringForNode(e.contextNode);else{if(2!=arguments.length)throw new Error("Function string-length expects (string?)");t=arguments[1].evaluate(e).stringValue()}return new H(t.length)},K.normalizeSpace=function(){var t,e=arguments[0];if(1==arguments.length)t=W.prototype.stringForNode(e.contextNode);else{if(2!=arguments.length)throw new Error("Function normalize-space expects (string?)");t=arguments[1].evaluate(e).stringValue()}for(var r=0,n=t.length-1;tt.isSpace(t.charCodeAt(n));)n--;for(var i="";r<=n&&tt.isSpace(t.charCodeAt(r));)r++;for(;r<=n;)if(tt.isSpace(t.charCodeAt(r)))for(i+=" ";r<=n&&tt.isSpace(t.charCodeAt(r));)r++;else i+=t.charAt(r),r++;return new G(i)},K.translate=function(t,e,r,n){if(4!=arguments.length)throw new Error("Function translate expects (string, string, string)");var e=e.evaluate(t).stringValue(),r=r.evaluate(t).stringValue(),i=n.evaluate(t).stringValue(),s=a(function(t,e,r){return e in t||(t[e]=r>i.length?"":i[r]),t},{},r);return new G(u("",h(function(t){return t in s?s[t]:t},e)))},K.boolean_=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function boolean expects (object)");return arguments[1].evaluate(t).bool()},K.not=function(t,e){if(2!=arguments.length)throw new Error("Function not expects (object)");return e.evaluate(t).bool().not()},K.true_=function(){if(1!=arguments.length)throw new Error("Function true expects ()");return z.true_},K.false_=function(){if(1!=arguments.length)throw new Error("Function false expects ()");return z.false_},K.lang=function(){var t,e=arguments[0];if(2!=arguments.length)throw new Error("Function lang expects (string)");for(var r=e.contextNode;null!=r&&9!=r.nodeType;r=r.parentNode){var n=r.getAttributeNS(m.XML_NAMESPACE_URI,"lang");if(null!=n){t=String(n);break}}if(null==t)return z.false_;e=arguments[1].evaluate(e).stringValue();return new z(t.substring(0,e.length)==e&&(t.length==e.length||"-"==t.charAt(e.length)))},K.number=function(){var t=arguments[0];if(1!=arguments.length&&2!=arguments.length)throw new Error("Function number expects (object?)");return 1==arguments.length?new H(W.prototype.stringForNode(t.contextNode)):arguments[1].evaluate(t).number()},K.sum=function(){var t=arguments[0];if(2!=arguments.length||!tt.instance_of(e=arguments[1].evaluate(t),W))throw new Error("Function sum expects (node-set)");for(var e=e.toUnsortedArray(),r=0,n=0;n<e.length;n++)r+=new H(W.prototype.stringForNode(e[n])).numberValue();return new H(r)},K.floor=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function floor expects (number)");return new H(Math.floor(arguments[1].evaluate(t).numberValue()))},K.ceiling=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function ceiling expects (number)");return new H(Math.ceil(arguments[1].evaluate(t).numberValue()))},K.round=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function round expects (number)");return new H(Math.round(arguments[1].evaluate(t).numberValue()))};var tt=new Object;tt.isAttribute=function(t){return t&&(2===t.nodeType||t.ownerElement)},tt.splitQName=function(t){var e=t.indexOf(":");return-1==e?[null,t]:[t.substring(0,e),t.substring(e+1)]},tt.resolveQName=function(t,e,r,n){t=tt.splitQName(t);return null!=t[0]?t[0]=e.getNamespace(t[0],r):n?(t[0]=e.getNamespace("",r),null==t[0]&&(t[0]="")):t[0]="",t},tt.isSpace=function(t){return 9==t||13==t||10==t||32==t},tt.isLetter=function(t){return 65<=t&&t<=90||97<=t&&t<=122||192<=t&&t<=214||216<=t&&t<=246||248<=t&&t<=255||256<=t&&t<=305||308<=t&&t<=318||321<=t&&t<=328||330<=t&&t<=382||384<=t&&t<=451||461<=t&&t<=496||500<=t&&t<=501||506<=t&&t<=535||592<=t&&t<=680||699<=t&&t<=705||902==t||904<=t&&t<=906||908==t||910<=t&&t<=929||931<=t&&t<=974||976<=t&&t<=982||986==t||988==t||990==t||992==t||994<=t&&t<=1011||1025<=t&&t<=1036||1038<=t&&t<=1103||1105<=t&&t<=1116||1118<=t&&t<=1153||1168<=t&&t<=1220||1223<=t&&t<=1224||1227<=t&&t<=1228||1232<=t&&t<=1259||1262<=t&&t<=1269||1272<=t&&t<=1273||1329<=t&&t<=1366||1369==t||1377<=t&&t<=1414||1488<=t&&t<=1514||1520<=t&&t<=1522||1569<=t&&t<=1594||1601<=t&&t<=1610||1649<=t&&t<=1719||1722<=t&&t<=1726||1728<=t&&t<=1742||1744<=t&&t<=1747||1749==t||1765<=t&&t<=1766||2309<=t&&t<=2361||2365==t||2392<=t&&t<=2401||2437<=t&&t<=2444||2447<=t&&t<=2448||2451<=t&&t<=2472||2474<=t&&t<=2480||2482==t||2486<=t&&t<=2489||2524<=t&&t<=2525||2527<=t&&t<=2529||2544<=t&&t<=2545||2565<=t&&t<=2570||2575<=t&&t<=2576||2579<=t&&t<=2600||2602<=t&&t<=2608||2610<=t&&t<=2611||2613<=t&&t<=2614||2616<=t&&t<=2617||2649<=t&&t<=2652||2654==t||2674<=t&&t<=2676||2693<=t&&t<=2699||2701==t||2703<=t&&t<=2705||2707<=t&&t<=2728||2730<=t&&t<=2736||2738<=t&&t<=2739||2741<=t&&t<=2745||2749==t||2784==t||2821<=t&&t<=2828||2831<=t&&t<=2832||2835<=t&&t<=2856||2858<=t&&t<=2864||2866<=t&&t<=2867||2870<=t&&t<=2873||2877==t||2908<=t&&t<=2909||2911<=t&&t<=2913||2949<=t&&t<=2954||2958<=t&&t<=2960||2962<=t&&t<=2965||2969<=t&&t<=2970||2972==t||2974<=t&&t<=2975||2979<=t&&t<=2980||2984<=t&&t<=2986||2990<=t&&t<=2997||2999<=t&&t<=3001||3077<=t&&t<=3084||3086<=t&&t<=3088||3090<=t&&t<=3112||3114<=t&&t<=3123||3125<=t&&t<=3129||3168<=t&&t<=3169||3205<=t&&t<=3212||3214<=t&&t<=3216||3218<=t&&t<=3240||3242<=t&&t<=3251||3253<=t&&t<=3257||3294==t||3296<=t&&t<=3297||3333<=t&&t<=3340||3342<=t&&t<=3344||3346<=t&&t<=3368||3370<=t&&t<=3385||3424<=t&&t<=3425||3585<=t&&t<=3630||3632==t||3634<=t&&t<=3635||3648<=t&&t<=3653||3713<=t&&t<=3714||3716==t||3719<=t&&t<=3720||3722==t||3725==t||3732<=t&&t<=3735||3737<=t&&t<=3743||3745<=t&&t<=3747||3749==t||3751==t||3754<=t&&t<=3755||3757<=t&&t<=3758||3760==t||3762<=t&&t<=3763||3773==t||3776<=t&&t<=3780||3904<=t&&t<=3911||3913<=t&&t<=3945||4256<=t&&t<=4293||4304<=t&&t<=4342||4352==t||4354<=t&&t<=4355||4357<=t&&t<=4359||4361==t||4363<=t&&t<=4364||4366<=t&&t<=4370||4412==t||4414==t||4416==t||4428==t||4430==t||4432==t||4436<=t&&t<=4437||4441==t||4447<=t&&t<=4449||4451==t||4453==t||4455==t||4457==t||4461<=t&&t<=4462||4466<=t&&t<=4467||4469==t||4510==t||4520==t||4523==t||4526<=t&&t<=4527||4535<=t&&t<=4536||4538==t||4540<=t&&t<=4546||4587==t||4592==t||4601==t||7680<=t&&t<=7835||7840<=t&&t<=7929||7936<=t&&t<=7957||7960<=t&&t<=7965||7968<=t&&t<=8005||8008<=t&&t<=8013||8016<=t&&t<=8023||8025==t||8027==t||8029==t||8031<=t&&t<=8061||8064<=t&&t<=8116||8118<=t&&t<=8124||8126==t||8130<=t&&t<=8132||8134<=t&&t<=8140||8144<=t&&t<=8147||8150<=t&&t<=8155||8160<=t&&t<=8172||8178<=t&&t<=8180||8182<=t&&t<=8188||8486==t||8490<=t&&t<=8491||8494==t||8576<=t&&t<=8578||12353<=t&&t<=12436||12449<=t&&t<=12538||12549<=t&&t<=12588||44032<=t&&t<=55203||19968<=t&&t<=40869||12295==t||12321<=t&&t<=12329},tt.isNCNameChar=function(t){return 48<=t&&t<=57||1632<=t&&t<=1641||1776<=t&&t<=1785||2406<=t&&t<=2415||2534<=t&&t<=2543||2662<=t&&t<=2671||2790<=t&&t<=2799||2918<=t&&t<=2927||3047<=t&&t<=3055||3174<=t&&t<=3183||3302<=t&&t<=3311||3430<=t&&t<=3439||3664<=t&&t<=3673||3792<=t&&t<=3801||3872<=t&&t<=3881||46==t||45==t||95==t||tt.isLetter(t)||768<=t&&t<=837||864<=t&&t<=865||1155<=t&&t<=1158||1425<=t&&t<=1441||1443<=t&&t<=1465||1467<=t&&t<=1469||1471==t||1473<=t&&t<=1474||1476==t||1611<=t&&t<=1618||1648==t||1750<=t&&t<=1756||1757<=t&&t<=1759||1760<=t&&t<=1764||1767<=t&&t<=1768||1770<=t&&t<=1773||2305<=t&&t<=2307||2364==t||2366<=t&&t<=2380||2381==t||2385<=t&&t<=2388||2402<=t&&t<=2403||2433<=t&&t<=2435||2492==t||2494==t||2495==t||2496<=t&&t<=2500||2503<=t&&t<=2504||2507<=t&&t<=2509||2519==t||2530<=t&&t<=2531||2562==t||2620==t||2622==t||2623==t||2624<=t&&t<=2626||2631<=t&&t<=2632||2635<=t&&t<=2637||2672<=t&&t<=2673||2689<=t&&t<=2691||2748==t||2750<=t&&t<=2757||2759<=t&&t<=2761||2763<=t&&t<=2765||2817<=t&&t<=2819||2876==t||2878<=t&&t<=2883||2887<=t&&t<=2888||2891<=t&&t<=2893||2902<=t&&t<=2903||2946<=t&&t<=2947||3006<=t&&t<=3010||3014<=t&&t<=3016||3018<=t&&t<=3021||3031==t||3073<=t&&t<=3075||3134<=t&&t<=3140||3142<=t&&t<=3144||3146<=t&&t<=3149||3157<=t&&t<=3158||3202<=t&&t<=3203||3262<=t&&t<=3268||3270<=t&&t<=3272||3274<=t&&t<=3277||3285<=t&&t<=3286||3330<=t&&t<=3331||3390<=t&&t<=3395||3398<=t&&t<=3400||3402<=t&&t<=3405||3415==t||3633==t||3636<=t&&t<=3642||3655<=t&&t<=3662||3761==t||3764<=t&&t<=3769||3771<=t&&t<=3772||3784<=t&&t<=3789||3864<=t&&t<=3865||3893==t||3895==t||3897==t||3902==t||3903==t||3953<=t&&t<=3972||3974<=t&&t<=3979||3984<=t&&t<=3989||3991==t||3993<=t&&t<=4013||4017<=t&&t<=4023||4025==t||8400<=t&&t<=8412||8417==t||12330<=t&&t<=12335||12441==t||12442==t||183==t||720==t||721==t||903==t||1600==t||3654==t||3782==t||12293==t||12337<=t&&t<=12341||12445<=t&&t<=12446||12540<=t&&t<=12542},tt.coalesceText=function(t){for(var e=t.firstChild;null!=e;e=e.nextSibling)if(3==e.nodeType||4==e.nodeType){var r,n,i=e.nodeValue,s=e;for(e=e.nextSibling;null!=e&&(3==e.nodeType||4==e.nodeType);){i+=e.nodeValue;var o=e,e=e.nextSibling;o.parentNode.removeChild(o)}if(4==s.nodeType?(r=s.parentNode,null==s.nextSibling?(r.removeChild(s),r.appendChild(r.ownerDocument.createTextNode(i))):(n=s.nextSibling,r.removeChild(s),r.insertBefore(r.ownerDocument.createTextNode(i),n))):s.nodeValue=i,null==e)break}else 1==e.nodeType&&tt.coalesceText(e)},tt.instance_of=function(t,e){for(;null!=t;){if(t.constructor===e)return!0;if(t===Object)return!1;t=t.constructor.superclass}return!1},tt.getElementById=function(t,e){if(1==t.nodeType&&(t.getAttribute("id")==e||t.getAttributeNS(null,"id")==e))return t;for(var r=t.firstChild;null!=r;r=r.nextSibling){var n=tt.getElementById(r,e);if(null!=n)return n}return null};var et,rt,nt,it,st,ot=(((at.prototype=Object.create(Error.prototype)).constructor=at).superclass=Error,at.prototype.toString=function(){return this.message},at.fromMessage=function(t,e){return new at(null,e,t)},at.INVALID_EXPRESSION_ERR=51,at.TYPE_ERR=52,at);function at(t,e,r){r=Error.call(this,function(t,e){var r=e?": "+e.toString():"";switch(t){case at.INVALID_EXPRESSION_ERR:return"Invalid expression"+r;case at.TYPE_ERR:return"Type error"+r}return null}(t,e)||r);return r.code=t,r.exception=e,r}function ht(t,e,r){this.xpath=r.parse(t),this.context=new X,this.context.namespaceResolver=new ut(e)}function ut(t){this.xpathNSResolver=t}function ct(t){this.node=t,this.namespaceResolver=new Z}function lt(t,e){switch(e==lt.ANY_TYPE&&(t.constructor===G?e=lt.STRING_TYPE:t.constructor===H?e=lt.NUMBER_TYPE:t.constructor===z?e=lt.BOOLEAN_TYPE:t.constructor===W&&(e=lt.UNORDERED_NODE_ITERATOR_TYPE)),this.resultType=e){case lt.NUMBER_TYPE:return void(this.numberValue=t.numberValue());case lt.STRING_TYPE:return void(this.stringValue=t.stringValue());case lt.BOOLEAN_TYPE:return void(this.booleanValue=t.booleanValue());case lt.ANY_UNORDERED_NODE_TYPE:case lt.FIRST_ORDERED_NODE_TYPE:if(t.constructor===W)return void(this.singleNodeValue=t.first());break;case lt.UNORDERED_NODE_ITERATOR_TYPE:case lt.ORDERED_NODE_ITERATOR_TYPE:if(t.constructor===W)return this.invalidIteratorState=!1,this.nodes=t.toArray(),void(this.iteratorIndex=0);break;case lt.UNORDERED_NODE_SNAPSHOT_TYPE:case lt.ORDERED_NODE_SNAPSHOT_TYPE:if(t.constructor===W)return this.nodes=t.toArray(),void(this.snapshotLength=this.nodes.length)}throw new ot(ot.TYPE_ERR)}function pt(s,o){s.createExpression=function(t,e){try{return new ht(t,e,o)}catch(t){throw new ot(ot.INVALID_EXPRESSION_ERR,t)}},s.createNSResolver=function(t){return new ct(t)},s.evaluate=function(t,e,r,n,i){if(n<0||9<n)throw{code:0,toString:function(){return"Request type not supported"}};return s.createExpression(t,r,o).evaluate(e,n,i)}}((ht.prototype={}).constructor=ht).superclass=Object.prototype,ht.getOwnerDocument=function(t){return 9===t.nodeType?t:t.ownerDocument},ht.detectHtmlDom=function(t){if(!t)return!1;t=ht.getOwnerDocument(t);try{return t.implementation.hasFeature("HTML","2.0")}catch(t){return!0}},ht.prototype.evaluate=function(t,e,r){return this.context.expressionContextNode=t,this.context.caseInsensitive=ht.detectHtmlDom(t),new lt(this.xpath.evaluate(this.context),e)},((ut.prototype={}).constructor=ut).superclass=Object.prototype,ut.prototype.getNamespace=function(t,e){return null==this.xpathNSResolver?null:this.xpathNSResolver.lookupNamespaceURI(t)},((ct.prototype={}).constructor=ct).superclass=Object.prototype,ct.prototype.lookupNamespaceURI=function(t){return this.namespaceResolver.getNamespace(t,this.node)},((lt.prototype={}).constructor=lt).superclass=Object.prototype,lt.prototype.iterateNext=function(){if(this.resultType!=lt.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=lt.ORDERED_NODE_ITERATOR_TYPE)throw new ot(ot.TYPE_ERR);return this.nodes[this.iteratorIndex++]},lt.prototype.snapshotItem=function(t){if(this.resultType!=lt.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=lt.ORDERED_NODE_SNAPSHOT_TYPE)throw new ot(ot.TYPE_ERR);return this.nodes[t]},lt.ANY_TYPE=0,lt.NUMBER_TYPE=1,lt.STRING_TYPE=2,lt.BOOLEAN_TYPE=3,lt.UNORDERED_NODE_ITERATOR_TYPE=4,lt.ORDERED_NODE_ITERATOR_TYPE=5,lt.UNORDERED_NODE_SNAPSHOT_TYPE=6,lt.ORDERED_NODE_SNAPSHOT_TYPE=7,lt.ANY_UNORDERED_NODE_TYPE=8,lt.FIRST_ORDERED_NODE_TYPE=9;try{var ft=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(ft=!1)}catch(t){}ft&&pt(document,new d)}catch(t){}function dt(r){return{getNamespace:function(t,e){return r(t,e)||rt.getNamespace(t,e)}}}function mt(t){return t&&"function"==typeof t.getNamespace?dt(t.getNamespace.bind(t)):"function"==typeof t?dt(t):"object"==typeof t?(e=t,dt(function(t){return e[t]})):rt;var e}function gt(t){if(null==t||t instanceof G||t instanceof z||t instanceof H||t instanceof W)return t;switch(typeof t){case"string":return new G(t);case"boolean":return new z(t);case"number":return new H(t)}var e=new W;return e.addArray([].concat(t)),e}function yt(i){return{getFunction:function(t,e){var r,n=i(t,e);return n?(r=n,function(e){var t=Array.prototype.slice.call(arguments,1).map(function(t){return t.evaluate(e)});return gt(r.apply(this,[].concat(e,t)))}):nt.getFunction(t,e)}}}function Mt(t){return t&&"function"==typeof t.getFunction?yt(t.getFunction.bind(t)):"function"==typeof t?yt(t):"object"==typeof t?(e=t,yt(function(t){return e[t]})):nt;var e}function vt(r){return{getVariable:function(t,e){return gt(r(t,e))}}}function bt(t,e,r){t in r&&(e[t]=r[t])}function wt(t){var e=new X;return t?(e.namespaceResolver=mt(t.namespaces),e.functionResolver=Mt(t.functions),e.variableResolver=function(e){if(e){if("function"==typeof e.getVariable)return vt(e.getVariable.bind(e));if("function"==typeof e)return vt(e);if("object"==typeof e)return vt(function(t){return e[t]})}return it}(t.variables),e.expressionContextNode=t.node,bt("allowAnyNamespaceForNoPrefix",e,t),bt("isHtml",e,t)):e.namespaceResolver=rt,e}pt(i,new d),et=new d,rt=new Z,nt=new Y,it=new Q,st={evaluate:function(t){return e=this.expression,t=wt(t=t),e.evaluate(t);var e},evaluateNumber:function(t){return this.evaluate(t).numberValue()},evaluateString:function(t){return this.evaluate(t).stringValue()},evaluateBoolean:function(t){return this.evaluate(t).booleanValue()},evaluateNodeSet:function(t){return this.evaluate(t).nodeset()},select:function(t){return this.evaluateNodeSet(t).toArray()},select1:function(t){return this.select(t)[0]}},i.parse=function(t){return t=et.parse(t),Object.create(st,{expression:{value:t}})},n(i,{XPath:m,XPathParser:d,XPathResult:lt,Step:L,PathExpr:C,NodeTest:D,LocationPath:I,OrOperation:y,AndOperation:M,BarOperation:O,EqualsOperation:v,NotEqualOperation:b,LessThanOperation:w,GreaterThanOperation:x,LessThanOrEqualOperation:N,GreaterThanOrEqualOperation:E,PlusOperation:_,MinusOperation:S,MultiplyOperation:A,DivOperation:T,ModOperation:P,UnaryMinusOperation:f,FunctionCall:F,VariableReference:k,XPathContext:X,XNodeSet:W,XBoolean:z,XString:G,XNumber:H,NamespaceResolver:Z,FunctionResolver:Y,VariableResolver:Q,Utilities:tt}),i.select=function(t,e,r){return i.selectWithResolver(t,e,null,r)},i.useNamespaces=function(t){var n={mappings:t||{},lookupNamespaceURI:function(t){return this.mappings[t]}};return function(t,e,r){return i.selectWithResolver(t,e,n,r)}},i.selectWithResolver=function(t,e,r,n){e=new ht(t,r,new d).evaluate(e,lt.ANY_TYPE,null);return e.resultType==lt.STRING_TYPE?e=e.stringValue:e.resultType==lt.NUMBER_TYPE?e=e.numberValue:e.resultType==lt.BOOLEAN_TYPE?e=e.booleanValue:(e=e.nodes,n&&(e=e[0])),e},i.select1=function(t,e){return i.select(t,e,!0)}}(void 0===r?{}:r)},{}],46:[function(t,e,r){const i=t("./internal/httpClient");var n=t("./internal/getTypeNamesFromCapabilities"),s=t("./internal/buildCqlFilter"),o=(t("proj4"),t("./internal/constants.js")),t=function(t){if(void 0===t.apiKey)throw new Error("Required param: apiKey");this.url=t.url||"https://wxs.ign.fr/{apiKey}/geoportail/wfs",this.apiKey=t.apiKey||null,this.headers=t.headers||{},this.defaultGeomFieldName=t.defaultGeomFieldName||o.defaultGeomFieldName,this.defaultCRS=t.defaultCRS||o.defaultCRS};t.prototype.getUrl=function(){return this.url.replace("{apiKey}",this.apiKey)},t.prototype.getDefaultParams=function(){return{service:"WFS",version:"2.0.0"}},t.prototype.getDefaultHeaders=function(){return this.headers},t.prototype.getTypeNames=function(){var t=this.getDefaultParams();return t.request="GetCapabilities",i.get(this.getUrl(),{params:t,headers:this.getDefaultHeaders(),responseType:"text",transformResponse:function(t){return n(t)}}).then(function(t){return t.data})},t.prototype.getFeatures=function(t,e){var e=e||{},r=this.getDefaultHeaders();r.Accept="application/json";var n=this.getDefaultParams();n.request="GetFeature",n.typename=t,n.outputFormat="application/json",n.srsName="CRS:84",void 0!==e._limit&&(n.count=e._limit),void 0!==e._start&&(n.startIndex=e._start),void 0!==e._propertyNames&&(n.propertyName=e._propertyNames.join());e=s(e,this.defaultGeomFieldName,this.defaultCRS),e=null!==e?"cql_filter="+encodeURI(e):"";return i.post(this.getUrl(),e,{params:n,headers:r,responseType:"text",transformResponse:function(e){try{return JSON.parse(e)}catch(t){throw{type:"error",message:e}}}}).then(function(t){return t.data})},e.exports=t},{"./internal/buildCqlFilter":47,"./internal/constants.js":48,"./internal/getTypeNamesFromCapabilities":49,"./internal/httpClient":50,proj4:42}],47:[function(t,e,r){var h=t("terraformer-wkt-parser"),u=t("@turf/flip"),c=t("./constants.js");const l=t("proj4");l.defs("EPSG:4326","+proj=longlat +datum=WGS84 +no_defs"),l.defs("EPSG:2154","+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),l.defs("EPSG:3857","+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs");const p=t("@turf/meta");e.exports=function(t,e,r){e=e||c.defaultGeomFieldName,r=r||c.defaultCRS;var n,i=[];for(n in t)if("_"!==n.charAt(0))if("bbox"==n)i.push((o=t.bbox,"BBOX("+(s=e)+","+(o="string"!=typeof(s=o)?s:s.replace(/'/g,"").split(","))[1]+","+o[0]+","+o[3]+","+o[2]+")"));else if("geom"==n){var s=t[n];if("object"!=typeof s&&(s=JSON.parse(s)),r!=c.defaultCRS){var o=s;const a=l("EPSG:4326",r);p.coordEach(o,function(t){var e=a.forward(t);t[0]=e[0],t[1]=e[1]}),s=o}s=r==c.defaultCRS?h.convert(u(s)):h.convert(s),i.push("INTERSECTS("+e+","+s+")")}else i.push(n+"='"+t[n]+"'");return 0===i.length?null:i.join(" and ")}},{"./constants.js":48,"@turf/flip":3,"@turf/meta":5,proj4:42,"terraformer-wkt-parser":43}],48:[function(t,e,r){e.exports={defaultCRS:"urn:ogc:def:crs:EPSG::4326",defaultGeomFieldName:"the_geom"}},{}],49:[function(t,e,r){var n=t("xpath"),i=t("@xmldom/xmldom").DOMParser;e.exports=function(t){var t=(new i).parseFromString(t),t=n.useNamespaces({wfs:"http://www.opengis.net/wfs/2.0"})("//wfs:Name/text()",t),e=[];return t.forEach(function(t){e.push(t.toString())}),e}},{"@xmldom/xmldom":10,xpath:45}],50:[function(o,a,t){!function(s){!function(){const t=o("axios"),e={};if("undefined"==typeof window){const n=o("http-proxy-agent");s.env.HTTP_PROXY&&(e.httpAgent=new n(s.env.HTTP_PROXY));const i=o("https-proxy-agent");s.env.HTTPS_PROXY&&(e.httpsAgent=new i(s.env.HTTPS_PROXY)),e.proxy=!1}var r=t.create(e);a.exports=r}.call(this)}.call(this,o("_process"))},{_process:41,axios:12,"http-proxy-agent":void 0,"https-proxy-agent":void 0}]},{},[1])(1)});